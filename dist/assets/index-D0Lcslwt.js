function tI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function B_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qd={exports:{}},Ya={},Yd={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function nI(){if(wy)return Pe;wy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,x={};function S(M,Y,me){this.props=M,this.context=Y,this.refs=x,this.updater=me||R}S.prototype.isReactComponent={},S.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=S.prototype;function q(M,Y,me){this.props=M,this.context=Y,this.refs=x,this.updater=me||R}var H=q.prototype=new G;H.constructor=q,N(H,S.prototype),H.isPureReactComponent=!0;var re=Array.isArray,K=Object.prototype.hasOwnProperty,ae={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(M,Y,me){var Ae,Ce={},Oe=null,Me=null;if(Y!=null)for(Ae in Y.ref!==void 0&&(Me=Y.ref),Y.key!==void 0&&(Oe=""+Y.key),Y)K.call(Y,Ae)&&!D.hasOwnProperty(Ae)&&(Ce[Ae]=Y[Ae]);var Fe=arguments.length-2;if(Fe===1)Ce.children=me;else if(1<Fe){for(var qe=Array(Fe),Et=0;Et<Fe;Et++)qe[Et]=arguments[Et+2];Ce.children=qe}if(M&&M.defaultProps)for(Ae in Fe=M.defaultProps,Fe)Ce[Ae]===void 0&&(Ce[Ae]=Fe[Ae]);return{$$typeof:n,type:M,key:Oe,ref:Me,props:Ce,_owner:ae.current}}function P(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function L(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return Y[me]})}var F=/\/+/g;function k(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):Y.toString(36)}function st(M,Y,me,Ae,Ce){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Oe){case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case n:case e:Me=!0}}if(Me)return Me=M,Ce=Ce(Me),M=Ae===""?"."+k(Me,0):Ae,re(Ce)?(me="",M!=null&&(me=M.replace(F,"$&/")+"/"),st(Ce,Y,me,"",function(Et){return Et})):Ce!=null&&(O(Ce)&&(Ce=P(Ce,me+(!Ce.key||Me&&Me.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+M)),Y.push(Ce)),1;if(Me=0,Ae=Ae===""?".":Ae+":",re(M))for(var Fe=0;Fe<M.length;Fe++){Oe=M[Fe];var qe=Ae+k(Oe,Fe);Me+=st(Oe,Y,me,qe,Ce)}else if(qe=T(M),typeof qe=="function")for(M=qe.call(M),Fe=0;!(Oe=M.next()).done;)Oe=Oe.value,qe=Ae+k(Oe,Fe++),Me+=st(Oe,Y,me,qe,Ce);else if(Oe==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Me}function Dt(M,Y,me){if(M==null)return M;var Ae=[],Ce=0;return st(M,Ae,"","",function(Oe){return Y.call(me,Oe,Ce++)}),Ae}function Vt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var $e={current:null},se={transition:null},ye={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Dt,forEach:function(M,Y,me){Dt(M,function(){Y.apply(this,arguments)},me)},count:function(M){var Y=0;return Dt(M,function(){Y++}),Y},toArray:function(M){return Dt(M,function(Y){return Y})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pe.Component=S,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=q,Pe.StrictMode=i,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Pe.act=le,Pe.cloneElement=function(M,Y,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ae=N({},M.props),Ce=M.key,Oe=M.ref,Me=M._owner;if(Y!=null){if(Y.ref!==void 0&&(Oe=Y.ref,Me=ae.current),Y.key!==void 0&&(Ce=""+Y.key),M.type&&M.type.defaultProps)var Fe=M.type.defaultProps;for(qe in Y)K.call(Y,qe)&&!D.hasOwnProperty(qe)&&(Ae[qe]=Y[qe]===void 0&&Fe!==void 0?Fe[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)Ae.children=me;else if(1<qe){Fe=Array(qe);for(var Et=0;Et<qe;Et++)Fe[Et]=arguments[Et+2];Ae.children=Fe}return{$$typeof:n,type:M.type,key:Ce,ref:Oe,props:Ae,_owner:Me}},Pe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},Pe.createElement=A,Pe.createFactory=function(M){var Y=A.bind(null,M);return Y.type=M,Y},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(M){return{$$typeof:d,render:M}},Pe.isValidElement=O,Pe.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:Vt}},Pe.memo=function(M,Y){return{$$typeof:g,type:M,compare:Y===void 0?null:Y}},Pe.startTransition=function(M){var Y=se.transition;se.transition={};try{M()}finally{se.transition=Y}},Pe.unstable_act=le,Pe.useCallback=function(M,Y){return $e.current.useCallback(M,Y)},Pe.useContext=function(M){return $e.current.useContext(M)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(M){return $e.current.useDeferredValue(M)},Pe.useEffect=function(M,Y){return $e.current.useEffect(M,Y)},Pe.useId=function(){return $e.current.useId()},Pe.useImperativeHandle=function(M,Y,me){return $e.current.useImperativeHandle(M,Y,me)},Pe.useInsertionEffect=function(M,Y){return $e.current.useInsertionEffect(M,Y)},Pe.useLayoutEffect=function(M,Y){return $e.current.useLayoutEffect(M,Y)},Pe.useMemo=function(M,Y){return $e.current.useMemo(M,Y)},Pe.useReducer=function(M,Y,me){return $e.current.useReducer(M,Y,me)},Pe.useRef=function(M){return $e.current.useRef(M)},Pe.useState=function(M){return $e.current.useState(M)},Pe.useSyncExternalStore=function(M,Y,me){return $e.current.useSyncExternalStore(M,Y,me)},Pe.useTransition=function(){return $e.current.useTransition()},Pe.version="18.3.1",Pe}var Ty;function Sl(){return Ty||(Ty=1,Yd.exports=nI()),Yd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function rI(){if(Iy)return Ya;Iy=1;var n=Sl(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var _,w={},T=null,R=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(R=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:T,ref:R,props:w,_owner:o.current}}return Ya.Fragment=t,Ya.jsx=c,Ya.jsxs=c,Ya}var Sy;function iI(){return Sy||(Sy=1,Qd.exports=rI()),Qd.exports}var $=iI(),te=Sl();const sI=B_(te),oI=tI({__proto__:null,default:sI},[te]);var tc={},Xd={exports:{}},nn={},Jd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function aI(){return Ay||(Ay=1,function(n){function e(se,ye){var le=se.length;se.push(ye);e:for(;0<le;){var M=le-1>>>1,Y=se[M];if(0<o(Y,ye))se[M]=ye,se[le]=Y,le=M;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ye=se[0],le=se.pop();if(le!==ye){se[0]=le;e:for(var M=0,Y=se.length,me=Y>>>1;M<me;){var Ae=2*(M+1)-1,Ce=se[Ae],Oe=Ae+1,Me=se[Oe];if(0>o(Ce,le))Oe<Y&&0>o(Me,Ce)?(se[M]=Me,se[Oe]=le,M=Oe):(se[M]=Ce,se[Ae]=le,M=Ae);else if(Oe<Y&&0>o(Me,le))se[M]=Me,se[Oe]=le,M=Oe;else break e}}return ye}function o(se,ye){var le=se.sortIndex-ye.sortIndex;return le!==0?le:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,w=null,T=3,R=!1,N=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(se){for(var ye=t(g);ye!==null;){if(ye.callback===null)i(g);else if(ye.startTime<=se)i(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function re(se){if(x=!1,H(se),!N)if(t(p)!==null)N=!0,Vt(K);else{var ye=t(g);ye!==null&&$e(re,ye.startTime-se)}}function K(se,ye){N=!1,x&&(x=!1,G(A),A=-1),R=!0;var le=T;try{for(H(ye),w=t(p);w!==null&&(!(w.expirationTime>ye)||se&&!L());){var M=w.callback;if(typeof M=="function"){w.callback=null,T=w.priorityLevel;var Y=M(w.expirationTime<=ye);ye=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(p)&&i(p),H(ye)}else i(p);w=t(p)}if(w!==null)var me=!0;else{var Ae=t(g);Ae!==null&&$e(re,Ae.startTime-ye),me=!1}return me}finally{w=null,T=le,R=!1}}var ae=!1,D=null,A=-1,P=5,O=-1;function L(){return!(n.unstable_now()-O<P)}function F(){if(D!==null){var se=n.unstable_now();O=se;var ye=!0;try{ye=D(!0,se)}finally{ye?k():(ae=!1,D=null)}}else ae=!1}var k;if(typeof q=="function")k=function(){q(F)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Dt=st.port2;st.port1.onmessage=F,k=function(){Dt.postMessage(null)}}else k=function(){S(F,0)};function Vt(se){D=se,ae||(ae=!0,k())}function $e(se,ye){A=S(function(){se(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){N||R||(N=!0,Vt(K))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var le=T;T=ye;try{return se()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=T;T=se;try{return ye()}finally{T=le}},n.unstable_scheduleCallback=function(se,ye,le){var M=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:_++,callback:ye,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>M?(se.sortIndex=le,e(g,se),t(p)===null&&se===t(g)&&(x?(G(A),A=-1):x=!0,$e(re,le-M))):(se.sortIndex=Y,e(p,se),N||R||(N=!0,Vt(K))),se},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(se){var ye=T;return function(){var le=T;T=ye;try{return se.apply(this,arguments)}finally{T=le}}}}(Zd)),Zd}var Ry;function lI(){return Ry||(Ry=1,Jd.exports=aI()),Jd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function uI(){if(Cy)return nn;Cy=1;var n=Sl(),e=lI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(r){return p.call(w,r)?!0:p.call(_,r)?!1:g.test(r)?w[r]=!0:(_[r]=!0,!1)}function R(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,l,h){if(s===null||typeof s>"u"||R(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(r,s,l,h,f,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new x(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(G,q);S[s]=new x(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(G,q);S[s]=new x(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(G,q);S[s]=new x(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function H(r,s,l,h){var f=S.hasOwnProperty(s)?S[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,l,f,h)&&(l=null),h||f===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),ae=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var me=!1;function Ae(r,s){if(!r||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),y=h.stack.split(`
`),E=f.length-1,C=y.length-1;1<=E&&0<=C&&f[E]!==y[C];)C--;for(;1<=E&&0<=C;E--,C--)if(f[E]!==y[C]){if(E!==1||C!==1)do if(E--,C--,0>C||f[E]!==y[C]){var b=`
`+f[E].replace(" at new "," at ");return r.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",r.displayName)),b}while(1<=E&&0<=C);break}}}finally{me=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ce(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case ae:return"Portal";case P:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case st:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Dt:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case Vt:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=qe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function hr(r){r._valueTracker||(r._valueTracker=Et(r))}function Ns(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=qe(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function zr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $i(r,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function xs(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Fe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function na(r,s){s=s.checked,s!=null&&H(r,"checked",s,!1)}function ra(r,s){na(r,s);var l=Fe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Os(r,s.type,l):s.hasOwnProperty("defaultValue")&&Os(r,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function jl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Os(r,s,l){(s!=="number"||zr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var dr=Array.isArray;function fr(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Fe(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ia(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function bs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(dr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Fe(l)}}function Ds(r,s){var l=Fe(s.value),h=Fe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function sa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ft(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ft(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var pr,oa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function $r(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qi=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(r){qi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Wi[s]=Wi[r]})});function aa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Wi.hasOwnProperty(r)&&Wi[r]?(""+s).trim():s+"px"}function la(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=aa(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var ua=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(r,s){if(s){if(ua[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ha(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=null;function Vs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,gn=null,Kn=null;function Ms(r){if(r=Va(r)){if(typeof Ls!="function")throw Error(t(280));var s=r.stateNode;s&&(s=gu(s),Ls(r.stateNode,r.type,s))}}function Gn(r){gn?Kn?Kn.push(r):Kn=[r]:gn=r}function da(){if(gn){var r=gn,s=Kn;if(Kn=gn=null,Ms(r),s)for(r=0;r<s.length;r++)Ms(s[r])}}function Ki(r,s){return r(s)}function fa(){}var mr=!1;function pa(r,s,l){if(mr)return r(s,l);mr=!0;try{return Ki(r,s,l)}finally{mr=!1,(gn!==null||Kn!==null)&&(fa(),da())}}function ot(r,s){var l=r.stateNode;if(l===null)return null;var h=gu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Fs=!1;if(d)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Fs=!1}function Gi(r,s,l,h,f,y,E,C,b){var z=Array.prototype.slice.call(arguments,3);try{s.apply(l,z)}catch(Z){this.onError(Z)}}var Qi=!1,Us=null,Pn=!1,ma=null,Ih={onError:function(r){Qi=!0,Us=r}};function js(r,s,l,h,f,y,E,C,b){Qi=!1,Us=null,Gi.apply(Ih,arguments)}function Bl(r,s,l,h,f,y,E,C,b){if(js.apply(this,arguments),Qi){if(Qi){var z=Us;Qi=!1,Us=null}else throw Error(t(198));Pn||(Pn=!0,ma=z)}}function kn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Yi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Nn(r){if(kn(r)!==r)throw Error(t(188))}function zl(r){var s=r.alternate;if(!s){if(s=kn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return Nn(f),r;if(y===h)return Nn(f),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=y;else{for(var E=!1,C=f.child;C;){if(C===l){E=!0,l=f,h=y;break}if(C===h){E=!0,h=f,l=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===l){E=!0,l=y,h=f;break}if(C===h){E=!0,h=y,l=f;break}C=C.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ga(r){return r=zl(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var zs=e.unstable_scheduleCallback,ya=e.unstable_cancelCallback,$l=e.unstable_shouldYield,Sh=e.unstable_requestPaint,He=e.unstable_now,Wl=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,Wr=e.unstable_UserBlockingPriority,yn=e.unstable_NormalPriority,va=e.unstable_LowPriority,ql=e.unstable_IdlePriority,Ji=null,an=null;function Hl(r){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ji,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Gl,_a=Math.log,Kl=Math.LN2;function Gl(r){return r>>>=0,r===0?32:31-(_a(r)/Kl|0)|0}var $s=64,Ws=4194304;function qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Zi(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var C=E&~f;C!==0?h=qr(C):(y&=E,y!==0&&(h=qr(y)))}else E=l&~f,E!==0?h=qr(E):y!==0&&(h=qr(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,y=s&-s,f>=y||f===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-qt(s),f=1<<l,h|=r[l],s&=~f;return h}function Ah(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-qt(y),C=1<<E,b=f[E];b===-1?((C&l)===0||(C&h)!==0)&&(f[E]=Ah(C,s)):b<=s&&(r.expiredLanes|=C),y&=~C}}function ln(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function es(){var r=$s;return $s<<=1,($s&4194240)===0&&($s=64),r}function Hr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Kr(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qt(s),r[s]=l}function We(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-qt(l),y=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~y}}function Gr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-qt(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var xe=0;function Qr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ql,qs,Yl,Xl,Jl,Ea=!1,Qn=[],Ct=null,xn=null,On=null,Yr=new Map,vn=new Map,Yn=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zl(r,s){switch(r){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Yr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(s.pointerId)}}function Qt(r,s,l,h,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Va(s),s!==null&&qs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Ch(r,s,l,h,f){switch(s){case"focusin":return Ct=Qt(Ct,r,s,l,h,f),!0;case"dragenter":return xn=Qt(xn,r,s,l,h,f),!0;case"mouseover":return On=Qt(On,r,s,l,h,f),!0;case"pointerover":var y=f.pointerId;return Yr.set(y,Qt(Yr.get(y)||null,r,s,l,h,f)),!0;case"gotpointercapture":return y=f.pointerId,vn.set(y,Qt(vn.get(y)||null,r,s,l,h,f)),!0}return!1}function eu(r){var s=ss(r.target);if(s!==null){var l=kn(s);if(l!==null){if(s=l.tag,s===13){if(s=Yi(l),s!==null){r.blockedOn=s,Jl(r.priority,function(){Yl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function yr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Hs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Hi=h,l.target.dispatchEvent(h),Hi=null}else return s=Va(l),s!==null&&qs(s),r.blockedOn=l,!1;s.shift()}return!0}function ts(r,s,l){yr(r)&&l.delete(s)}function tu(){Ea=!1,Ct!==null&&yr(Ct)&&(Ct=null),xn!==null&&yr(xn)&&(xn=null),On!==null&&yr(On)&&(On=null),Yr.forEach(ts),vn.forEach(ts)}function bn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ea||(Ea=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tu)))}function Dn(r){function s(f){return bn(f,r)}if(0<Qn.length){bn(Qn[0],r);for(var l=1;l<Qn.length;l++){var h=Qn[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ct!==null&&bn(Ct,r),xn!==null&&bn(xn,r),On!==null&&bn(On,r),Yr.forEach(s),vn.forEach(s),l=0;l<Yn.length;l++)h=Yn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Yn.length&&(l=Yn[0],l.blockedOn===null);)eu(l),l.blockedOn===null&&Yn.shift()}var vr=re.ReactCurrentBatchConfig,Xr=!0;function Xe(r,s,l,h){var f=xe,y=vr.transition;vr.transition=null;try{xe=1,wa(r,s,l,h)}finally{xe=f,vr.transition=y}}function Ph(r,s,l,h){var f=xe,y=vr.transition;vr.transition=null;try{xe=4,wa(r,s,l,h)}finally{xe=f,vr.transition=y}}function wa(r,s,l,h){if(Xr){var f=Hs(r,s,l,h);if(f===null)Uh(r,s,h,ns,l),Zl(r,h);else if(Ch(f,r,s,l,h))h.stopPropagation();else if(Zl(r,h),s&4&&-1<Rh.indexOf(r)){for(;f!==null;){var y=Va(f);if(y!==null&&Ql(y),y=Hs(r,s,l,h),y===null&&Uh(r,s,h,ns,l),y===f)break;f=y}f!==null&&h.stopPropagation()}else Uh(r,s,h,null,l)}}var ns=null;function Hs(r,s,l,h){if(ns=null,r=Vs(h),r=ss(r),r!==null)if(s=kn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Yi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ns=r,null}function Ta(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wl()){case Xi:return 1;case Wr:return 4;case yn:case va:return 16;case ql:return 536870912;default:return 16}default:return 16}}var un=null,Ks=null,Yt=null;function Ia(){if(Yt)return Yt;var r,s=Ks,l=s.length,h,f="value"in un?un.value:un.textContent,y=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===f[y-h];h++);return Yt=f.slice(r,1<h?1-h:void 0)}function Gs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xn(){return!0}function Sa(){return!1}function Pt(r){function s(l,h,f,y,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xn:Sa,this.isPropagationStopped=Sa,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),s}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Pt(Vn),Jn=le({},Vn,{view:0,detail:0}),kh=Pt(Jn),Ys,_r,Jr,rs=le({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(Ys=r.screenX-Jr.screenX,_r=r.screenY-Jr.screenY):_r=Ys=0,Jr=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:_r}}),Xs=Pt(rs),Aa=le({},rs,{dataTransfer:0}),nu=Pt(Aa),Js=le({},Jn,{relatedTarget:0}),Zs=Pt(Js),ru=le({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=Pt(ru),iu=le({},Vn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),su=Pt(iu),ou=le({},Vn,{data:0}),Ra=Pt(ou),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=au[r])?!!s[r]:!1}function Zn(){return lu}var u=le({},Jn,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Pt(u),v=le({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Pt(v),U=le({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),W=Pt(U),ie=le({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Pt(ie),mt=le({},rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Pt(mt),wt=[9,13,27,32],ut=d&&"CompositionEvent"in window,_n=null;d&&"documentMode"in document&&(_n=document.documentMode);var cn=d&&"TextEvent"in window&&!_n,is=d&&(!ut||_n&&8<_n&&11>=_n),to=" ",mm=!1;function gm(r,s){switch(r){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function J0(r,s){switch(r){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(mm=!0,to);case"textInput":return r=s.data,r===to&&mm?null:r;default:return null}}function Z0(r,s){if(no)return r==="compositionend"||!ut&&gm(r,s)?(r=Ia(),Yt=Ks=un=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var eT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!eT[r.type]:s==="textarea"}function _m(r,s,l,h){Gn(h),s=fu(s,"onChange"),0<s.length&&(l=new Qs("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Ca=null,Pa=null;function tT(r){Mm(r,0)}function uu(r){var s=ao(r);if(Ns(s))return r}function nT(r,s){if(r==="change")return s}var Em=!1;if(d){var Nh;if(d){var xh="oninput"in document;if(!xh){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),xh=typeof wm.oninput=="function"}Nh=xh}else Nh=!1;Em=Nh&&(!document.documentMode||9<document.documentMode)}function Tm(){Ca&&(Ca.detachEvent("onpropertychange",Im),Pa=Ca=null)}function Im(r){if(r.propertyName==="value"&&uu(Pa)){var s=[];_m(s,Pa,r,Vs(r)),pa(tT,s)}}function rT(r,s,l){r==="focusin"?(Tm(),Ca=s,Pa=l,Ca.attachEvent("onpropertychange",Im)):r==="focusout"&&Tm()}function iT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uu(Pa)}function sT(r,s){if(r==="click")return uu(s)}function oT(r,s){if(r==="input"||r==="change")return uu(s)}function aT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ln=typeof Object.is=="function"?Object.is:aT;function ka(r,s){if(Ln(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!Ln(r[f],s[f]))return!1}return!0}function Sm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Am(r,s){var l=Sm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sm(l)}}function Rm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Rm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Cm(){for(var r=window,s=zr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=zr(r.document)}return s}function Oh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function lT(r){var s=Cm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Rm(l.ownerDocument.documentElement,l)){if(h!==null&&Oh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,y=Math.min(h.start,f);h=h.end===void 0?y:Math.min(h.end,f),!r.extend&&y>h&&(f=h,h=y,y=f),f=Am(l,y);var E=Am(l,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uT=d&&"documentMode"in document&&11>=document.documentMode,ro=null,bh=null,Na=null,Dh=!1;function Pm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dh||ro==null||ro!==zr(h)||(h=ro,"selectionStart"in h&&Oh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Na&&ka(Na,h)||(Na=h,h=fu(bh,"onSelect"),0<h.length&&(s=new Qs("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=ro)))}function cu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var io={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},Vh={},km={};d&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function hu(r){if(Vh[r])return Vh[r];if(!io[r])return r;var s=io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in km)return Vh[r]=s[l];return r}var Nm=hu("animationend"),xm=hu("animationiteration"),Om=hu("animationstart"),bm=hu("transitionend"),Dm=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(r,s){Dm.set(r,s),a(s,[r])}for(var Lh=0;Lh<Vm.length;Lh++){var Mh=Vm[Lh],cT=Mh.toLowerCase(),hT=Mh[0].toUpperCase()+Mh.slice(1);Zr(cT,"on"+hT)}Zr(Nm,"onAnimationEnd"),Zr(xm,"onAnimationIteration"),Zr(Om,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(bm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function Lm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Bl(h,s,void 0,r),r.currentTarget=null}function Mm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var C=h[E],b=C.instance,z=C.currentTarget;if(C=C.listener,b!==y&&f.isPropagationStopped())break e;Lm(f,C,z),y=b}else for(E=0;E<h.length;E++){if(C=h[E],b=C.instance,z=C.currentTarget,C=C.listener,b!==y&&f.isPropagationStopped())break e;Lm(f,C,z),y=b}}}if(Pn)throw r=ma,Pn=!1,ma=null,r}function Ge(r,s){var l=s[qh];l===void 0&&(l=s[qh]=new Set);var h=r+"__bubble";l.has(h)||(Fm(s,r,2,!1),l.add(h))}function Fh(r,s,l){var h=0;s&&(h|=4),Fm(l,r,h,s)}var du="_reactListening"+Math.random().toString(36).slice(2);function Oa(r){if(!r[du]){r[du]=!0,i.forEach(function(l){l!=="selectionchange"&&(dT.has(l)||Fh(l,!1,r),Fh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[du]||(s[du]=!0,Fh("selectionchange",!1,s))}}function Fm(r,s,l,h){switch(Ta(s)){case 1:var f=Xe;break;case 4:f=Ph;break;default:f=wa}l=f.bind(null,s,l,r),f=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Uh(r,s,l,h,f){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var b=E.tag;if((b===3||b===4)&&(b=E.stateNode.containerInfo,b===f||b.nodeType===8&&b.parentNode===f))return;E=E.return}for(;C!==null;){if(E=ss(C),E===null)return;if(b=E.tag,b===5||b===6){h=y=E;continue e}C=C.parentNode}}h=h.return}pa(function(){var z=y,Z=Vs(l),ee=[];e:{var J=Dm.get(r);if(J!==void 0){var oe=Qs,de=r;switch(r){case"keypress":if(Gs(l)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":de="focus",oe=Zs;break;case"focusout":de="blur",oe=Zs;break;case"beforeblur":case"afterblur":oe=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=W;break;case Nm:case xm:case Om:oe=Er;break;case bm:oe=ze;break;case"scroll":oe=kh;break;case"wheel":oe=be;break;case"copy":case"cut":case"paste":oe=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=I}var fe=(s&4)!==0,at=!fe&&r==="scroll",j=fe?J!==null?J+"Capture":null:J;fe=[];for(var V=z,B;V!==null;){B=V;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,j!==null&&(ne=ot(V,j),ne!=null&&fe.push(ba(V,ne,B)))),at)break;V=V.return}0<fe.length&&(J=new oe(J,de,null,l,Z),ee.push({event:J,listeners:fe}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",J&&l!==Hi&&(de=l.relatedTarget||l.fromElement)&&(ss(de)||de[wr]))break e;if((oe||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,oe?(de=l.relatedTarget||l.toElement,oe=z,de=de?ss(de):null,de!==null&&(at=kn(de),de!==at||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=z),oe!==de)){if(fe=Xs,ne="onMouseLeave",j="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(fe=I,ne="onPointerLeave",j="onPointerEnter",V="pointer"),at=oe==null?J:ao(oe),B=de==null?J:ao(de),J=new fe(ne,V+"leave",oe,l,Z),J.target=at,J.relatedTarget=B,ne=null,ss(Z)===z&&(fe=new fe(j,V+"enter",de,l,Z),fe.target=B,fe.relatedTarget=at,ne=fe),at=ne,oe&&de)t:{for(fe=oe,j=de,V=0,B=fe;B;B=so(B))V++;for(B=0,ne=j;ne;ne=so(ne))B++;for(;0<V-B;)fe=so(fe),V--;for(;0<B-V;)j=so(j),B--;for(;V--;){if(fe===j||j!==null&&fe===j.alternate)break t;fe=so(fe),j=so(j)}fe=null}else fe=null;oe!==null&&Um(ee,J,oe,fe,!1),de!==null&&at!==null&&Um(ee,at,de,fe,!0)}}e:{if(J=z?ao(z):window,oe=J.nodeName&&J.nodeName.toLowerCase(),oe==="select"||oe==="input"&&J.type==="file")var pe=nT;else if(vm(J))if(Em)pe=oT;else{pe=iT;var ve=rT}else(oe=J.nodeName)&&oe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=sT);if(pe&&(pe=pe(r,z))){_m(ee,pe,l,Z);break e}ve&&ve(r,J,z),r==="focusout"&&(ve=J._wrapperState)&&ve.controlled&&J.type==="number"&&Os(J,"number",J.value)}switch(ve=z?ao(z):window,r){case"focusin":(vm(ve)||ve.contentEditable==="true")&&(ro=ve,bh=z,Na=null);break;case"focusout":Na=bh=ro=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,Pm(ee,l,Z);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":Pm(ee,l,Z)}var _e;if(ut)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else no?gm(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(is&&l.locale!=="ko"&&(no||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&no&&(_e=Ia()):(un=Z,Ks="value"in un?un.value:un.textContent,no=!0)),ve=fu(z,Te),0<ve.length&&(Te=new Ra(Te,r,null,l,Z),ee.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=ym(l),_e!==null&&(Te.data=_e)))),(_e=cn?J0(r,l):Z0(r,l))&&(z=fu(z,"onBeforeInput"),0<z.length&&(Z=new Ra("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:z}),Z.data=_e))}Mm(ee,s)})}function ba(r,s,l){return{instance:r,listener:s,currentTarget:l}}function fu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=ot(r,l),y!=null&&h.unshift(ba(r,y,f)),y=ot(r,s),y!=null&&h.push(ba(r,y,f))),r=r.return}return h}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Um(r,s,l,h,f){for(var y=s._reactName,E=[];l!==null&&l!==h;){var C=l,b=C.alternate,z=C.stateNode;if(b!==null&&b===h)break;C.tag===5&&z!==null&&(C=z,f?(b=ot(l,y),b!=null&&E.unshift(ba(l,b,C))):f||(b=ot(l,y),b!=null&&E.push(ba(l,b,C)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var fT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function jm(r){return(typeof r=="string"?r:""+r).replace(fT,`
`).replace(pT,"")}function pu(r,s,l){if(s=jm(s),jm(r)!==s&&l)throw Error(t(425))}function mu(){}var jh=null,Bh=null;function zh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(r){return Bm.resolve(null).then(r).catch(yT)}:$h;function yT(r){setTimeout(function(){throw r})}function Wh(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Dn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Dn(s)}function ei(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function zm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),er="__reactFiber$"+oo,Da="__reactProps$"+oo,wr="__reactContainer$"+oo,qh="__reactEvents$"+oo,vT="__reactListeners$"+oo,_T="__reactHandles$"+oo;function ss(r){var s=r[er];if(s)return s;for(var l=r.parentNode;l;){if(s=l[wr]||l[er]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=zm(r);r!==null;){if(l=r[er])return l;r=zm(r)}return s}r=l,l=r.parentNode}return null}function Va(r){return r=r[er]||r[wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function gu(r){return r[Da]||null}var Hh=[],lo=-1;function ti(r){return{current:r}}function Qe(r){0>lo||(r.current=Hh[lo],Hh[lo]=null,lo--)}function Ke(r,s){lo++,Hh[lo]=r.current,r.current=s}var ni={},Lt=ti(ni),Xt=ti(!1),os=ni;function uo(r,s){var l=r.type.contextTypes;if(!l)return ni;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in l)f[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function yu(){Qe(Xt),Qe(Lt)}function $m(r,s,l){if(Lt.current!==ni)throw Error(t(168));Ke(Lt,s),Ke(Xt,l)}function Wm(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Me(r)||"Unknown",f));return le({},l,h)}function vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ni,os=Lt.current,Ke(Lt,r),Ke(Xt,Xt.current),!0}function qm(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=Wm(r,s,os),h.__reactInternalMemoizedMergedChildContext=r,Qe(Xt),Qe(Lt),Ke(Lt,r)):Qe(Xt),Ke(Xt,l)}var Tr=null,_u=!1,Kh=!1;function Hm(r){Tr===null?Tr=[r]:Tr.push(r)}function ET(r){_u=!0,Hm(r)}function ri(){if(!Kh&&Tr!==null){Kh=!0;var r=0,s=xe;try{var l=Tr;for(xe=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Tr=null,_u=!1}catch(f){throw Tr!==null&&(Tr=Tr.slice(r+1)),zs(Xi,ri),f}finally{xe=s,Kh=!1}}return null}var co=[],ho=0,Eu=null,wu=0,En=[],wn=0,as=null,Ir=1,Sr="";function ls(r,s){co[ho++]=wu,co[ho++]=Eu,Eu=r,wu=s}function Km(r,s,l){En[wn++]=Ir,En[wn++]=Sr,En[wn++]=as,as=r;var h=Ir;r=Sr;var f=32-qt(h)-1;h&=~(1<<f),l+=1;var y=32-qt(s)+f;if(30<y){var E=f-f%5;y=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Ir=1<<32-qt(s)+f|l<<f|h,Sr=y+r}else Ir=1<<y|l<<f|h,Sr=r}function Gh(r){r.return!==null&&(ls(r,1),Km(r,1,0))}function Qh(r){for(;r===Eu;)Eu=co[--ho],co[ho]=null,wu=co[--ho],co[ho]=null;for(;r===as;)as=En[--wn],En[wn]=null,Sr=En[--wn],En[wn]=null,Ir=En[--wn],En[wn]=null}var hn=null,dn=null,Je=!1,Mn=null;function Gm(r,s){var l=An(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Qm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,hn=r,dn=ei(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,hn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=as!==null?{id:Ir,overflow:Sr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=An(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,hn=r,dn=null,!0):!1;default:return!1}}function Yh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Xh(r){if(Je){var s=dn;if(s){var l=s;if(!Qm(r,s)){if(Yh(r))throw Error(t(418));s=ei(l.nextSibling);var h=hn;s&&Qm(r,s)?Gm(h,l):(r.flags=r.flags&-4097|2,Je=!1,hn=r)}}else{if(Yh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,hn=r}}}function Ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;hn=r}function Tu(r){if(r!==hn)return!1;if(!Je)return Ym(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!zh(r.type,r.memoizedProps)),s&&(s=dn)){if(Yh(r))throw Xm(),Error(t(418));for(;s;)Gm(r,s),s=ei(s.nextSibling)}if(Ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){dn=ei(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=hn?ei(r.stateNode.nextSibling):null;return!0}function Xm(){for(var r=dn;r;)r=ei(r.nextSibling)}function fo(){dn=hn=null,Je=!1}function Jh(r){Mn===null?Mn=[r]:Mn.push(r)}var wT=re.ReactCurrentBatchConfig;function La(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var C=f.refs;E===null?delete C[y]:C[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Iu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Jm(r){var s=r._init;return s(r._payload)}function Zm(r){function s(j,V){if(r){var B=j.deletions;B===null?(j.deletions=[V],j.flags|=16):B.push(V)}}function l(j,V){if(!r)return null;for(;V!==null;)s(j,V),V=V.sibling;return null}function h(j,V){for(j=new Map;V!==null;)V.key!==null?j.set(V.key,V):j.set(V.index,V),V=V.sibling;return j}function f(j,V){return j=hi(j,V),j.index=0,j.sibling=null,j}function y(j,V,B){return j.index=B,r?(B=j.alternate,B!==null?(B=B.index,B<V?(j.flags|=2,V):B):(j.flags|=2,V)):(j.flags|=1048576,V)}function E(j){return r&&j.alternate===null&&(j.flags|=2),j}function C(j,V,B,ne){return V===null||V.tag!==6?(V=$d(B,j.mode,ne),V.return=j,V):(V=f(V,B),V.return=j,V)}function b(j,V,B,ne){var pe=B.type;return pe===D?Z(j,V,B.props.children,ne,B.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&Jm(pe)===V.type)?(ne=f(V,B.props),ne.ref=La(j,V,B),ne.return=j,ne):(ne=Ku(B.type,B.key,B.props,null,j.mode,ne),ne.ref=La(j,V,B),ne.return=j,ne)}function z(j,V,B,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Wd(B,j.mode,ne),V.return=j,V):(V=f(V,B.children||[]),V.return=j,V)}function Z(j,V,B,ne,pe){return V===null||V.tag!==7?(V=gs(B,j.mode,ne,pe),V.return=j,V):(V=f(V,B),V.return=j,V)}function ee(j,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=$d(""+V,j.mode,B),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case K:return B=Ku(V.type,V.key,V.props,null,j.mode,B),B.ref=La(j,null,V),B.return=j,B;case ae:return V=Wd(V,j.mode,B),V.return=j,V;case Vt:var ne=V._init;return ee(j,ne(V._payload),B)}if(dr(V)||ye(V))return V=gs(V,j.mode,B,null),V.return=j,V;Iu(j,V)}return null}function J(j,V,B,ne){var pe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return pe!==null?null:C(j,V,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case K:return B.key===pe?b(j,V,B,ne):null;case ae:return B.key===pe?z(j,V,B,ne):null;case Vt:return pe=B._init,J(j,V,pe(B._payload),ne)}if(dr(B)||ye(B))return pe!==null?null:Z(j,V,B,ne,null);Iu(j,B)}return null}function oe(j,V,B,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return j=j.get(B)||null,C(V,j,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case K:return j=j.get(ne.key===null?B:ne.key)||null,b(V,j,ne,pe);case ae:return j=j.get(ne.key===null?B:ne.key)||null,z(V,j,ne,pe);case Vt:var ve=ne._init;return oe(j,V,B,ve(ne._payload),pe)}if(dr(ne)||ye(ne))return j=j.get(B)||null,Z(V,j,ne,pe,null);Iu(V,ne)}return null}function de(j,V,B,ne){for(var pe=null,ve=null,_e=V,Te=V=0,St=null;_e!==null&&Te<B.length;Te++){_e.index>Te?(St=_e,_e=null):St=_e.sibling;var Le=J(j,_e,B[Te],ne);if(Le===null){_e===null&&(_e=St);break}r&&_e&&Le.alternate===null&&s(j,_e),V=y(Le,V,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le,_e=St}if(Te===B.length)return l(j,_e),Je&&ls(j,Te),pe;if(_e===null){for(;Te<B.length;Te++)_e=ee(j,B[Te],ne),_e!==null&&(V=y(_e,V,Te),ve===null?pe=_e:ve.sibling=_e,ve=_e);return Je&&ls(j,Te),pe}for(_e=h(j,_e);Te<B.length;Te++)St=oe(_e,j,Te,B[Te],ne),St!==null&&(r&&St.alternate!==null&&_e.delete(St.key===null?Te:St.key),V=y(St,V,Te),ve===null?pe=St:ve.sibling=St,ve=St);return r&&_e.forEach(function(di){return s(j,di)}),Je&&ls(j,Te),pe}function fe(j,V,B,ne){var pe=ye(B);if(typeof pe!="function")throw Error(t(150));if(B=pe.call(B),B==null)throw Error(t(151));for(var ve=pe=null,_e=V,Te=V=0,St=null,Le=B.next();_e!==null&&!Le.done;Te++,Le=B.next()){_e.index>Te?(St=_e,_e=null):St=_e.sibling;var di=J(j,_e,Le.value,ne);if(di===null){_e===null&&(_e=St);break}r&&_e&&di.alternate===null&&s(j,_e),V=y(di,V,Te),ve===null?pe=di:ve.sibling=di,ve=di,_e=St}if(Le.done)return l(j,_e),Je&&ls(j,Te),pe;if(_e===null){for(;!Le.done;Te++,Le=B.next())Le=ee(j,Le.value,ne),Le!==null&&(V=y(Le,V,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le);return Je&&ls(j,Te),pe}for(_e=h(j,_e);!Le.done;Te++,Le=B.next())Le=oe(_e,j,Te,Le.value,ne),Le!==null&&(r&&Le.alternate!==null&&_e.delete(Le.key===null?Te:Le.key),V=y(Le,V,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le);return r&&_e.forEach(function(eI){return s(j,eI)}),Je&&ls(j,Te),pe}function at(j,V,B,ne){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case K:e:{for(var pe=B.key,ve=V;ve!==null;){if(ve.key===pe){if(pe=B.type,pe===D){if(ve.tag===7){l(j,ve.sibling),V=f(ve,B.props.children),V.return=j,j=V;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&Jm(pe)===ve.type){l(j,ve.sibling),V=f(ve,B.props),V.ref=La(j,ve,B),V.return=j,j=V;break e}l(j,ve);break}else s(j,ve);ve=ve.sibling}B.type===D?(V=gs(B.props.children,j.mode,ne,B.key),V.return=j,j=V):(ne=Ku(B.type,B.key,B.props,null,j.mode,ne),ne.ref=La(j,V,B),ne.return=j,j=ne)}return E(j);case ae:e:{for(ve=B.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){l(j,V.sibling),V=f(V,B.children||[]),V.return=j,j=V;break e}else{l(j,V);break}else s(j,V);V=V.sibling}V=Wd(B,j.mode,ne),V.return=j,j=V}return E(j);case Vt:return ve=B._init,at(j,V,ve(B._payload),ne)}if(dr(B))return de(j,V,B,ne);if(ye(B))return fe(j,V,B,ne);Iu(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(l(j,V.sibling),V=f(V,B),V.return=j,j=V):(l(j,V),V=$d(B,j.mode,ne),V.return=j,j=V),E(j)):l(j,V)}return at}var po=Zm(!0),eg=Zm(!1),Su=ti(null),Au=null,mo=null,Zh=null;function ed(){Zh=mo=Au=null}function td(r){var s=Su.current;Qe(Su),r._currentValue=s}function nd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function go(r,s){Au=r,Zh=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Zt=!0),r.firstContext=null)}function Tn(r){var s=r._currentValue;if(Zh!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(Au===null)throw Error(t(308));mo=r,Au.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var us=null;function rd(r){us===null?us=[r]:us.push(r)}function tg(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,rd(s)):(l.next=f.next,f.next=l),s.interleaved=l,Ar(r,h)}function Ar(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ii=!1;function id(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ng(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Rr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function si(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ve&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Ar(r,l)}return f=h.interleaved,f===null?(s.next=s,rd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Ar(r,l)}function Ru(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Gr(r,l)}}function rg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?f=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?f=y=s:y=y.next=s}else f=y=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Cu(r,s,l,h){var f=r.updateQueue;ii=!1;var y=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var b=C,z=b.next;b.next=null,E===null?y=z:E.next=z,E=b;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==E&&(C===null?Z.firstBaseUpdate=z:C.next=z,Z.lastBaseUpdate=b))}if(y!==null){var ee=f.baseState;E=0,Z=z=b=null,C=y;do{var J=C.lane,oe=C.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var de=r,fe=C;switch(J=s,oe=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ee=de.call(oe,ee,J);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,J=typeof de=="function"?de.call(oe,ee,J):de,J==null)break e;ee=le({},ee,J);break e;case 2:ii=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[C]:J.push(C))}else oe={eventTime:oe,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(z=Z=oe,b=ee):Z=Z.next=oe,E|=J;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;J=C,C=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(b=ee),f.baseState=b,f.firstBaseUpdate=z,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else y===null&&(f.shared.lanes=0);ds|=E,r.lanes=E,r.memoizedState=ee}}function ig(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ma={},tr=ti(Ma),Fa=ti(Ma),Ua=ti(Ma);function cs(r){if(r===Ma)throw Error(t(174));return r}function sd(r,s){switch(Ke(Ua,s),Ke(Fa,r),Ke(tr,Ma),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=pt(s,r)}Qe(tr),Ke(tr,s)}function yo(){Qe(tr),Qe(Fa),Qe(Ua)}function sg(r){cs(Ua.current);var s=cs(tr.current),l=pt(s,r.type);s!==l&&(Ke(Fa,r),Ke(tr,l))}function od(r){Fa.current===r&&(Qe(tr),Qe(Fa))}var et=ti(0);function Pu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ad=[];function ld(){for(var r=0;r<ad.length;r++)ad[r]._workInProgressVersionPrimary=null;ad.length=0}var ku=re.ReactCurrentDispatcher,ud=re.ReactCurrentBatchConfig,hs=0,tt=null,gt=null,Tt=null,Nu=!1,ja=!1,Ba=0,TT=0;function Mt(){throw Error(t(321))}function cd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Ln(r[l],s[l]))return!1;return!0}function hd(r,s,l,h,f,y){if(hs=y,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ku.current=r===null||r.memoizedState===null?RT:CT,r=l(h,f),ja){y=0;do{if(ja=!1,Ba=0,25<=y)throw Error(t(301));y+=1,Tt=gt=null,s.updateQueue=null,ku.current=PT,r=l(h,f)}while(ja)}if(ku.current=bu,s=gt!==null&&gt.next!==null,hs=0,Tt=gt=tt=null,Nu=!1,s)throw Error(t(300));return r}function dd(){var r=Ba!==0;return Ba=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?tt.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function In(){if(gt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var s=Tt===null?tt.memoizedState:Tt.next;if(s!==null)Tt=s,gt=r;else{if(r===null)throw Error(t(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?tt.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function za(r,s){return typeof s=="function"?s(r):s}function fd(r){var s=In(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=gt,f=h.baseQueue,y=l.pending;if(y!==null){if(f!==null){var E=f.next;f.next=y.next,y.next=E}h.baseQueue=f=y,l.pending=null}if(f!==null){y=f.next,h=h.baseState;var C=E=null,b=null,z=y;do{var Z=z.lane;if((hs&Z)===Z)b!==null&&(b=b.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var ee={lane:Z,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};b===null?(C=b=ee,E=h):b=b.next=ee,tt.lanes|=Z,ds|=Z}z=z.next}while(z!==null&&z!==y);b===null?E=h:b.next=C,Ln(h,s.memoizedState)||(Zt=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=b,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do y=f.lane,tt.lanes|=y,ds|=y,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function pd(r){var s=In(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,y=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do y=r(y,E.action),E=E.next;while(E!==f);Ln(y,s.memoizedState)||(Zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function og(){}function ag(r,s){var l=tt,h=In(),f=s(),y=!Ln(h.memoizedState,f);if(y&&(h.memoizedState=f,Zt=!0),h=h.queue,md(cg.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,$a(9,ug.bind(null,l,h,f,s),void 0,null),It===null)throw Error(t(349));(hs&30)!==0||lg(l,s,f)}return f}function lg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ug(r,s,l,h){s.value=l,s.getSnapshot=h,hg(s)&&dg(r)}function cg(r,s,l){return l(function(){hg(s)&&dg(r)})}function hg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Ln(r,l)}catch{return!0}}function dg(r){var s=Ar(r,1);s!==null&&Bn(s,r,1,-1)}function fg(r){var s=nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=AT.bind(null,tt,r),[s.memoizedState,r]}function $a(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function pg(){return In().memoizedState}function xu(r,s,l,h){var f=nr();tt.flags|=r,f.memoizedState=$a(1|s,l,void 0,h===void 0?null:h)}function Ou(r,s,l,h){var f=In();h=h===void 0?null:h;var y=void 0;if(gt!==null){var E=gt.memoizedState;if(y=E.destroy,h!==null&&cd(h,E.deps)){f.memoizedState=$a(s,l,y,h);return}}tt.flags|=r,f.memoizedState=$a(1|s,l,y,h)}function mg(r,s){return xu(8390656,8,r,s)}function md(r,s){return Ou(2048,8,r,s)}function gg(r,s){return Ou(4,2,r,s)}function yg(r,s){return Ou(4,4,r,s)}function vg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function _g(r,s,l){return l=l!=null?l.concat([r]):null,Ou(4,4,vg.bind(null,s,r),l)}function gd(){}function Eg(r,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&cd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function wg(r,s){var l=In();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&cd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Tg(r,s,l){return(hs&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=l):(Ln(l,s)||(l=es(),tt.lanes|=l,ds|=l,r.baseState=!0),s)}function IT(r,s){var l=xe;xe=l!==0&&4>l?l:4,r(!0);var h=ud.transition;ud.transition={};try{r(!1),s()}finally{xe=l,ud.transition=h}}function Ig(){return In().memoizedState}function ST(r,s,l){var h=ui(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Sg(r))Ag(s,l);else if(l=tg(r,s,l,h),l!==null){var f=Gt();Bn(l,r,h,f),Rg(l,s,h)}}function AT(r,s,l){var h=ui(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sg(r))Ag(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,C=y(E,l);if(f.hasEagerState=!0,f.eagerState=C,Ln(C,E)){var b=s.interleaved;b===null?(f.next=f,rd(s)):(f.next=b.next,b.next=f),s.interleaved=f;return}}catch{}finally{}l=tg(r,s,f,h),l!==null&&(f=Gt(),Bn(l,r,h,f),Rg(l,s,h))}}function Sg(r){var s=r.alternate;return r===tt||s!==null&&s===tt}function Ag(r,s){ja=Nu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Rg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Gr(r,l)}}var bu={readContext:Tn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},RT={readContext:Tn,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:mg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,xu(4194308,4,vg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return xu(4194308,4,r,s)},useInsertionEffect:function(r,s){return xu(4,2,r,s)},useMemo:function(r,s){var l=nr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=nr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=ST.bind(null,tt,r),[h.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:fg,useDebugValue:gd,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=fg(!1),s=r[0];return r=IT.bind(null,r[1]),nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=tt,f=nr();if(Je){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),It===null)throw Error(t(349));(hs&30)!==0||lg(h,s,l)}f.memoizedState=l;var y={value:l,getSnapshot:s};return f.queue=y,mg(cg.bind(null,h,y,r),[r]),h.flags|=2048,$a(9,ug.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=nr(),s=It.identifierPrefix;if(Je){var l=Sr,h=Ir;l=(h&~(1<<32-qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ba++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=TT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},CT={readContext:Tn,useCallback:Eg,useContext:Tn,useEffect:md,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:wg,useReducer:fd,useRef:pg,useState:function(){return fd(za)},useDebugValue:gd,useDeferredValue:function(r){var s=In();return Tg(s,gt.memoizedState,r)},useTransition:function(){var r=fd(za)[0],s=In().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1},PT={readContext:Tn,useCallback:Eg,useContext:Tn,useEffect:md,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:wg,useReducer:pd,useRef:pg,useState:function(){return pd(za)},useDebugValue:gd,useDeferredValue:function(r){var s=In();return gt===null?s.memoizedState=r:Tg(s,gt.memoizedState,r)},useTransition:function(){var r=pd(za)[0],s=In().memoizedState;return[r,s]},useMutableSource:og,useSyncExternalStore:ag,useId:Ig,unstable_isNewReconciler:!1};function Fn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function yd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Du={isMounted:function(r){return(r=r._reactInternals)?kn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Gt(),f=ui(r),y=Rr(h,f);y.payload=s,l!=null&&(y.callback=l),s=si(r,y,f),s!==null&&(Bn(s,r,f,h),Ru(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Gt(),f=ui(r),y=Rr(h,f);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=si(r,y,f),s!==null&&(Bn(s,r,f,h),Ru(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Gt(),h=ui(r),f=Rr(l,h);f.tag=2,s!=null&&(f.callback=s),s=si(r,f,h),s!==null&&(Bn(s,r,h,l),Ru(s,r,h))}};function Cg(r,s,l,h,f,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!ka(l,h)||!ka(f,y):!0}function Pg(r,s,l){var h=!1,f=ni,y=s.contextType;return typeof y=="object"&&y!==null?y=Tn(y):(f=Jt(s)?os:Lt.current,h=s.contextTypes,y=(h=h!=null)?uo(r,f):ni),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Du,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=y),s}function kg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Du.enqueueReplaceState(s,s.state,null)}function vd(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},id(r);var y=s.contextType;typeof y=="object"&&y!==null?f.context=Tn(y):(y=Jt(s)?os:Lt.current,f.context=uo(r,y)),f.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(yd(r,s,y,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Du.enqueueReplaceState(f,f.state,null),Cu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function vo(r,s){try{var l="",h=s;do l+=Ce(h),h=h.return;while(h);var f=l}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:f,digest:null}}function _d(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Ed(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function Ng(r,s,l){l=Rr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Bu||(Bu=!0,Vd=h),Ed(r,s)},l}function xg(r,s,l){l=Rr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){Ed(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ed(r,s),typeof h!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Og(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new kT;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=$T.bind(null,r,s,l),s.then(r,r))}function bg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Dg(r,s,l,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Rr(-1,1),s.tag=2,si(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var NT=re.ReactCurrentOwner,Zt=!1;function Kt(r,s,l,h){s.child=r===null?eg(s,null,l,h):po(s,r.child,l,h)}function Vg(r,s,l,h,f){l=l.render;var y=s.ref;return go(s,f),h=hd(r,s,l,h,y,f),l=dd(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Cr(r,s,f)):(Je&&l&&Gh(s),s.flags|=1,Kt(r,s,h,f),s.child)}function Lg(r,s,l,h,f){if(r===null){var y=l.type;return typeof y=="function"&&!zd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Mg(r,s,y,h,f)):(r=Ku(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&f)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:ka,l(E,h)&&r.ref===s.ref)return Cr(r,s,f)}return s.flags|=1,r=hi(y,h),r.ref=s.ref,r.return=s,s.child=r}function Mg(r,s,l,h,f){if(r!==null){var y=r.memoizedProps;if(ka(y,h)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=h=y,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,Cr(r,s,f)}return wd(r,s,l,h,f)}function Fg(r,s,l){var h=s.pendingProps,f=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Eo,fn),fn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(Eo,fn),fn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ke(Eo,fn),fn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ke(Eo,fn),fn|=h;return Kt(r,s,f,l),s.child}function Ug(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function wd(r,s,l,h,f){var y=Jt(l)?os:Lt.current;return y=uo(s,y),go(s,f),l=hd(r,s,l,h,y,f),h=dd(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Cr(r,s,f)):(Je&&h&&Gh(s),s.flags|=1,Kt(r,s,l,f),s.child)}function jg(r,s,l,h,f){if(Jt(l)){var y=!0;vu(s)}else y=!1;if(go(s,f),s.stateNode===null)Lu(r,s),Pg(s,l,h),vd(s,l,h,f),h=!0;else if(r===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var b=E.context,z=l.contextType;typeof z=="object"&&z!==null?z=Tn(z):(z=Jt(l)?os:Lt.current,z=uo(s,z));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||b!==z)&&kg(s,E,h,z),ii=!1;var J=s.memoizedState;E.state=J,Cu(s,h,E,f),b=s.memoizedState,C!==h||J!==b||Xt.current||ii?(typeof Z=="function"&&(yd(s,l,Z,h),b=s.memoizedState),(C=ii||Cg(s,l,C,h,J,b,z))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=b),E.props=h,E.state=b,E.context=z,h=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,ng(r,s),C=s.memoizedProps,z=s.type===s.elementType?C:Fn(s.type,C),E.props=z,ee=s.pendingProps,J=E.context,b=l.contextType,typeof b=="object"&&b!==null?b=Tn(b):(b=Jt(l)?os:Lt.current,b=uo(s,b));var oe=l.getDerivedStateFromProps;(Z=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ee||J!==b)&&kg(s,E,h,b),ii=!1,J=s.memoizedState,E.state=J,Cu(s,h,E,f);var de=s.memoizedState;C!==ee||J!==de||Xt.current||ii?(typeof oe=="function"&&(yd(s,l,oe,h),de=s.memoizedState),(z=ii||Cg(s,l,z,h,J,de,b)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,de,b),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,de,b)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),E.props=h,E.state=de,E.context=b,h=z):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),h=!1)}return Td(r,s,l,h,y,f)}function Td(r,s,l,h,f,y){Ug(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&qm(s,l,!1),Cr(r,s,y);h=s.stateNode,NT.current=s;var C=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=po(s,r.child,null,y),s.child=po(s,null,C,y)):Kt(r,s,C,y),s.memoizedState=h.state,f&&qm(s,l,!0),s.child}function Bg(r){var s=r.stateNode;s.pendingContext?$m(r,s.pendingContext,s.pendingContext!==s.context):s.context&&$m(r,s.context,!1),sd(r,s.containerInfo)}function zg(r,s,l,h,f){return fo(),Jh(f),s.flags|=256,Kt(r,s,l,h),s.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function Sd(r){return{baseLanes:r,cachePool:null,transitions:null}}function $g(r,s,l){var h=s.pendingProps,f=et.current,y=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(et,f&1),r===null)return Xh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Gu(E,h,0,null),r=gs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Sd(l),s.memoizedState=Id,r):Ad(s,E));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return xT(r,s,E,h,C,f,l);if(y){y=h.fallback,E=s.mode,f=r.child,C=f.sibling;var b={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=b,s.deletions=null):(h=hi(f,b),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?y=hi(C,y):(y=gs(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?Sd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Id,h}return y=r.child,r=y.sibling,h=hi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Ad(r,s){return s=Gu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Vu(r,s,l,h){return h!==null&&Jh(h),po(s,r.child,null,l),r=Ad(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function xT(r,s,l,h,f,y,E){if(l)return s.flags&256?(s.flags&=-257,h=_d(Error(t(422))),Vu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,f=s.mode,h=Gu({mode:"visible",children:h.children},f,0,null),y=gs(y,f,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&po(s,r.child,null,E),s.child.memoizedState=Sd(E),s.memoizedState=Id,y);if((s.mode&1)===0)return Vu(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,y=Error(t(419)),h=_d(y,h,void 0),Vu(r,s,E,h)}if(C=(E&r.childLanes)!==0,Zt||C){if(h=It,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,Ar(r,f),Bn(h,r,f,-1))}return Bd(),h=_d(Error(t(421))),Vu(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=WT.bind(null,r),f._reactRetry=s,null):(r=y.treeContext,dn=ei(f.nextSibling),hn=s,Je=!0,Mn=null,r!==null&&(En[wn++]=Ir,En[wn++]=Sr,En[wn++]=as,Ir=r.id,Sr=r.overflow,as=s),s=Ad(s,h.children),s.flags|=4096,s)}function Wg(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),nd(r.return,s,l)}function Rd(r,s,l,h,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=f)}function qg(r,s,l){var h=s.pendingProps,f=h.revealOrder,y=h.tail;if(Kt(r,s,h.children,l),h=et.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wg(r,l,s);else if(r.tag===19)Wg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(et,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Pu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Rd(s,!1,f,l,y);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Pu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Rd(s,!0,l,null,y);break;case"together":Rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Lu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Cr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ds|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=hi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=hi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function OT(r,s,l){switch(s.tag){case 3:Bg(s),fo();break;case 5:sg(s);break;case 1:Jt(s.type)&&vu(s);break;case 4:sd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ke(Su,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(et,et.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?$g(r,s,l):(Ke(et,et.current&1),r=Cr(r,s,l),r!==null?r.sibling:null);Ke(et,et.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return qg(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(et,et.current),h)break;return null;case 22:case 23:return s.lanes=0,Fg(r,s,l)}return Cr(r,s,l)}var Hg,Cd,Kg,Gg;Hg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Cd=function(){},Kg=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,cs(tr.current);var y=null;switch(l){case"input":f=$i(r,f),h=$i(r,h),y=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":f=ia(r,f),h=ia(r,h),y=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=mu)}ca(l,h);var E;l=null;for(z in f)if(!h.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var C=f[z];for(E in C)C.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var b=h[z];if(C=f!=null?f[z]:void 0,h.hasOwnProperty(z)&&b!==C&&(b!=null||C!=null))if(z==="style")if(C){for(E in C)!C.hasOwnProperty(E)||b&&b.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in b)b.hasOwnProperty(E)&&C[E]!==b[E]&&(l||(l={}),l[E]=b[E])}else l||(y||(y=[]),y.push(z,l)),l=b;else z==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,C=C?C.__html:void 0,b!=null&&C!==b&&(y=y||[]).push(z,b)):z==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push(z,""+b):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(b!=null&&z==="onScroll"&&Ge("scroll",r),y||C===b||(y=[])):(y=y||[]).push(z,b))}l&&(y=y||[]).push("style",l);var z=y;(s.updateQueue=z)&&(s.flags|=4)}},Gg=function(r,s,l,h){l!==h&&(s.flags|=4)};function Wa(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function bT(r,s,l){var h=s.pendingProps;switch(Qh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Jt(s.type)&&yu(),Ft(s),null;case 3:return h=s.stateNode,yo(),Qe(Xt),Qe(Lt),ld(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Tu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mn!==null&&(Fd(Mn),Mn=null))),Cd(r,s),Ft(s),null;case 5:od(s);var f=cs(Ua.current);if(l=s.type,r!==null&&s.stateNode!=null)Kg(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=cs(tr.current),Tu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[er]=s,h[Da]=y,r=(s.mode&1)!==0,l){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(f=0;f<xa.length;f++)Ge(xa[f],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":xs(h,y),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ge("invalid",h);break;case"textarea":bs(h,y),Ge("invalid",h)}ca(l,y),f=null;for(var E in y)if(y.hasOwnProperty(E)){var C=y[E];E==="children"?typeof C=="string"?h.textContent!==C&&(y.suppressHydrationWarning!==!0&&pu(h.textContent,C,r),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&pu(h.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Ge("scroll",h)}switch(l){case"input":hr(h),jl(h,y,!0);break;case"textarea":hr(h),sa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=mu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ft(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[er]=s,r[Da]=h,Hg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ha(l,h),l){case"dialog":Ge("cancel",r),Ge("close",r),f=h;break;case"iframe":case"object":case"embed":Ge("load",r),f=h;break;case"video":case"audio":for(f=0;f<xa.length;f++)Ge(xa[f],r);f=h;break;case"source":Ge("error",r),f=h;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),f=h;break;case"details":Ge("toggle",r),f=h;break;case"input":xs(r,h),f=$i(r,h),Ge("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Ge("invalid",r);break;case"textarea":bs(r,h),f=ia(r,h),Ge("invalid",r);break;default:f=h}ca(l,f),C=f;for(y in C)if(C.hasOwnProperty(y)){var b=C[y];y==="style"?la(r,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&oa(r,b)):y==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&$r(r,b):typeof b=="number"&&$r(r,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?b!=null&&y==="onScroll"&&Ge("scroll",r):b!=null&&H(r,y,b,E))}switch(l){case"input":hr(r),jl(r,h,!1);break;case"textarea":hr(r),sa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Fe(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?fr(r,!!h.multiple,y,!1):h.defaultValue!=null&&fr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=mu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)Gg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=cs(Ua.current),cs(tr.current),Tu(s)){if(h=s.stateNode,l=s.memoizedProps,h[er]=s,(y=h.nodeValue!==l)&&(r=hn,r!==null))switch(r.tag){case 3:pu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[er]=s,s.stateNode=h}return Ft(s),null;case 13:if(Qe(et),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Xm(),fo(),s.flags|=98560,y=!1;else if(y=Tu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[er]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),y=!1}else Mn!==null&&(Fd(Mn),Mn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(et.current&1)!==0?yt===0&&(yt=3):Bd())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return yo(),Cd(r,s),r===null&&Oa(s.stateNode.containerInfo),Ft(s),null;case 10:return td(s.type._context),Ft(s),null;case 17:return Jt(s.type)&&yu(),Ft(s),null;case 19:if(Qe(et),y=s.memoizedState,y===null)return Ft(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)Wa(y,!1);else{if(yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Pu(r),E!==null){for(s.flags|=128,Wa(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ke(et,et.current&1|2),s.child}r=r.sibling}y.tail!==null&&He()>wo&&(s.flags|=128,h=!0,Wa(y,!1),s.lanes=4194304)}else{if(!h)if(r=Pu(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Wa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Je)return Ft(s),null}else 2*He()-y.renderingStartTime>wo&&l!==1073741824&&(s.flags|=128,h=!0,Wa(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=He(),s.sibling=null,l=et.current,Ke(et,h?l&1|2:l&1),s):(Ft(s),null);case 22:case 23:return jd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(fn&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function DT(r,s){switch(Qh(s),s.tag){case 1:return Jt(s.type)&&yu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return yo(),Qe(Xt),Qe(Lt),ld(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return od(s),null;case 13:if(Qe(et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(et),null;case 4:return yo(),null;case 10:return td(s.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var Mu=!1,Ut=!1,VT=typeof WeakSet=="function"?WeakSet:Set,ce=null;function _o(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){rt(r,s,h)}else l.current=null}function Pd(r,s,l){try{l()}catch(h){rt(r,s,h)}}var Qg=!1;function LT(r,s){if(jh=Xr,r=Cm(),Oh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,C=-1,b=-1,z=0,Z=0,ee=r,J=null;t:for(;;){for(var oe;ee!==l||f!==0&&ee.nodeType!==3||(C=E+f),ee!==y||h!==0&&ee.nodeType!==3||(b=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)J=ee,ee=oe;for(;;){if(ee===r)break t;if(J===l&&++z===f&&(C=E),J===y&&++Z===h&&(b=E),(oe=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=oe}l=C===-1||b===-1?null:{start:C,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bh={focusedElem:r,selectionRange:l},Xr=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,at=de.memoizedState,j=s.stateNode,V=j.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Fn(s.type,fe),at);j.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){rt(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return de=Qg,Qg=!1,de}function qa(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var y=f.destroy;f.destroy=void 0,y!==void 0&&Pd(s,l,y)}f=f.next}while(f!==h)}}function Fu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function kd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Yg(r){var s=r.alternate;s!==null&&(r.alternate=null,Yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[er],delete s[Da],delete s[qh],delete s[vT],delete s[_T])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Xg(r){return r.tag===5||r.tag===3||r.tag===4}function Jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Nd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=mu));else if(h!==4&&(r=r.child,r!==null))for(Nd(r,s,l),r=r.sibling;r!==null;)Nd(r,s,l),r=r.sibling}function xd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(xd(r,s,l),r=r.sibling;r!==null;)xd(r,s,l),r=r.sibling}var kt=null,Un=!1;function oi(r,s,l){for(l=l.child;l!==null;)Zg(r,s,l),l=l.sibling}function Zg(r,s,l){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ji,l)}catch{}switch(l.tag){case 5:Ut||_o(l,s);case 6:var h=kt,f=Un;kt=null,oi(r,s,l),kt=h,Un=f,kt!==null&&(Un?(r=kt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):kt.removeChild(l.stateNode));break;case 18:kt!==null&&(Un?(r=kt,l=l.stateNode,r.nodeType===8?Wh(r.parentNode,l):r.nodeType===1&&Wh(r,l),Dn(r)):Wh(kt,l.stateNode));break;case 4:h=kt,f=Un,kt=l.stateNode.containerInfo,Un=!0,oi(r,s,l),kt=h,Un=f;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var y=f,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Pd(l,s,E),f=f.next}while(f!==h)}oi(r,s,l);break;case 1:if(!Ut&&(_o(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){rt(l,s,C)}oi(r,s,l);break;case 21:oi(r,s,l);break;case 22:l.mode&1?(Ut=(h=Ut)||l.memoizedState!==null,oi(r,s,l),Ut=h):oi(r,s,l);break;default:oi(r,s,l)}}function ey(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new VT),s.forEach(function(h){var f=qT.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function jn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var y=r,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:kt=C.stateNode,Un=!1;break e;case 3:kt=C.stateNode.containerInfo,Un=!0;break e;case 4:kt=C.stateNode.containerInfo,Un=!0;break e}C=C.return}if(kt===null)throw Error(t(160));Zg(y,E,f),kt=null,Un=!1;var b=f.alternate;b!==null&&(b.return=null),f.return=null}catch(z){rt(f,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ty(s,r),s=s.sibling}function ty(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(s,r),rr(r),h&4){try{qa(3,r,r.return),Fu(3,r)}catch(fe){rt(r,r.return,fe)}try{qa(5,r,r.return)}catch(fe){rt(r,r.return,fe)}}break;case 1:jn(s,r),rr(r),h&512&&l!==null&&_o(l,l.return);break;case 5:if(jn(s,r),rr(r),h&512&&l!==null&&_o(l,l.return),r.flags&32){var f=r.stateNode;try{$r(f,"")}catch(fe){rt(r,r.return,fe)}}if(h&4&&(f=r.stateNode,f!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,C=r.type,b=r.updateQueue;if(r.updateQueue=null,b!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&na(f,y),ha(C,E);var z=ha(C,y);for(E=0;E<b.length;E+=2){var Z=b[E],ee=b[E+1];Z==="style"?la(f,ee):Z==="dangerouslySetInnerHTML"?oa(f,ee):Z==="children"?$r(f,ee):H(f,Z,ee,z)}switch(C){case"input":ra(f,y);break;case"textarea":Ds(f,y);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var oe=y.value;oe!=null?fr(f,!!y.multiple,oe,!1):J!==!!y.multiple&&(y.defaultValue!=null?fr(f,!!y.multiple,y.defaultValue,!0):fr(f,!!y.multiple,y.multiple?[]:"",!1))}f[Da]=y}catch(fe){rt(r,r.return,fe)}}break;case 6:if(jn(s,r),rr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,y=r.memoizedProps;try{f.nodeValue=y}catch(fe){rt(r,r.return,fe)}}break;case 3:if(jn(s,r),rr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Dn(s.containerInfo)}catch(fe){rt(r,r.return,fe)}break;case 4:jn(s,r),rr(r);break;case 13:jn(s,r),rr(r),f=r.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Dd=He())),h&4&&ey(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?(Ut=(z=Ut)||Z,jn(s,r),Ut=z):jn(s,r),rr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(J=ce,oe=J.child,J.tag){case 0:case 11:case 14:case 15:qa(4,J,J.return);break;case 1:_o(J,J.return);var de=J.stateNode;if(typeof de.componentWillUnmount=="function"){h=J,l=J.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){rt(h,l,fe)}}break;case 5:_o(J,J.return);break;case 22:if(J.memoizedState!==null){iy(ee);continue}}oe!==null?(oe.return=J,ce=oe):iy(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,z?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=ee.stateNode,b=ee.memoizedProps.style,E=b!=null&&b.hasOwnProperty("display")?b.display:null,C.style.display=aa("display",E))}catch(fe){rt(r,r.return,fe)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=z?"":ee.memoizedProps}catch(fe){rt(r,r.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:jn(s,r),rr(r),h&4&&ey(r);break;case 21:break;default:jn(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Xg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&($r(f,""),h.flags&=-33);var y=Jg(r);xd(r,y,f);break;case 3:case 4:var E=h.stateNode.containerInfo,C=Jg(r);Nd(r,C,E);break;default:throw Error(t(161))}}catch(b){rt(r,r.return,b)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function MT(r,s,l){ce=r,ny(r)}function ny(r,s,l){for(var h=(r.mode&1)!==0;ce!==null;){var f=ce,y=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||Mu;if(!E){var C=f.alternate,b=C!==null&&C.memoizedState!==null||Ut;C=Mu;var z=Ut;if(Mu=E,(Ut=b)&&!z)for(ce=f;ce!==null;)E=ce,b=E.child,E.tag===22&&E.memoizedState!==null?sy(f):b!==null?(b.return=E,ce=b):sy(f);for(;y!==null;)ce=y,ny(y),y=y.sibling;ce=f,Mu=C,Ut=z}ry(r)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,ce=y):ry(r)}}function ry(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ut||Fu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ut)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Fn(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ig(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ig(s,E,l)}break;case 5:var C=s.stateNode;if(l===null&&s.flags&4){l=C;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Z=z.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&Dn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&kd(s)}catch(J){rt(s,s.return,J)}}if(s===r){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function iy(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function sy(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Fu(4,s)}catch(b){rt(s,l,b)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(b){rt(s,f,b)}}var y=s.return;try{kd(s)}catch(b){rt(s,y,b)}break;case 5:var E=s.return;try{kd(s)}catch(b){rt(s,E,b)}}}catch(b){rt(s,s.return,b)}if(s===r){ce=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ce=C;break}ce=s.return}}var FT=Math.ceil,Uu=re.ReactCurrentDispatcher,Od=re.ReactCurrentOwner,Sn=re.ReactCurrentBatchConfig,Ve=0,It=null,ct=null,Nt=0,fn=0,Eo=ti(0),yt=0,Ha=null,ds=0,ju=0,bd=0,Ka=null,en=null,Dd=0,wo=1/0,Pr=null,Bu=!1,Vd=null,ai=null,zu=!1,li=null,$u=0,Ga=0,Ld=null,Wu=-1,qu=0;function Gt(){return(Ve&6)!==0?He():Wu!==-1?Wu:Wu=He()}function ui(r){return(r.mode&1)===0?1:(Ve&2)!==0&&Nt!==0?Nt&-Nt:wT.transition!==null?(qu===0&&(qu=es()),qu):(r=xe,r!==0||(r=window.event,r=r===void 0?16:Ta(r.type)),r)}function Bn(r,s,l,h){if(50<Ga)throw Ga=0,Ld=null,Error(t(185));Kr(r,l,h),((Ve&2)===0||r!==It)&&(r===It&&((Ve&2)===0&&(ju|=l),yt===4&&ci(r,Nt)),tn(r,h),l===1&&Ve===0&&(s.mode&1)===0&&(wo=He()+500,_u&&ri()))}function tn(r,s){var l=r.callbackNode;gr(r,s);var h=Zi(r,r===It?Nt:0);if(h===0)l!==null&&ya(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ya(l),s===1)r.tag===0?ET(ay.bind(null,r)):Hm(ay.bind(null,r)),gT(function(){(Ve&6)===0&&ri()}),l=null;else{switch(Qr(h)){case 1:l=Xi;break;case 4:l=Wr;break;case 16:l=yn;break;case 536870912:l=ql;break;default:l=yn}l=my(l,oy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function oy(r,s){if(Wu=-1,qu=0,(Ve&6)!==0)throw Error(t(327));var l=r.callbackNode;if(To()&&r.callbackNode!==l)return null;var h=Zi(r,r===It?Nt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Hu(r,h);else{s=h;var f=Ve;Ve|=2;var y=uy();(It!==r||Nt!==s)&&(Pr=null,wo=He()+500,ps(r,s));do try{BT();break}catch(C){ly(r,C)}while(!0);ed(),Uu.current=y,Ve=f,ct!==null?s=0:(It=null,Nt=0,s=yt)}if(s!==0){if(s===2&&(f=ln(r),f!==0&&(h=f,s=Md(r,f))),s===1)throw l=Ha,ps(r,0),ci(r,h),tn(r,He()),l;if(s===6)ci(r,h);else{if(f=r.current.alternate,(h&30)===0&&!UT(f)&&(s=Hu(r,h),s===2&&(y=ln(r),y!==0&&(h=y,s=Md(r,y))),s===1))throw l=Ha,ps(r,0),ci(r,h),tn(r,He()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ms(r,en,Pr);break;case 3:if(ci(r,h),(h&130023424)===h&&(s=Dd+500-He(),10<s)){if(Zi(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Gt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=$h(ms.bind(null,r,en,Pr),s);break}ms(r,en,Pr);break;case 4:if(ci(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-qt(h);y=1<<E,E=s[E],E>f&&(f=E),h&=~y}if(h=f,h=He()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*FT(h/1960))-h,10<h){r.timeoutHandle=$h(ms.bind(null,r,en,Pr),h);break}ms(r,en,Pr);break;case 5:ms(r,en,Pr);break;default:throw Error(t(329))}}}return tn(r,He()),r.callbackNode===l?oy.bind(null,r):null}function Md(r,s){var l=Ka;return r.current.memoizedState.isDehydrated&&(ps(r,s).flags|=256),r=Hu(r,s),r!==2&&(s=en,en=l,s!==null&&Fd(s)),r}function Fd(r){en===null?en=r:en.push.apply(en,r)}function UT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],y=f.getSnapshot;f=f.value;try{if(!Ln(y(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ci(r,s){for(s&=~bd,s&=~ju,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-qt(s),h=1<<l;r[l]=-1,s&=~h}}function ay(r){if((Ve&6)!==0)throw Error(t(327));To();var s=Zi(r,0);if((s&1)===0)return tn(r,He()),null;var l=Hu(r,s);if(r.tag!==0&&l===2){var h=ln(r);h!==0&&(s=h,l=Md(r,h))}if(l===1)throw l=Ha,ps(r,0),ci(r,s),tn(r,He()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ms(r,en,Pr),tn(r,He()),null}function Ud(r,s){var l=Ve;Ve|=1;try{return r(s)}finally{Ve=l,Ve===0&&(wo=He()+500,_u&&ri())}}function fs(r){li!==null&&li.tag===0&&(Ve&6)===0&&To();var s=Ve;Ve|=1;var l=Sn.transition,h=xe;try{if(Sn.transition=null,xe=1,r)return r()}finally{xe=h,Sn.transition=l,Ve=s,(Ve&6)===0&&ri()}}function jd(){fn=Eo.current,Qe(Eo)}function ps(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,mT(l)),ct!==null)for(l=ct.return;l!==null;){var h=l;switch(Qh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&yu();break;case 3:yo(),Qe(Xt),Qe(Lt),ld();break;case 5:od(h);break;case 4:yo();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:td(h.type._context);break;case 22:case 23:jd()}l=l.return}if(It=r,ct=r=hi(r.current,null),Nt=fn=s,yt=0,Ha=null,bd=ju=ds=0,en=Ka=null,us!==null){for(s=0;s<us.length;s++)if(l=us[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=f,h.next=E}l.pending=h}us=null}return r}function ly(r,s){do{var l=ct;try{if(ed(),ku.current=bu,Nu){for(var h=tt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Nu=!1}if(hs=0,Tt=gt=tt=null,ja=!1,Ba=0,Od.current=null,l===null||l.return===null){yt=1,Ha=s,ct=null;break}e:{var y=r,E=l.return,C=l,b=s;if(s=Nt,C.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var z=b,Z=C,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var oe=bg(E);if(oe!==null){oe.flags&=-257,Dg(oe,E,C,y,s),oe.mode&1&&Og(y,z,s),s=oe,b=z;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(b),s.updateQueue=fe}else de.add(b);break e}else{if((s&1)===0){Og(y,z,s),Bd();break e}b=Error(t(426))}}else if(Je&&C.mode&1){var at=bg(E);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Dg(at,E,C,y,s),Jh(vo(b,C));break e}}y=b=vo(b,C),yt!==4&&(yt=2),Ka===null?Ka=[y]:Ka.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var j=Ng(y,b,s);rg(y,j);break e;case 1:C=b;var V=y.type,B=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ai===null||!ai.has(B)))){y.flags|=65536,s&=-s,y.lanes|=s;var ne=xg(y,C,s);rg(y,ne);break e}}y=y.return}while(y!==null)}hy(l)}catch(pe){s=pe,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function uy(){var r=Uu.current;return Uu.current=bu,r===null?bu:r}function Bd(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||(ds&268435455)===0&&(ju&268435455)===0||ci(It,Nt)}function Hu(r,s){var l=Ve;Ve|=2;var h=uy();(It!==r||Nt!==s)&&(Pr=null,ps(r,s));do try{jT();break}catch(f){ly(r,f)}while(!0);if(ed(),Ve=l,Uu.current=h,ct!==null)throw Error(t(261));return It=null,Nt=0,yt}function jT(){for(;ct!==null;)cy(ct)}function BT(){for(;ct!==null&&!$l();)cy(ct)}function cy(r){var s=py(r.alternate,r,fn);r.memoizedProps=r.pendingProps,s===null?hy(r):ct=s,Od.current=null}function hy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=bT(l,s,fn),l!==null){ct=l;return}}else{if(l=DT(l,s),l!==null){l.flags&=32767,ct=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yt=6,ct=null;return}}if(s=s.sibling,s!==null){ct=s;return}ct=s=r}while(s!==null);yt===0&&(yt=5)}function ms(r,s,l){var h=xe,f=Sn.transition;try{Sn.transition=null,xe=1,zT(r,s,l,h)}finally{Sn.transition=f,xe=h}return null}function zT(r,s,l,h){do To();while(li!==null);if((Ve&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(r,y),r===It&&(ct=It=null,Nt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||zu||(zu=!0,my(yn,function(){return To(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Sn.transition,Sn.transition=null;var E=xe;xe=1;var C=Ve;Ve|=4,Od.current=null,LT(r,l),ty(l,r),lT(Bh),Xr=!!jh,Bh=jh=null,r.current=l,MT(l),Sh(),Ve=C,xe=E,Sn.transition=y}else r.current=l;if(zu&&(zu=!1,li=r,$u=f),y=r.pendingLanes,y===0&&(ai=null),Hl(l.stateNode),tn(r,He()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Bu)throw Bu=!1,r=Vd,Vd=null,r;return($u&1)!==0&&r.tag!==0&&To(),y=r.pendingLanes,(y&1)!==0?r===Ld?Ga++:(Ga=0,Ld=r):Ga=0,ri(),null}function To(){if(li!==null){var r=Qr($u),s=Sn.transition,l=xe;try{if(Sn.transition=null,xe=16>r?16:r,li===null)var h=!1;else{if(r=li,li=null,$u=0,(Ve&6)!==0)throw Error(t(331));var f=Ve;for(Ve|=4,ce=r.current;ce!==null;){var y=ce,E=y.child;if((ce.flags&16)!==0){var C=y.deletions;if(C!==null){for(var b=0;b<C.length;b++){var z=C[b];for(ce=z;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:qa(8,Z,y)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var J=Z.sibling,oe=Z.return;if(Yg(Z),Z===z){ce=null;break}if(J!==null){J.return=oe,ce=J;break}ce=oe}}}var de=y.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var at=fe.sibling;fe.sibling=null,fe=at}while(fe!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ce=E;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:qa(9,y,y.return)}var j=y.sibling;if(j!==null){j.return=y.return,ce=j;break e}ce=y.return}}var V=r.current;for(ce=V;ce!==null;){E=ce;var B=E.child;if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,ce=B;else e:for(E=V;ce!==null;){if(C=ce,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Fu(9,C)}}catch(pe){rt(C,C.return,pe)}if(C===E){ce=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,ce=ne;break e}ce=C.return}}if(Ve=f,ri(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ji,r)}catch{}h=!0}return h}finally{xe=l,Sn.transition=s}}return!1}function dy(r,s,l){s=vo(l,s),s=Ng(r,s,1),r=si(r,s,1),s=Gt(),r!==null&&(Kr(r,1,s),tn(r,s))}function rt(r,s,l){if(r.tag===3)dy(r,r,l);else for(;s!==null;){if(s.tag===3){dy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ai===null||!ai.has(h))){r=vo(l,r),r=xg(s,r,1),s=si(s,r,1),r=Gt(),s!==null&&(Kr(s,1,r),tn(s,r));break}}s=s.return}}function $T(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Gt(),r.pingedLanes|=r.suspendedLanes&l,It===r&&(Nt&l)===l&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>He()-Dd?ps(r,0):bd|=l),tn(r,s)}function fy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var l=Gt();r=Ar(r,s),r!==null&&(Kr(r,s,l),tn(r,l))}function WT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),fy(r,l)}function qT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),fy(r,l)}var py;py=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Xt.current)Zt=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Zt=!1,OT(r,s,l);Zt=(r.flags&131072)!==0}else Zt=!1,Je&&(s.flags&1048576)!==0&&Km(s,wu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Lu(r,s),r=s.pendingProps;var f=uo(s,Lt.current);go(s,l),f=hd(null,s,h,r,f,l);var y=dd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(h)?(y=!0,vu(s)):y=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,id(s),f.updater=Du,s.stateNode=f,f._reactInternals=s,vd(s,h,r,l),s=Td(null,s,h,!0,y,l)):(s.tag=0,Je&&y&&Gh(s),Kt(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Lu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=KT(h),r=Fn(h,r),f){case 0:s=wd(null,s,h,r,l);break e;case 1:s=jg(null,s,h,r,l);break e;case 11:s=Vg(null,s,h,r,l);break e;case 14:s=Lg(null,s,h,Fn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),wd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),jg(r,s,h,f,l);case 3:e:{if(Bg(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,f=y.element,ng(r,s),Cu(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){f=vo(Error(t(423)),s),s=zg(r,s,h,l,f);break e}else if(h!==f){f=vo(Error(t(424)),s),s=zg(r,s,h,l,f);break e}else for(dn=ei(s.stateNode.containerInfo.firstChild),hn=s,Je=!0,Mn=null,l=eg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fo(),h===f){s=Cr(r,s,l);break e}Kt(r,s,h,l)}s=s.child}return s;case 5:return sg(s),r===null&&Xh(s),h=s.type,f=s.pendingProps,y=r!==null?r.memoizedProps:null,E=f.children,zh(h,f)?E=null:y!==null&&zh(h,y)&&(s.flags|=32),Ug(r,s),Kt(r,s,E,l),s.child;case 6:return r===null&&Xh(s),null;case 13:return $g(r,s,l);case 4:return sd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=po(s,null,h,l):Kt(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),Vg(r,s,h,f,l);case 7:return Kt(r,s,s.pendingProps,l),s.child;case 8:return Kt(r,s,s.pendingProps.children,l),s.child;case 12:return Kt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,y=s.memoizedProps,E=f.value,Ke(Su,h._currentValue),h._currentValue=E,y!==null)if(Ln(y.value,E)){if(y.children===f.children&&!Xt.current){s=Cr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var C=y.dependencies;if(C!==null){E=y.child;for(var b=C.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=Rr(-1,l&-l),b.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var Z=z.pending;Z===null?b.next=b:(b.next=Z.next,Z.next=b),z.pending=b}}y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),nd(y.return,l,s),C.lanes|=l;break}b=b.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,C=E.alternate,C!==null&&(C.lanes|=l),nd(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Kt(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,go(s,l),f=Tn(f),h=h(f),s.flags|=1,Kt(r,s,h,l),s.child;case 14:return h=s.type,f=Fn(h,s.pendingProps),f=Fn(h.type,f),Lg(r,s,h,f,l);case 15:return Mg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Fn(h,f),Lu(r,s),s.tag=1,Jt(h)?(r=!0,vu(s)):r=!1,go(s,l),Pg(s,h,f),vd(s,h,f,l),Td(null,s,h,!0,r,l);case 19:return qg(r,s,l);case 22:return Fg(r,s,l)}throw Error(t(156,s.tag))};function my(r,s){return zs(r,s)}function HT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(r,s,l,h){return new HT(r,s,l,h)}function zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function KT(r){if(typeof r=="function")return zd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Dt)return 14}return 2}function hi(r,s){var l=r.alternate;return l===null?(l=An(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ku(r,s,l,h,f,y){var E=2;if(h=r,typeof r=="function")zd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return gs(l.children,f,y,s);case A:E=8,f|=8;break;case P:return r=An(12,l,s,f|2),r.elementType=P,r.lanes=y,r;case k:return r=An(13,l,s,f),r.elementType=k,r.lanes=y,r;case st:return r=An(19,l,s,f),r.elementType=st,r.lanes=y,r;case $e:return Gu(l,f,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:E=10;break e;case L:E=9;break e;case F:E=11;break e;case Dt:E=14;break e;case Vt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=An(E,l,s,f),s.elementType=r,s.type=h,s.lanes=y,s}function gs(r,s,l,h){return r=An(7,r,h,s),r.lanes=l,r}function Gu(r,s,l,h){return r=An(22,r,h,s),r.elementType=$e,r.lanes=l,r.stateNode={isHidden:!1},r}function $d(r,s,l){return r=An(6,r,null,s),r.lanes=l,r}function Wd(r,s,l){return s=An(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function GT(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hr(0),this.expirationTimes=Hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function qd(r,s,l,h,f,y,E,C,b){return r=new GT(r,s,l,C,b),s===1?(s=1,y===!0&&(s|=8)):s=0,y=An(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(y),r}function QT(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function gy(r){if(!r)return ni;r=r._reactInternals;e:{if(kn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Jt(l))return Wm(r,l,s)}return s}function yy(r,s,l,h,f,y,E,C,b){return r=qd(l,h,!0,r,f,y,E,C,b),r.context=gy(null),l=r.current,h=Gt(),f=ui(l),y=Rr(h,f),y.callback=s??null,si(l,y,f),r.current.lanes=f,Kr(r,f,h),tn(r,h),r}function Qu(r,s,l,h){var f=s.current,y=Gt(),E=ui(f);return l=gy(l),s.context===null?s.context=l:s.pendingContext=l,s=Rr(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=si(f,s,E),r!==null&&(Bn(r,f,E,y),Ru(r,f,E)),E}function Yu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function vy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Hd(r,s){vy(r,s),(r=r.alternate)&&vy(r,s)}function YT(){return null}var _y=typeof reportError=="function"?reportError:function(r){console.error(r)};function Kd(r){this._internalRoot=r}Xu.prototype.render=Kd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Qu(r,s,null,null)},Xu.prototype.unmount=Kd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;fs(function(){Qu(null,r,null,null)}),s[wr]=null}};function Xu(r){this._internalRoot=r}Xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Xl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Yn.length&&s!==0&&s<Yn[l].priority;l++);Yn.splice(l,0,r),l===0&&eu(r)}};function Gd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ju(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function XT(r,s,l,h,f){if(f){if(typeof h=="function"){var y=h;h=function(){var z=Yu(E);y.call(z)}}var E=yy(s,h,r,0,null,!1,!1,"",Ey);return r._reactRootContainer=E,r[wr]=E.current,Oa(r.nodeType===8?r.parentNode:r),fs(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var z=Yu(b);C.call(z)}}var b=qd(r,0,!1,null,null,!1,!1,"",Ey);return r._reactRootContainer=b,r[wr]=b.current,Oa(r.nodeType===8?r.parentNode:r),fs(function(){Qu(s,b,l,h)}),b}function Zu(r,s,l,h,f){var y=l._reactRootContainer;if(y){var E=y;if(typeof f=="function"){var C=f;f=function(){var b=Yu(E);C.call(b)}}Qu(s,E,r,f)}else E=XT(l,s,r,f,h);return Yu(E)}Ql=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=qr(s.pendingLanes);l!==0&&(Gr(s,l|1),tn(s,He()),(Ve&6)===0&&(wo=He()+500,ri()))}break;case 13:fs(function(){var h=Ar(r,1);if(h!==null){var f=Gt();Bn(h,r,1,f)}}),Hd(r,1)}},qs=function(r){if(r.tag===13){var s=Ar(r,134217728);if(s!==null){var l=Gt();Bn(s,r,134217728,l)}Hd(r,134217728)}},Yl=function(r){if(r.tag===13){var s=ui(r),l=Ar(r,s);if(l!==null){var h=Gt();Bn(l,r,s,h)}Hd(r,s)}},Xl=function(){return xe},Jl=function(r,s){var l=xe;try{return xe=r,s()}finally{xe=l}},Ls=function(r,s,l){switch(s){case"input":if(ra(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=gu(h);if(!f)throw Error(t(90));Ns(h),ra(h,f)}}}break;case"textarea":Ds(r,l);break;case"select":s=l.value,s!=null&&fr(r,!!l.multiple,s,!1)}},Ki=Ud,fa=fs;var JT={usingClientEntryPoint:!1,Events:[Va,ao,gu,Gn,da,Ud]},Qa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZT={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ga(r),r===null?null:r.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||YT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Ji=ec.inject(ZT),an=ec}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JT,nn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(s))throw Error(t(200));return QT(r,s,null,l)},nn.createRoot=function(r,s){if(!Gd(r))throw Error(t(299));var l=!1,h="",f=_y;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=qd(r,1,!1,null,null,l,!1,h,f),r[wr]=s.current,Oa(r.nodeType===8?r.parentNode:r),new Kd(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ga(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return fs(r)},nn.hydrate=function(r,s,l){if(!Ju(s))throw Error(t(200));return Zu(null,r,s,!0,l)},nn.hydrateRoot=function(r,s,l){if(!Gd(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,y="",E=_y;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=yy(s,null,r,1,l??null,f,!1,y,E),r[wr]=s.current,Oa(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Xu(s)},nn.render=function(r,s,l){if(!Ju(s))throw Error(t(200));return Zu(null,r,s,!1,l)},nn.unmountComponentAtNode=function(r){if(!Ju(r))throw Error(t(40));return r._reactRootContainer?(fs(function(){Zu(null,null,r,!1,function(){r._reactRootContainer=null,r[wr]=null})}),!0):!1},nn.unstable_batchedUpdates=Ud,nn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Ju(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Zu(r,s,l,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Py;function z_(){if(Py)return Xd.exports;Py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xd.exports=uI(),Xd.exports}var ky;function cI(){if(ky)return tc;ky=1;var n=z_();return tc.createRoot=n.createRoot,tc.hydrateRoot=n.hydrateRoot,tc}var hI=cI();const dI=B_(hI);var fI=z_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cl.apply(this,arguments)}var _i;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(_i||(_i={}));const Ny="popstate";function pI(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return Cf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Tc(o)}return gI(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mI(){return Math.random().toString(36).substr(2,8)}function xy(n,e){return{usr:n.state,key:n.key,idx:e}}function Cf(n,e,t,i){return t===void 0&&(t=null),cl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wo(e):e,{state:t,key:e&&e.key||i||mI()})}function Tc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function gI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d=_i.Pop,p=null,g=_();g==null&&(g=0,c.replaceState(cl({},c.state,{idx:g}),""));function _(){return(c.state||{idx:null}).idx}function w(){d=_i.Pop;let S=_(),G=S==null?null:S-g;g=S,p&&p({action:d,location:x.location,delta:G})}function T(S,G){d=_i.Push;let q=Cf(x.location,S,G);g=_()+1;let H=xy(q,g),re=x.createHref(q);try{c.pushState(H,"",re)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(re)}a&&p&&p({action:d,location:x.location,delta:1})}function R(S,G){d=_i.Replace;let q=Cf(x.location,S,G);g=_();let H=xy(q,g),re=x.createHref(q);c.replaceState(H,"",re),a&&p&&p({action:d,location:x.location,delta:0})}function N(S){let G=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof S=="string"?S:Tc(S);return q=q.replace(/ $/,"%20"),it(G,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,G)}let x={get action(){return d},get location(){return n(o,c)},listen(S){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ny,w),p=S,()=>{o.removeEventListener(Ny,w),p=null}},createHref(S){return e(o,S)},createURL:N,encodeLocation(S){let G=N(S);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:R,go(S){return c.go(S)}};return x}var Oy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Oy||(Oy={}));function yI(n,e,t){return t===void 0&&(t="/"),vI(n,e,t)}function vI(n,e,t,i){let o=typeof e=="string"?Wo(e):e,a=Do(o.pathname||"/",t);if(a==null)return null;let c=W_(n);_I(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=NI(a);d=PI(c[p],g)}return d}function W_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let g=wi([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(it(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),W_(a.children,e,_,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:RI(g,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of q_(a.path))o(a,c,p)}),e}function q_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=q_(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function _I(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const EI=/^:[\w-]+$/,wI=3,TI=2,II=1,SI=10,AI=-2,by=n=>n==="*";function RI(n,e){let t=n.split("/"),i=t.length;return t.some(by)&&(i+=AI),e&&(i+=TI),t.filter(o=>!by(o)).reduce((o,a)=>o+(EI.test(a)?wI:a===""?II:SI),i)}function CI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function PI(n,e,t){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=Pf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:wi([a,w.pathname]),pathnameBase:DI(wi([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=wi([a,w.pathnameBase]))}return c}function Pf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=kI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((g,_,w)=>{let{paramName:T,isOptional:R}=_;if(T==="*"){let x=d[w]||"";c=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const N=d[w];return R&&!N?g[T]=void 0:g[T]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:n}}function kI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),$_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function NI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Do(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Wo(n):n;return{pathname:t?t.startsWith("/")?t:OI(t,e):e,search:VI(i),hash:LI(o)}}function OI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ef(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function H_(n,e){let t=bI(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function K_(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Wo(n):(o=cl({},n),it(!o.pathname||!o.pathname.includes("?"),ef("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),ef("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),ef("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let p=xI(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}const wi=n=>n.join("/").replace(/\/\/+/g,"/"),DI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const G_=["post","put","patch","delete"];new Set(G_);const FI=["get",...G_];new Set(FI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hl.apply(this,arguments)}const Jc=te.createContext(null),Q_=te.createContext(null),Fi=te.createContext(null),Zc=te.createContext(null),Ui=te.createContext({outlet:null,matches:[],isDataRoute:!1}),Y_=te.createContext(null);function UI(n,e){let{relative:t}=e===void 0?{}:e;Al()||it(!1);let{basename:i,navigator:o}=te.useContext(Fi),{hash:a,pathname:c,search:d}=eh(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:wi([i,c])),o.createHref({pathname:p,search:d,hash:a})}function Al(){return te.useContext(Zc)!=null}function Rl(){return Al()||it(!1),te.useContext(Zc).location}function X_(n){te.useContext(Fi).static||te.useLayoutEffect(n)}function hp(){let{isDataRoute:n}=te.useContext(Ui);return n?ZI():jI()}function jI(){Al()||it(!1);let n=te.useContext(Jc),{basename:e,future:t,navigator:i}=te.useContext(Fi),{matches:o}=te.useContext(Ui),{pathname:a}=Rl(),c=JSON.stringify(H_(o,t.v7_relativeSplatPath)),d=te.useRef(!1);return X_(()=>{d.current=!0}),te.useCallback(function(g,_){if(_===void 0&&(_={}),!d.current)return;if(typeof g=="number"){i.go(g);return}let w=K_(g,JSON.parse(c),a,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:wi([e,w.pathname])),(_.replace?i.replace:i.push)(w,_.state,_)},[e,i,c,a,n])}function BI(){let{matches:n}=te.useContext(Ui),e=n[n.length-1];return e?e.params:{}}function eh(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=te.useContext(Fi),{matches:o}=te.useContext(Ui),{pathname:a}=Rl(),c=JSON.stringify(H_(o,i.v7_relativeSplatPath));return te.useMemo(()=>K_(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function zI(n,e){return $I(n,e)}function $I(n,e,t,i){Al()||it(!1);let{navigator:o}=te.useContext(Fi),{matches:a}=te.useContext(Ui),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=Rl(),_;if(e){var w;let S=typeof e=="string"?Wo(e):e;p==="/"||(w=S.pathname)!=null&&w.startsWith(p)||it(!1),_=S}else _=g;let T=_.pathname||"/",R=T;if(p!=="/"){let S=p.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=yI(n,{pathname:R}),x=GI(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:wi([p,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?p:wi([p,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,i);return e&&x?te.createElement(Zc.Provider,{value:{location:hl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:_i.Pop}},x):x}function WI(){let n=JI(),e=MI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),t?te.createElement("pre",{style:o},t):null,null)}const qI=te.createElement(WI,null);class HI extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?te.createElement(Ui.Provider,{value:this.props.routeContext},te.createElement(Y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KI(n){let{routeContext:e,match:t,children:i}=n,o=te.useContext(Jc);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),te.createElement(Ui.Provider,{value:e},i)}function GI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);_>=0||it(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,g=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let w=c[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=_),w.route.id){let{loaderData:T,errors:R}=t,N=w.route.loader&&T[w.route.id]===void 0&&(!R||R[w.route.id]===void 0);if(w.route.lazy||N){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((_,w,T)=>{let R,N=!1,x=null,S=null;t&&(R=d&&w.route.id?d[w.route.id]:void 0,x=w.route.errorElement||qI,p&&(g<0&&T===0?(eS("route-fallback"),N=!0,S=null):g===T&&(N=!0,S=w.route.hydrateFallbackElement||null)));let G=e.concat(c.slice(0,T+1)),q=()=>{let H;return R?H=x:N?H=S:w.route.Component?H=te.createElement(w.route.Component,null):w.route.element?H=w.route.element:H=_,te.createElement(KI,{match:w,routeContext:{outlet:_,matches:G,isDataRoute:t!=null},children:H})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?te.createElement(HI,{location:t.location,revalidation:t.revalidation,component:x,error:R,children:q(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):q()},null)}var J_=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(J_||{}),Z_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Z_||{});function QI(n){let e=te.useContext(Jc);return e||it(!1),e}function YI(n){let e=te.useContext(Q_);return e||it(!1),e}function XI(n){let e=te.useContext(Ui);return e||it(!1),e}function eE(n){let e=XI(),t=e.matches[e.matches.length-1];return t.route.id||it(!1),t.route.id}function JI(){var n;let e=te.useContext(Y_),t=YI(),i=eE();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function ZI(){let{router:n}=QI(J_.UseNavigateStable),e=eE(Z_.UseNavigateStable),t=te.useRef(!1);return X_(()=>{t.current=!0}),te.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,hl({fromRouteId:e},a)))},[n,e])}const Dy={};function eS(n,e,t){Dy[n]||(Dy[n]=!0)}function tS(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function lc(n){it(!1)}function nS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=_i.Pop,navigator:a,static:c=!1,future:d}=n;Al()&&it(!1);let p=e.replace(/^\/*/,"/"),g=te.useMemo(()=>({basename:p,navigator:a,static:c,future:hl({v7_relativeSplatPath:!1},d)}),[p,d,a,c]);typeof i=="string"&&(i=Wo(i));let{pathname:_="/",search:w="",hash:T="",state:R=null,key:N="default"}=i,x=te.useMemo(()=>{let S=Do(_,p);return S==null?null:{location:{pathname:S,search:w,hash:T,state:R,key:N},navigationType:o}},[p,_,w,T,R,N,o]);return x==null?null:te.createElement(Fi.Provider,{value:g},te.createElement(Zc.Provider,{children:t,value:x}))}function rS(n){let{children:e,location:t}=n;return zI(kf(e),t)}new Promise(()=>{});function kf(n,e){e===void 0&&(e=[]);let t=[];return te.Children.forEach(n,(i,o)=>{if(!te.isValidElement(i))return;let a=[...e,o];if(i.type===te.Fragment){t.push.apply(t,kf(i.props.children,a));return}i.type!==lc&&it(!1),!i.props.index||!i.props.children||it(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=kf(i.props.children,a)),t.push(c)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ic.apply(this,arguments)}function tE(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function iS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sS(n,e){return n.button===0&&(!e||e==="_self")&&!iS(n)}const oS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],lS="6";try{window.__reactRouterVersion=lS}catch{}const uS=te.createContext({isTransitioning:!1}),cS="startTransition",Vy=oI[cS];function hS(n){let{basename:e,children:t,future:i,window:o}=n,a=te.useRef();a.current==null&&(a.current=pI({window:o,v5Compat:!0}));let c=a.current,[d,p]=te.useState({action:c.action,location:c.location}),{v7_startTransition:g}=i||{},_=te.useCallback(w=>{g&&Vy?Vy(()=>p(w)):p(w)},[p,g]);return te.useLayoutEffect(()=>c.listen(_),[c,_]),te.useEffect(()=>tS(i),[i]),te.createElement(nS,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:i})}const dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,th=te.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:w}=e,T=tE(e,oS),{basename:R}=te.useContext(Fi),N,x=!1;if(typeof g=="string"&&fS.test(g)&&(N=g,dS))try{let H=new URL(window.location.href),re=g.startsWith("//")?new URL(H.protocol+g):new URL(g),K=Do(re.pathname,R);re.origin===H.origin&&K!=null?g=K+re.search+re.hash:x=!0}catch{}let S=UI(g,{relative:o}),G=mS(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:w});function q(H){i&&i(H),H.defaultPrevented||G(H)}return te.createElement("a",Ic({},T,{href:N||S,onClick:x||a?i:q,ref:t,target:p}))}),Ly=te.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:a="",end:c=!1,style:d,to:p,viewTransition:g,children:_}=e,w=tE(e,aS),T=eh(p,{relative:w.relative}),R=Rl(),N=te.useContext(Q_),{navigator:x,basename:S}=te.useContext(Fi),G=N!=null&&gS(T)&&g===!0,q=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,H=R.pathname,re=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(H=H.toLowerCase(),re=re?re.toLowerCase():null,q=q.toLowerCase()),re&&S&&(re=Do(re,S)||re);const K=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ae=H===q||!c&&H.startsWith(q)&&H.charAt(K)==="/",D=re!=null&&(re===q||!c&&re.startsWith(q)&&re.charAt(q.length)==="/"),A={isActive:ae,isPending:D,isTransitioning:G},P=ae?i:void 0,O;typeof a=="function"?O=a(A):O=[a,ae?"active":null,D?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let L=typeof d=="function"?d(A):d;return te.createElement(th,Ic({},w,{"aria-current":P,className:O,ref:t,style:L,to:p,viewTransition:g}),typeof _=="function"?_(A):_)});var Nf;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Nf||(Nf={}));var My;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(My||(My={}));function pS(n){let e=te.useContext(Jc);return e||it(!1),e}function mS(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,p=hp(),g=Rl(),_=eh(n,{relative:c});return te.useCallback(w=>{if(sS(w,t)){w.preventDefault();let T=i!==void 0?i:Tc(g)===Tc(_);p(n,{replace:T,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[g,p,_,i,o,t,n,a,c,d])}function gS(n,e){e===void 0&&(e={});let t=te.useContext(uS);t==null&&it(!1);let{basename:i}=pS(Nf.useViewTransitionState),o=eh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Do(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Do(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Pf(o.pathname,c)!=null||Pf(o.pathname,a)!=null}var tf={exports:{}},nf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function yS(){if(Fy)return nf;Fy=1;var n=Sl();function e(w,T){return w===T&&(w!==0||1/w===1/T)||w!==w&&T!==T}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function d(w,T){var R=T(),N=i({inst:{value:R,getSnapshot:T}}),x=N[0].inst,S=N[1];return a(function(){x.value=R,x.getSnapshot=T,p(x)&&S({inst:x})},[w,R,T]),o(function(){return p(x)&&S({inst:x}),w(function(){p(x)&&S({inst:x})})},[w]),c(R),R}function p(w){var T=w.getSnapshot;w=w.value;try{var R=T();return!t(w,R)}catch{return!0}}function g(w,T){return T()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return nf.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,nf}var Uy;function nE(){return Uy||(Uy=1,tf.exports=yS()),tf.exports}nE();var rf={exports:{}},sf={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function vS(){if(jy)return sf;jy=1;var n=Sl(),e=nE();function t(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var i=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,a=n.useRef,c=n.useEffect,d=n.useMemo,p=n.useDebugValue;return sf.useSyncExternalStoreWithSelector=function(g,_,w,T,R){var N=a(null);if(N.current===null){var x={hasValue:!1,value:null};N.current=x}else x=N.current;N=d(function(){function G(ae){if(!q){if(q=!0,H=ae,ae=T(ae),R!==void 0&&x.hasValue){var D=x.value;if(R(D,ae))return re=D}return re=ae}if(D=re,i(H,ae))return D;var A=T(ae);return R!==void 0&&R(D,A)?(H=ae,D):(H=ae,re=A)}var q=!1,H,re,K=w===void 0?null:w;return[function(){return G(_())},K===null?void 0:function(){return G(K())}]},[_,w,T,R]);var S=o(g,N[0],N[1]);return c(function(){x.hasValue=!0,x.value=S},[S]),p(S),S},sf}var By;function _S(){return By||(By=1,rf.exports=vS()),rf.exports}var ES=_S();function wS(n){n()}let rE=wS;const TS=n=>rE=n,IS=()=>rE,zy=Symbol.for("react-redux-context"),$y=typeof globalThis<"u"?globalThis:{};function SS(){var n;if(!te.createContext)return{};const e=(n=$y[zy])!=null?n:$y[zy]=new Map;let t=e.get(te.createContext);return t||(t=te.createContext(null),e.set(te.createContext,t)),t}const Ni=SS();function dp(n=Ni){return function(){return te.useContext(n)}}const iE=dp(),AS=()=>{throw new Error("uSES not initialized!")};let sE=AS;const RS=n=>{sE=n},CS=(n,e)=>n===e;function PS(n=Ni){const e=n===Ni?iE:dp(n);return function(i,o={}){const{equalityFn:a=CS,stabilityCheck:c=void 0,noopCheck:d=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:p,subscription:g,getServerState:_,stabilityCheck:w,noopCheck:T}=e();te.useRef(!0);const R=te.useCallback({[i.name](x){return i(x)}}[i.name],[i,w,c]),N=sE(g.addNestedSub,p.getState,_||p.getState,R,a);return te.useDebugValue(N),N}}const xf=PS();var of={exports:{}},Ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function kS(){if(Wy)return Ue;Wy=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,g=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,T=n?Symbol.for("react.suspense_list"):60120,R=n?Symbol.for("react.memo"):60115,N=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,S=n?Symbol.for("react.fundamental"):60117,G=n?Symbol.for("react.responder"):60118,q=n?Symbol.for("react.scope"):60119;function H(K){if(typeof K=="object"&&K!==null){var ae=K.$$typeof;switch(ae){case e:switch(K=K.type,K){case p:case g:case i:case a:case o:case w:return K;default:switch(K=K&&K.$$typeof,K){case d:case _:case N:case R:case c:return K;default:return ae}}case t:return ae}}}function re(K){return H(K)===g}return Ue.AsyncMode=p,Ue.ConcurrentMode=g,Ue.ContextConsumer=d,Ue.ContextProvider=c,Ue.Element=e,Ue.ForwardRef=_,Ue.Fragment=i,Ue.Lazy=N,Ue.Memo=R,Ue.Portal=t,Ue.Profiler=a,Ue.StrictMode=o,Ue.Suspense=w,Ue.isAsyncMode=function(K){return re(K)||H(K)===p},Ue.isConcurrentMode=re,Ue.isContextConsumer=function(K){return H(K)===d},Ue.isContextProvider=function(K){return H(K)===c},Ue.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===e},Ue.isForwardRef=function(K){return H(K)===_},Ue.isFragment=function(K){return H(K)===i},Ue.isLazy=function(K){return H(K)===N},Ue.isMemo=function(K){return H(K)===R},Ue.isPortal=function(K){return H(K)===t},Ue.isProfiler=function(K){return H(K)===a},Ue.isStrictMode=function(K){return H(K)===o},Ue.isSuspense=function(K){return H(K)===w},Ue.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===i||K===g||K===a||K===o||K===w||K===T||typeof K=="object"&&K!==null&&(K.$$typeof===N||K.$$typeof===R||K.$$typeof===c||K.$$typeof===d||K.$$typeof===_||K.$$typeof===S||K.$$typeof===G||K.$$typeof===q||K.$$typeof===x)},Ue.typeOf=H,Ue}var qy;function NS(){return qy||(qy=1,of.exports=kS()),of.exports}var af,Hy;function xS(){if(Hy)return af;Hy=1;var n=NS(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function c(N){return n.isMemo(N)?o:a[N.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,T=Object.prototype;function R(N,x,S){if(typeof x!="string"){if(T){var G=w(x);G&&G!==T&&R(N,G,S)}var q=p(x);g&&(q=q.concat(g(x)));for(var H=c(N),re=c(x),K=0;K<q.length;++K){var ae=q[K];if(!t[ae]&&!(S&&S[ae])&&!(re&&re[ae])&&!(H&&H[ae])){var D=_(x,ae);try{d(N,ae,D)}catch{}}}}return N}return af=R,af}xS();var lf={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function OS(){if(Ky)return je;Ky=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function x(S){if(typeof S=="object"&&S!==null){var G=S.$$typeof;switch(G){case n:switch(S=S.type,S){case t:case o:case i:case g:case _:return S;default:switch(S=S&&S.$$typeof,S){case d:case c:case p:case T:case w:case a:return S;default:return G}}case e:return G}}}return je.ContextConsumer=c,je.ContextProvider=a,je.Element=n,je.ForwardRef=p,je.Fragment=t,je.Lazy=T,je.Memo=w,je.Portal=e,je.Profiler=o,je.StrictMode=i,je.Suspense=g,je.SuspenseList=_,je.isAsyncMode=function(){return!1},je.isConcurrentMode=function(){return!1},je.isContextConsumer=function(S){return x(S)===c},je.isContextProvider=function(S){return x(S)===a},je.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},je.isForwardRef=function(S){return x(S)===p},je.isFragment=function(S){return x(S)===t},je.isLazy=function(S){return x(S)===T},je.isMemo=function(S){return x(S)===w},je.isPortal=function(S){return x(S)===e},je.isProfiler=function(S){return x(S)===o},je.isStrictMode=function(S){return x(S)===i},je.isSuspense=function(S){return x(S)===g},je.isSuspenseList=function(S){return x(S)===_},je.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===o||S===i||S===g||S===_||S===R||typeof S=="object"&&S!==null&&(S.$$typeof===T||S.$$typeof===w||S.$$typeof===a||S.$$typeof===c||S.$$typeof===p||S.$$typeof===N||S.getModuleId!==void 0)},je.typeOf=x,je}var Gy;function bS(){return Gy||(Gy=1,lf.exports=OS()),lf.exports}bS();function DS(){const n=IS();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],o=e;for(;o;)i.push(o),o=o.next;return i},subscribe(i){let o=!0,a=t={callback:i,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!o||e===null||(o=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const Qy={notify(){},get:()=>[]};function VS(n,e){let t,i=Qy,o=0,a=!1;function c(x){_();const S=i.subscribe(x);let G=!1;return()=>{G||(G=!0,S(),w())}}function d(){i.notify()}function p(){N.onStateChange&&N.onStateChange()}function g(){return a}function _(){o++,t||(t=n.subscribe(p),i=DS())}function w(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=Qy)}function T(){a||(a=!0,_())}function R(){a&&(a=!1,w())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:T,tryUnsubscribe:R,getListeners:()=>i};return N}const LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MS=LS?te.useLayoutEffect:te.useEffect;function FS({store:n,context:e,children:t,serverState:i,stabilityCheck:o="once",noopCheck:a="once"}){const c=te.useMemo(()=>{const g=VS(n);return{store:n,subscription:g,getServerState:i?()=>i:void 0,stabilityCheck:o,noopCheck:a}},[n,i,o,a]),d=te.useMemo(()=>n.getState(),[n]);MS(()=>{const{subscription:g}=c;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),d!==n.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[c,d]);const p=e||Ni;return te.createElement(p.Provider,{value:c},t)}function oE(n=Ni){const e=n===Ni?iE:dp(n);return function(){const{store:i}=e();return i}}const US=oE();function jS(n=Ni){const e=n===Ni?US:oE(n);return function(){return e().dispatch}}const qo=jS();RS(ES.useSyncExternalStoreWithSelector);TS(fI.unstable_batchedUpdates);function zn(n){for(var e=arguments.length,t=Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xi(n){return!!n&&!!n[Ze]}function br(n){var e;return!!n&&(function(t){if(!t||typeof t!="object")return!1;var i=Object.getPrototypeOf(t);if(i===null)return!0;var o=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===QS}(n)||Array.isArray(n)||!!n[nv]||!!(!((e=n.constructor)===null||e===void 0)&&e[nv])||fp(n)||pp(n))}function ws(n,e,t){t===void 0&&(t=!1),Ho(n)===0?(t?Object.keys:ko)(n).forEach(function(i){t&&typeof i=="symbol"||e(i,n[i],n)}):n.forEach(function(i,o){return e(o,i,n)})}function Ho(n){var e=n[Ze];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:fp(n)?2:pp(n)?3:0}function Po(n,e){return Ho(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function BS(n,e){return Ho(n)===2?n.get(e):n[e]}function aE(n,e,t){var i=Ho(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function lE(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function fp(n){return KS&&n instanceof Map}function pp(n){return GS&&n instanceof Set}function ys(n){return n.o||n.t}function mp(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=cE(n);delete e[Ze];for(var t=ko(e),i=0;i<t.length;i++){var o=t[i],a=e[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Object.getPrototypeOf(n),e)}function gp(n,e){return e===void 0&&(e=!1),yp(n)||xi(n)||!br(n)||(Ho(n)>1&&(n.set=n.add=n.clear=n.delete=zS),Object.freeze(n),e&&ws(n,function(t,i){return gp(i,!0)},!0)),n}function zS(){zn(2)}function yp(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function sr(n){var e=Vf[n];return e||zn(18,n),e}function $S(n,e){Vf[n]||(Vf[n]=e)}function Of(){return dl}function uf(n,e){e&&(sr("Patches"),n.u=[],n.s=[],n.v=e)}function Sc(n){bf(n),n.p.forEach(WS),n.p=null}function bf(n){n===dl&&(dl=n.l)}function Yy(n){return dl={p:[],l:dl,h:n,m:!0,_:0}}function WS(n){var e=n[Ze];e.i===0||e.i===1?e.j():e.g=!0}function cf(n,e){e._=e.p.length;var t=e.p[0],i=n!==void 0&&n!==t;return e.h.O||sr("ES5").S(e,n,i),i?(t[Ze].P&&(Sc(e),zn(4)),br(n)&&(n=Ac(e,n),e.l||Rc(e,n)),e.u&&sr("Patches").M(t[Ze].t,n,e.u,e.s)):n=Ac(e,t,[]),Sc(e),e.u&&e.v(e.u,e.s),n!==uE?n:void 0}function Ac(n,e,t){if(yp(e))return e;var i=e[Ze];if(!i)return ws(e,function(d,p){return Xy(n,i,e,d,p,t)},!0),e;if(i.A!==n)return e;if(!i.P)return Rc(n,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var o=i.i===4||i.i===5?i.o=mp(i.k):i.o,a=o,c=!1;i.i===3&&(a=new Set(o),o.clear(),c=!0),ws(a,function(d,p){return Xy(n,i,o,d,p,t,c)}),Rc(n,o,!1),t&&n.u&&sr("Patches").N(i,t,n.u,n.s)}return i.o}function Xy(n,e,t,i,o,a,c){if(xi(o)){var d=Ac(n,o,a&&e&&e.i!==3&&!Po(e.R,i)?a.concat(i):void 0);if(aE(t,i,d),!xi(d))return;n.m=!1}else c&&t.add(o);if(br(o)&&!yp(o)){if(!n.h.D&&n._<1)return;Ac(n,o),e&&e.A.l||Rc(n,o)}}function Rc(n,e,t){t===void 0&&(t=!1),!n.l&&n.h.D&&n.m&&gp(e,t)}function hf(n,e){var t=n[Ze];return(t?ys(t):n)[e]}function Jy(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Object.getPrototypeOf(t)}}function pi(n){n.P||(n.P=!0,n.l&&pi(n.l))}function df(n){n.o||(n.o=mp(n.t))}function Df(n,e,t){var i=fp(e)?sr("MapSet").F(e,t):pp(e)?sr("MapSet").T(e,t):n.O?function(o,a){var c=Array.isArray(o),d={i:c?1:0,A:a?a.A:Of(),P:!1,I:!1,R:{},l:a,t:o,k:null,o:null,j:null,C:!1},p=d,g=fl;c&&(p=[d],g=Xa);var _=Proxy.revocable(p,g),w=_.revoke,T=_.proxy;return d.k=T,d.j=w,T}(e,t):sr("ES5").J(e,t);return(t?t.A:Of()).p.push(i),i}function qS(n){return xi(n)||zn(22,n),function e(t){if(!br(t))return t;var i,o=t[Ze],a=Ho(t);if(o){if(!o.P&&(o.i<4||!sr("ES5").K(o)))return o.t;o.I=!0,i=Zy(t,a),o.I=!1}else i=Zy(t,a);return ws(i,function(c,d){o&&BS(o.t,c)===d||aE(i,c,e(d))}),a===3?new Set(i):i}(n)}function Zy(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return mp(n)}function HS(){function n(a,c){var d=o[a];return d?d.enumerable=c:o[a]=d={configurable:!0,enumerable:c,get:function(){var p=this[Ze];return fl.get(p,a)},set:function(p){var g=this[Ze];fl.set(g,a,p)}},d}function e(a){for(var c=a.length-1;c>=0;c--){var d=a[c][Ze];if(!d.P)switch(d.i){case 5:i(d)&&pi(d);break;case 4:t(d)&&pi(d)}}}function t(a){for(var c=a.t,d=a.k,p=ko(d),g=p.length-1;g>=0;g--){var _=p[g];if(_!==Ze){var w=c[_];if(w===void 0&&!Po(c,_))return!0;var T=d[_],R=T&&T[Ze];if(R?R.t!==w:!lE(T,w))return!0}}var N=!!c[Ze];return p.length!==ko(c).length+(N?0:1)}function i(a){var c=a.k;if(c.length!==a.t.length)return!0;var d=Object.getOwnPropertyDescriptor(c,c.length-1);if(d&&!d.get)return!0;for(var p=0;p<c.length;p++)if(!c.hasOwnProperty(p))return!0;return!1}var o={};$S("ES5",{J:function(a,c){var d=Array.isArray(a),p=function(_,w){if(_){for(var T=Array(w.length),R=0;R<w.length;R++)Object.defineProperty(T,""+R,n(R,!0));return T}var N=cE(w);delete N[Ze];for(var x=ko(N),S=0;S<x.length;S++){var G=x[S];N[G]=n(G,_||!!N[G].enumerable)}return Object.create(Object.getPrototypeOf(w),N)}(d,a),g={i:d?5:4,A:c?c.A:Of(),P:!1,I:!1,R:{},l:c,t:a,k:p,o:null,g:!1,C:!1};return Object.defineProperty(p,Ze,{value:g,writable:!0}),p},S:function(a,c,d){d?xi(c)&&c[Ze].A===a&&e(a.p):(a.u&&function p(g){if(g&&typeof g=="object"){var _=g[Ze];if(_){var w=_.t,T=_.k,R=_.R,N=_.i;if(N===4)ws(T,function(H){H!==Ze&&(w[H]!==void 0||Po(w,H)?R[H]||p(T[H]):(R[H]=!0,pi(_)))}),ws(w,function(H){T[H]!==void 0||Po(T,H)||(R[H]=!1,pi(_))});else if(N===5){if(i(_)&&(pi(_),R.length=!0),T.length<w.length)for(var x=T.length;x<w.length;x++)R[x]=!1;else for(var S=w.length;S<T.length;S++)R[S]=!0;for(var G=Math.min(T.length,w.length),q=0;q<G;q++)T.hasOwnProperty(q)||(R[q]=!0),R[q]===void 0&&p(T[q])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?t(a):i(a)}})}var ev,dl,vp=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",KS=typeof Map<"u",GS=typeof Set<"u",tv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",uE=vp?Symbol.for("immer-nothing"):((ev={})["immer-nothing"]=!0,ev),nv=vp?Symbol.for("immer-draftable"):"__$immer_draftable",Ze=vp?Symbol.for("immer-state"):"__$immer_state",QS=""+Object.prototype.constructor,ko=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,cE=Object.getOwnPropertyDescriptors||function(n){var e={};return ko(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},Vf={},fl={get:function(n,e){if(e===Ze)return n;var t=ys(n);if(!Po(t,e))return function(o,a,c){var d,p=Jy(a,c);return p?"value"in p?p.value:(d=p.get)===null||d===void 0?void 0:d.call(o.k):void 0}(n,t,e);var i=t[e];return n.I||!br(i)?i:i===hf(n.t,e)?(df(n),n.o[e]=Df(n.A.h,i,n)):i},has:function(n,e){return e in ys(n)},ownKeys:function(n){return Reflect.ownKeys(ys(n))},set:function(n,e,t){var i=Jy(ys(n),e);if(i!=null&&i.set)return i.set.call(n.k,t),!0;if(!n.P){var o=hf(ys(n),e),a=o==null?void 0:o[Ze];if(a&&a.t===t)return n.o[e]=t,n.R[e]=!1,!0;if(lE(t,o)&&(t!==void 0||Po(n.t,e)))return!0;df(n),pi(n)}return n.o[e]===t&&(t!==void 0||e in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[e])||(n.o[e]=t,n.R[e]=!0),!0},deleteProperty:function(n,e){return hf(n.t,e)!==void 0||e in n.t?(n.R[e]=!1,df(n),pi(n)):delete n.R[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=ys(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty:function(){zn(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){zn(12)}},Xa={};ws(fl,function(n,e){Xa[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Xa.deleteProperty=function(n,e){return Xa.set.call(this,n,e,void 0)},Xa.set=function(n,e,t){return fl.set.call(this,n[0],e,t,n[0])};var YS=function(){function n(t){var i=this;this.O=tv,this.D=!0,this.produce=function(o,a,c){if(typeof o=="function"&&typeof a!="function"){var d=a;a=o;var p=i;return function(x){var S=this;x===void 0&&(x=d);for(var G=arguments.length,q=Array(G>1?G-1:0),H=1;H<G;H++)q[H-1]=arguments[H];return p.produce(x,function(re){var K;return(K=a).call.apply(K,[S,re].concat(q))})}}var g;if(typeof a!="function"&&zn(6),c!==void 0&&typeof c!="function"&&zn(7),br(o)){var _=Yy(i),w=Df(i,o,void 0),T=!0;try{g=a(w),T=!1}finally{T?Sc(_):bf(_)}return typeof Promise<"u"&&g instanceof Promise?g.then(function(x){return uf(_,c),cf(x,_)},function(x){throw Sc(_),x}):(uf(_,c),cf(g,_))}if(!o||typeof o!="object"){if((g=a(o))===void 0&&(g=o),g===uE&&(g=void 0),i.D&&gp(g,!0),c){var R=[],N=[];sr("Patches").M(o,g,R,N),c(R,N)}return g}zn(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(g){for(var _=arguments.length,w=Array(_>1?_-1:0),T=1;T<_;T++)w[T-1]=arguments[T];return i.produceWithPatches(g,function(R){return o.apply(void 0,[R].concat(w))})};var c,d,p=i.produce(o,a,function(g,_){c=g,d=_});return typeof Promise<"u"&&p instanceof Promise?p.then(function(g){return[g,c,d]}):[p,c,d]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){br(t)||zn(8),xi(t)&&(t=qS(t));var i=Yy(this),o=Df(this,t,void 0);return o[Ze].C=!0,bf(i),o},e.finishDraft=function(t,i){var o=t&&t[Ze],a=o.A;return uf(a,i),cf(void 0,a)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!tv&&zn(20),this.O=t},e.applyPatches=function(t,i){var o;for(o=i.length-1;o>=0;o--){var a=i[o];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}o>-1&&(i=i.slice(o+1));var c=sr("Patches").$;return xi(t)?c(t,i):this.produce(t,function(d){return c(d,i)})},n}(),mn=new YS,hE=mn.produce;mn.produceWithPatches.bind(mn);mn.setAutoFreeze.bind(mn);mn.setUseProxies.bind(mn);mn.applyPatches.bind(mn);mn.createDraft.bind(mn);mn.finishDraft.bind(mn);function pl(n){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(n)}function XS(n,e){if(pl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(pl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function JS(n){var e=XS(n,"string");return pl(e)=="symbol"?e:e+""}function ZS(n,e,t){return(e=JS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function iv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rv(Object(t),!0).forEach(function(i){ZS(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rv(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Bt(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var sv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ff=function(){return Math.random().toString(36).substring(7).split("").join(".")},Cc={INIT:"@@redux/INIT"+ff(),REPLACE:"@@redux/REPLACE"+ff(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ff()}};function e1(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function dE(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Bt(1));return t(dE)(n,e)}if(typeof n!="function")throw new Error(Bt(2));var o=n,a=e,c=[],d=c,p=!1;function g(){d===c&&(d=c.slice())}function _(){if(p)throw new Error(Bt(3));return a}function w(x){if(typeof x!="function")throw new Error(Bt(4));if(p)throw new Error(Bt(5));var S=!0;return g(),d.push(x),function(){if(S){if(p)throw new Error(Bt(6));S=!1,g();var q=d.indexOf(x);d.splice(q,1),c=null}}}function T(x){if(!e1(x))throw new Error(Bt(7));if(typeof x.type>"u")throw new Error(Bt(8));if(p)throw new Error(Bt(9));try{p=!0,a=o(a,x)}finally{p=!1}for(var S=c=d,G=0;G<S.length;G++){var q=S[G];q()}return x}function R(x){if(typeof x!="function")throw new Error(Bt(10));o=x,T({type:Cc.REPLACE})}function N(){var x,S=w;return x={subscribe:function(q){if(typeof q!="object"||q===null)throw new Error(Bt(11));function H(){q.next&&q.next(_())}H();var re=S(H);return{unsubscribe:re}}},x[sv]=function(){return this},x}return T({type:Cc.INIT}),i={dispatch:T,subscribe:w,getState:_,replaceReducer:R},i[sv]=N,i}function t1(n){Object.keys(n).forEach(function(e){var t=n[e],i=t(void 0,{type:Cc.INIT});if(typeof i>"u")throw new Error(Bt(12));if(typeof t(void 0,{type:Cc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function n1(n){for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var o=e[i];typeof n[o]=="function"&&(t[o]=n[o])}var a=Object.keys(t),c;try{t1(t)}catch(d){c=d}return function(p,g){if(p===void 0&&(p={}),c)throw c;for(var _=!1,w={},T=0;T<a.length;T++){var R=a[T],N=t[R],x=p[R],S=N(x,g);if(typeof S>"u")throw g&&g.type,new Error(Bt(14));w[R]=S,_=_||S!==x}return _=_||a.length!==Object.keys(p).length,_?w:p}}function Pc(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,o){return function(){return i(o.apply(void 0,arguments))}})}function r1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){return function(){var o=i.apply(void 0,arguments),a=function(){throw new Error(Bt(15))},c={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},d=e.map(function(p){return p(c)});return a=Pc.apply(void 0,d)(o.dispatch),iv(iv({},o),{},{dispatch:a})}}}function fE(n){var e=function(i){var o=i.dispatch,a=i.getState;return function(c){return function(d){return typeof d=="function"?d(o,a,n):c(d)}}};return e}var Lf=fE();Lf.withExtraArgument=fE;var pE=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),i1=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(g){return function(_){return p([g,_])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(a=g[0]&2?o.return:g[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,g[1])).done)return a;switch(o=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){t.label=g[1];break}if(g[0]===6&&t.label<a[1]){t.label=a[1],a=g;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(g);break}a[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(_){g=[6,_],o=0}finally{i=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Vo=function(n,e){for(var t=0,i=e.length,o=n.length;t<i;t++,o++)n[o]=e[t];return n},s1=Object.defineProperty,o1=Object.defineProperties,a1=Object.getOwnPropertyDescriptors,ov=Object.getOwnPropertySymbols,l1=Object.prototype.hasOwnProperty,u1=Object.prototype.propertyIsEnumerable,av=function(n,e,t){return e in n?s1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},Ti=function(n,e){for(var t in e||(e={}))l1.call(e,t)&&av(n,t,e[t]);if(ov)for(var i=0,o=ov(e);i<o.length;i++){var t=o[i];u1.call(e,t)&&av(n,t,e[t])}return n},pf=function(n,e){return o1(n,a1(e))},c1=function(n,e,t){return new Promise(function(i,o){var a=function(p){try{d(t.next(p))}catch(g){o(g)}},c=function(p){try{d(t.throw(p))}catch(g){o(g)}},d=function(p){return p.done?i(p.value):Promise.resolve(p.value).then(a,c)};d((t=t.apply(n,e)).next())})},h1=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pc:Pc.apply(null,arguments)};function d1(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}function Ii(n,e){function t(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(e){var a=e.apply(void 0,i);if(!a)throw new Error("prepareAction did not return an object");return Ti(Ti({type:n,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:n,payload:i[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(i){return i.type===n},t}var f1=function(n){pE(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=n.apply(this,t)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Vo([void 0],t[0].concat(this)))):new(e.bind.apply(e,Vo([void 0],t.concat(this))))},e}(Array),p1=function(n){pE(e,n);function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=n.apply(this,t)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Vo([void 0],t[0].concat(this)))):new(e.bind.apply(e,Vo([void 0],t.concat(this))))},e}(Array);function Mf(n){return br(n)?hE(n,function(){}):n}function m1(n){return typeof n=="boolean"}function g1(){return function(e){return y1(e)}}function y1(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck,n.actionCreatorCheck;var i=new f1;return t&&(m1(t)?i.push(Lf):i.push(Lf.withExtraArgument(t.extraArgument))),i}function v1(n){var e=g1(),t=n||{},i=t.reducer,o=i===void 0?void 0:i,a=t.middleware,c=a===void 0?e():a,d=t.devTools,p=d===void 0?!0:d,g=t.preloadedState,_=g===void 0?void 0:g,w=t.enhancers,T=w===void 0?void 0:w,R;if(typeof o=="function")R=o;else if(d1(o))R=n1(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var N=c;typeof N=="function"&&(N=N(e));var x=r1.apply(void 0,N),S=Pc;p&&(S=h1(Ti({trace:!1},typeof p=="object"&&p)));var G=new p1(x),q=G;Array.isArray(T)?q=Vo([x],T):typeof T=="function"&&(q=T(G));var H=S.apply(void 0,q);return dE(R,_,H)}function mE(n){var e={},t=[],i,o={addCase:function(a,c){var d=typeof a=="string"?a:a.type;if(!d)throw new Error("`builder.addCase` cannot be called with an empty action type");if(d in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[d]=c,o},addMatcher:function(a,c){return t.push({matcher:a,reducer:c}),o},addDefaultCase:function(a){return i=a,o}};return n(o),[e,t,i]}function _1(n){return typeof n=="function"}function E1(n,e,t,i){t===void 0&&(t=[]);var o=typeof e=="function"?mE(e):[e,t,i],a=o[0],c=o[1],d=o[2],p;if(_1(n))p=function(){return Mf(n())};else{var g=Mf(n);p=function(){return g}}function _(w,T){w===void 0&&(w=p());var R=Vo([a[T.type]],c.filter(function(N){var x=N.matcher;return x(T)}).map(function(N){var x=N.reducer;return x}));return R.filter(function(N){return!!N}).length===0&&(R=[d]),R.reduce(function(N,x){if(x)if(xi(N)){var S=N,G=x(S,T);return G===void 0?N:G}else{if(br(N))return hE(N,function(q){return x(q,T)});var G=x(N,T);if(G===void 0){if(N===null)return N;throw Error("A case reducer on a non-draftable value must not return undefined")}return G}return N},w)}return _.getInitialState=p,_}function w1(n,e){return n+"/"+e}function gE(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");var t=typeof n.initialState=="function"?n.initialState:Mf(n.initialState),i=n.reducers||{},o=Object.keys(i),a={},c={},d={};o.forEach(function(_){var w=i[_],T=w1(e,_),R,N;"reducer"in w?(R=w.reducer,N=w.prepare):R=w,a[_]=R,c[T]=R,d[_]=N?Ii(T,N):Ii(T)});function p(){var _=typeof n.extraReducers=="function"?mE(n.extraReducers):[n.extraReducers],w=_[0],T=w===void 0?{}:w,R=_[1],N=R===void 0?[]:R,x=_[2],S=x===void 0?void 0:x,G=Ti(Ti({},T),c);return E1(t,function(q){for(var H in G)q.addCase(H,G[H]);for(var re=0,K=N;re<K.length;re++){var ae=K[re];q.addMatcher(ae.matcher,ae.reducer)}S&&q.addDefaultCase(S)})}var g;return{name:e,reducer:function(_,w){return g||(g=p()),g(_,w)},actions:d,caseReducers:a,getInitialState:function(){return g||(g=p()),g.getInitialState()}}}var T1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I1=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=T1[Math.random()*64|0];return e},S1=["name","message","stack","code"],mf=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),lv=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),A1=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,i=S1;t<i.length;t++){var o=i[t];typeof n[o]=="string"&&(e[o]=n[o])}return e}return{message:String(n)}},nh=function(){function n(e,t,i){var o=Ii(e+"/fulfilled",function(g,_,w,T){return{payload:g,meta:pf(Ti({},T||{}),{arg:w,requestId:_,requestStatus:"fulfilled"})}}),a=Ii(e+"/pending",function(g,_,w){return{payload:void 0,meta:pf(Ti({},w||{}),{arg:_,requestId:g,requestStatus:"pending"})}}),c=Ii(e+"/rejected",function(g,_,w,T,R){return{payload:T,error:(i&&i.serializeError||A1)(g||"Rejected"),meta:pf(Ti({},R||{}),{arg:w,requestId:_,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(g==null?void 0:g.name)==="AbortError",condition:(g==null?void 0:g.name)==="ConditionError"})}}),d=typeof AbortController<"u"?AbortController:function(){function g(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return g.prototype.abort=function(){},g}();function p(g){return function(_,w,T){var R=i!=null&&i.idGenerator?i.idGenerator(g):I1(),N=new d,x;function S(q){x=q,N.abort()}var G=function(){return c1(this,null,function(){var q,H,re,K,ae,D,A;return i1(this,function(P){switch(P.label){case 0:return P.trys.push([0,4,,5]),K=(q=i==null?void 0:i.condition)==null?void 0:q.call(i,g,{getState:w,extra:T}),C1(K)?[4,K]:[3,2];case 1:K=P.sent(),P.label=2;case 2:if(K===!1||N.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return ae=new Promise(function(O,L){return N.signal.addEventListener("abort",function(){return L({name:"AbortError",message:x||"Aborted"})})}),_(a(R,g,(H=i==null?void 0:i.getPendingMeta)==null?void 0:H.call(i,{requestId:R,arg:g},{getState:w,extra:T}))),[4,Promise.race([ae,Promise.resolve(t(g,{dispatch:_,getState:w,extra:T,requestId:R,signal:N.signal,abort:S,rejectWithValue:function(O,L){return new mf(O,L)},fulfillWithValue:function(O,L){return new lv(O,L)}})).then(function(O){if(O instanceof mf)throw O;return O instanceof lv?o(O.payload,R,g,O.meta):o(O,R,g)})])];case 3:return re=P.sent(),[3,5];case 4:return D=P.sent(),re=D instanceof mf?c(null,R,g,D.payload,D.meta):c(D,R,g),[3,5];case 5:return A=i&&!i.dispatchConditionRejection&&c.match(re)&&re.meta.condition,A||_(re),[2,re]}})})}();return Object.assign(G,{abort:S,requestId:R,arg:g,unwrap:function(){return G.then(R1)}})}}return Object.assign(p,{pending:a,rejected:c,fulfilled:o,typePrefix:e})}return n.withTypes=function(){return n},n}();function R1(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function C1(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var _p="listenerMiddleware";Ii(_p+"/add");Ii(_p+"/removeAll");Ii(_p+"/remove");var uv;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);HS();const P1=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},k1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(T=64)),i.push(t[_],t[w],t[T],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):k1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||g==null||w==null)throw new N1;const T=a<<2|d>>4;if(i.push(T),g!==64){const R=d<<4&240|g>>2;if(i.push(R),w!==64){const N=g<<6&192|w;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class N1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x1=function(n){const e=yE(n);return vE.encodeByteArray(e,!0)},kc=function(n){return x1(n).replace(/\./g,"")},_E=function(n){try{return vE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=()=>O1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof cv>"u")return;const n=cv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},V1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_E(n[1]);return e&&JSON.parse(e)},rh=()=>{try{return P1()||b1()||D1()||V1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},EE=n=>{var e,t;return(t=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},L1=n=>{const e=EE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},wE=()=>{var n;return(n=rh())===null||n===void 0?void 0:n.config},TE=n=>{var e;return(e=rh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(n){return n.endsWith(".cloudworkstations.dev")}async function IE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kc(JSON.stringify(t)),kc(JSON.stringify(c)),""].join(".")}const il={};function U1(){const n={prod:[],emulator:[]};for(const e of Object.keys(il))il[e]?n.emulator.push(e):n.prod.push(e);return n}function j1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let hv=!1;function SE(n,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||il[n]===e||il[n]||hv)return;il[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",a=U1().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{hv=!0,c()},T}function _(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=j1(i),R=t("text"),N=document.getElementById(R)||document.createElement("span"),x=t("learnmore"),S=document.getElementById(x)||document.createElement("a"),G=t("preprendIcon"),q=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;d(H),_(S,x);const re=g();p(q,G),H.append(q,N,S,re),document.body.appendChild(H)}a?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function z1(){var n;const e=(n=rh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H1(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function K1(){return!z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G1(){try{return typeof indexedDB=="object"}catch{return!1}}function Q1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="FirebaseError";class Ur extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Y1,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?X1(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ur(o,d,i)}}function X1(n,e){return n.replace(J1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const J1=/\{\$([^}]+)}/g;function Z1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ts(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(dv(a)&&dv(c)){if(!Ts(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function dv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ja(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Za(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eA(n,e){const t=new tA(n,e);return t.subscribe.bind(t)}class tA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");nA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=gf),o.error===void 0&&(o.error=gf),o.complete===void 0&&(o.complete=gf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new M1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sA(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iA(n){return n===vs?void 0:n}function sA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const aA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},lA=ke.INFO,uA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},cA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=uA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=lA,this._logHandler=cA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const hA=(n,e)=>e.some(t=>n instanceof t);let fv,pv;function dA(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fA(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,Ff=new WeakMap,RE=new WeakMap,yf=new WeakMap,wp=new WeakMap;function pA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Si(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&AE.set(t,n)}).catch(()=>{}),wp.set(e,n),e}function mA(n){if(Ff.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Ff.set(n,e)}let Uf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ff.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Si(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gA(n){Uf=n(Uf)}function yA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(vf(this),e,...t);return RE.set(i,e.sort?e.sort():[e]),Si(i)}:fA().includes(n)?function(...e){return n.apply(vf(this),e),Si(AE.get(this))}:function(...e){return Si(n.apply(vf(this),e))}}function vA(n){return typeof n=="function"?yA(n):(n instanceof IDBTransaction&&mA(n),hA(n,dA())?new Proxy(n,Uf):n)}function Si(n){if(n instanceof IDBRequest)return pA(n);if(yf.has(n))return yf.get(n);const e=vA(n);return e!==n&&(yf.set(n,e),wp.set(e,n)),e}const vf=n=>wp.get(n);function _A(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Si(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Si(c.result),p.oldVersion,p.newVersion,Si(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const EA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],_f=new Map;function mv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=wA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||EA.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return _f.set(e,a),a}gA(n=>({...n,get:(e,t,i)=>mv(e,t)||n.get(e,t,i),has:(e,t)=>!!mv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function IA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",gv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Ep("@firebase/app"),SA="@firebase/app-compat",AA="@firebase/analytics-compat",RA="@firebase/analytics",CA="@firebase/app-check-compat",PA="@firebase/app-check",kA="@firebase/auth",NA="@firebase/auth-compat",xA="@firebase/database",OA="@firebase/data-connect",bA="@firebase/database-compat",DA="@firebase/functions",VA="@firebase/functions-compat",LA="@firebase/installations",MA="@firebase/installations-compat",FA="@firebase/messaging",UA="@firebase/messaging-compat",jA="@firebase/performance",BA="@firebase/performance-compat",zA="@firebase/remote-config",$A="@firebase/remote-config-compat",WA="@firebase/storage",qA="@firebase/storage-compat",HA="@firebase/firestore",KA="@firebase/ai",GA="@firebase/firestore-compat",QA="firebase",YA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",XA={[jf]:"fire-core",[SA]:"fire-core-compat",[RA]:"fire-analytics",[AA]:"fire-analytics-compat",[PA]:"fire-app-check",[CA]:"fire-app-check-compat",[kA]:"fire-auth",[NA]:"fire-auth-compat",[xA]:"fire-rtdb",[OA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[DA]:"fire-fn",[VA]:"fire-fn-compat",[LA]:"fire-iid",[MA]:"fire-iid-compat",[FA]:"fire-fcm",[UA]:"fire-fcm-compat",[jA]:"fire-perf",[BA]:"fire-perf-compat",[zA]:"fire-rc",[$A]:"fire-rc-compat",[WA]:"fire-gcs",[qA]:"fire-gcs-compat",[HA]:"fire-fst",[GA]:"fire-fst-compat",[KA]:"fire-vertex","fire-js":"fire-js",[QA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,JA=new Map,zf=new Map;function yv(n,e){try{n.container.addComponent(e)}catch(t){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lo(n){const e=n.name;if(zf.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,n);for(const t of Nc.values())yv(t,n);for(const t of JA.values())yv(t,n);return!0}function Tp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Cl("app","Firebase",ZA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=YA;function CE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bf,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(t||(t=wE()),!t)throw Ai.create("no-options");const a=Nc.get(o);if(a){if(Ts(t,a.options)&&Ts(i,a.config))return a;throw Ai.create("duplicate-app",{appName:o})}const c=new oA(o);for(const p of zf.values())c.addComponent(p);const d=new eR(t,i,c);return Nc.set(o,d),d}function PE(n=Bf){const e=Nc.get(n);if(!e&&n===Bf&&wE())return CE();if(!e)throw Ai.create("no-app",{appName:n});return e}function Ri(n,e,t){var i;let o=(i=XA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(d.join(" "));return}Lo(new Is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebase-heartbeat-database",nR=1,ml="firebase-heartbeat-store";let Ef=null;function kE(){return Ef||(Ef=_A(tR,nR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ml)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),Ef}async function rR(n){try{const t=(await kE()).transaction(ml),i=await t.objectStore(ml).get(NE(n));return await t.done,i}catch(e){if(e instanceof Ur)Dr.warn(e.message);else{const t=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(t.message)}}}async function vv(n,e){try{const i=(await kE()).transaction(ml,"readwrite");await i.objectStore(ml).put(e,NE(n)),await i.done}catch(t){if(t instanceof Ur)Dr.warn(t.message);else{const i=Ai.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(i.message)}}}function NE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1024,sR=30;class oR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>sR){const c=uR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Dr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_v(),{heartbeatsToSend:i,unsentEntries:o}=aR(this._heartbeatsCache.heartbeats),a=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Dr.warn(t),""}}}function _v(){return new Date().toISOString().substring(0,10)}function aR(n,e=iR){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Ev(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ev(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G1()?Q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ev(n){return kc(JSON.stringify({version:2,heartbeats:n})).length}function uR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n){Lo(new Is("platform-logger",e=>new TA(e),"PRIVATE")),Lo(new Is("heartbeat",e=>new oR(e),"PRIVATE")),Ri(jf,gv,n),Ri(jf,gv,"esm2017"),Ri("fire-js","")}cR("");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,xE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function P(){}P.prototype=A.prototype,D.D=A.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(O,L,F){for(var k=Array(arguments.length-2),st=2;st<arguments.length;st++)k[st-2]=arguments[st];return A.prototype[L].apply(O,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,P){P||(P=0);var O=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)O[L]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(L=0;16>L;++L)O[L]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=D.g[0],P=D.g[1],L=D.g[2];var F=D.g[3],k=A+(F^P&(L^F))+O[0]+3614090360&4294967295;A=P+(k<<7&4294967295|k>>>25),k=F+(L^A&(P^L))+O[1]+3905402710&4294967295,F=A+(k<<12&4294967295|k>>>20),k=L+(P^F&(A^P))+O[2]+606105819&4294967295,L=F+(k<<17&4294967295|k>>>15),k=P+(A^L&(F^A))+O[3]+3250441966&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(F^P&(L^F))+O[4]+4118548399&4294967295,A=P+(k<<7&4294967295|k>>>25),k=F+(L^A&(P^L))+O[5]+1200080426&4294967295,F=A+(k<<12&4294967295|k>>>20),k=L+(P^F&(A^P))+O[6]+2821735955&4294967295,L=F+(k<<17&4294967295|k>>>15),k=P+(A^L&(F^A))+O[7]+4249261313&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(F^P&(L^F))+O[8]+1770035416&4294967295,A=P+(k<<7&4294967295|k>>>25),k=F+(L^A&(P^L))+O[9]+2336552879&4294967295,F=A+(k<<12&4294967295|k>>>20),k=L+(P^F&(A^P))+O[10]+4294925233&4294967295,L=F+(k<<17&4294967295|k>>>15),k=P+(A^L&(F^A))+O[11]+2304563134&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(F^P&(L^F))+O[12]+1804603682&4294967295,A=P+(k<<7&4294967295|k>>>25),k=F+(L^A&(P^L))+O[13]+4254626195&4294967295,F=A+(k<<12&4294967295|k>>>20),k=L+(P^F&(A^P))+O[14]+2792965006&4294967295,L=F+(k<<17&4294967295|k>>>15),k=P+(A^L&(F^A))+O[15]+1236535329&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(L^F&(P^L))+O[1]+4129170786&4294967295,A=P+(k<<5&4294967295|k>>>27),k=F+(P^L&(A^P))+O[6]+3225465664&4294967295,F=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(F^A))+O[11]+643717713&4294967295,L=F+(k<<14&4294967295|k>>>18),k=P+(F^A&(L^F))+O[0]+3921069994&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(L^F&(P^L))+O[5]+3593408605&4294967295,A=P+(k<<5&4294967295|k>>>27),k=F+(P^L&(A^P))+O[10]+38016083&4294967295,F=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(F^A))+O[15]+3634488961&4294967295,L=F+(k<<14&4294967295|k>>>18),k=P+(F^A&(L^F))+O[4]+3889429448&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(L^F&(P^L))+O[9]+568446438&4294967295,A=P+(k<<5&4294967295|k>>>27),k=F+(P^L&(A^P))+O[14]+3275163606&4294967295,F=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(F^A))+O[3]+4107603335&4294967295,L=F+(k<<14&4294967295|k>>>18),k=P+(F^A&(L^F))+O[8]+1163531501&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(L^F&(P^L))+O[13]+2850285829&4294967295,A=P+(k<<5&4294967295|k>>>27),k=F+(P^L&(A^P))+O[2]+4243563512&4294967295,F=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(F^A))+O[7]+1735328473&4294967295,L=F+(k<<14&4294967295|k>>>18),k=P+(F^A&(L^F))+O[12]+2368359562&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(P^L^F)+O[5]+4294588738&4294967295,A=P+(k<<4&4294967295|k>>>28),k=F+(A^P^L)+O[8]+2272392833&4294967295,F=A+(k<<11&4294967295|k>>>21),k=L+(F^A^P)+O[11]+1839030562&4294967295,L=F+(k<<16&4294967295|k>>>16),k=P+(L^F^A)+O[14]+4259657740&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(P^L^F)+O[1]+2763975236&4294967295,A=P+(k<<4&4294967295|k>>>28),k=F+(A^P^L)+O[4]+1272893353&4294967295,F=A+(k<<11&4294967295|k>>>21),k=L+(F^A^P)+O[7]+4139469664&4294967295,L=F+(k<<16&4294967295|k>>>16),k=P+(L^F^A)+O[10]+3200236656&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(P^L^F)+O[13]+681279174&4294967295,A=P+(k<<4&4294967295|k>>>28),k=F+(A^P^L)+O[0]+3936430074&4294967295,F=A+(k<<11&4294967295|k>>>21),k=L+(F^A^P)+O[3]+3572445317&4294967295,L=F+(k<<16&4294967295|k>>>16),k=P+(L^F^A)+O[6]+76029189&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(P^L^F)+O[9]+3654602809&4294967295,A=P+(k<<4&4294967295|k>>>28),k=F+(A^P^L)+O[12]+3873151461&4294967295,F=A+(k<<11&4294967295|k>>>21),k=L+(F^A^P)+O[15]+530742520&4294967295,L=F+(k<<16&4294967295|k>>>16),k=P+(L^F^A)+O[2]+3299628645&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(L^(P|~F))+O[0]+4096336452&4294967295,A=P+(k<<6&4294967295|k>>>26),k=F+(P^(A|~L))+O[7]+1126891415&4294967295,F=A+(k<<10&4294967295|k>>>22),k=L+(A^(F|~P))+O[14]+2878612391&4294967295,L=F+(k<<15&4294967295|k>>>17),k=P+(F^(L|~A))+O[5]+4237533241&4294967295,P=L+(k<<21&4294967295|k>>>11),k=A+(L^(P|~F))+O[12]+1700485571&4294967295,A=P+(k<<6&4294967295|k>>>26),k=F+(P^(A|~L))+O[3]+2399980690&4294967295,F=A+(k<<10&4294967295|k>>>22),k=L+(A^(F|~P))+O[10]+4293915773&4294967295,L=F+(k<<15&4294967295|k>>>17),k=P+(F^(L|~A))+O[1]+2240044497&4294967295,P=L+(k<<21&4294967295|k>>>11),k=A+(L^(P|~F))+O[8]+1873313359&4294967295,A=P+(k<<6&4294967295|k>>>26),k=F+(P^(A|~L))+O[15]+4264355552&4294967295,F=A+(k<<10&4294967295|k>>>22),k=L+(A^(F|~P))+O[6]+2734768916&4294967295,L=F+(k<<15&4294967295|k>>>17),k=P+(F^(L|~A))+O[13]+1309151649&4294967295,P=L+(k<<21&4294967295|k>>>11),k=A+(L^(P|~F))+O[4]+4149444226&4294967295,A=P+(k<<6&4294967295|k>>>26),k=F+(P^(A|~L))+O[11]+3174756917&4294967295,F=A+(k<<10&4294967295|k>>>22),k=L+(A^(F|~P))+O[2]+718787259&4294967295,L=F+(k<<15&4294967295|k>>>17),k=P+(F^(L|~A))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var P=A-this.blockSize,O=this.B,L=this.h,F=0;F<A;){if(L==0)for(;F<=P;)o(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<A;)if(O[L++]=D.charCodeAt(F++),L==this.blockSize){o(this,O),L=0;break}}else for(;F<A;)if(O[L++]=D[F++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var P=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=P&255,P/=256;for(this.u(D),D=Array(16),A=P=0;4>A;++A)for(var O=0;32>O;O+=8)D[P++]=this.g[A]>>>O&255;return D};function a(D,A){var P=d;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=A(D)}function c(D,A){this.h=A;for(var P=[],O=!0,L=D.length-1;0<=L;L--){var F=D[L]|0;O&&F==A||(P[L]=F,O=!1)}this.g=P}var d={};function p(D){return-128<=D&&128>D?a(D,function(A){return new c([A|0],0>A?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return S(g(-D));for(var A=[],P=1,O=0;D>=P;O++)A[O]=D/P|0,P*=4294967296;return new c(A,0)}function _(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return S(_(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(A,8)),O=w,L=0;L<D.length;L+=8){var F=Math.min(8,D.length-L),k=parseInt(D.substring(L,L+F),A);8>F?(F=g(Math.pow(A,F)),O=O.j(F).add(g(k))):(O=O.j(P),O=O.add(g(k)))}return O}var w=p(0),T=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(x(this))return-S(this).m();for(var D=0,A=1,P=0;P<this.g.length;P++){var O=this.i(P);D+=(0<=O?O:4294967296+O)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(x(this))return"-"+S(this).toString(D);for(var A=g(Math.pow(D,6)),P=this,O="";;){var L=re(P,A).g;P=G(P,L.j(A));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=L,N(P))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function x(D){return D.h==-1}n.l=function(D){return D=G(this,D),x(D)?-1:N(D)?0:1};function S(D){for(var A=D.g.length,P=[],O=0;O<A;O++)P[O]=~D.g[O];return new c(P,~D.h).add(T)}n.abs=function(){return x(this)?S(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],O=0,L=0;L<=A;L++){var F=O+(this.i(L)&65535)+(D.i(L)&65535),k=(F>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);O=k>>>16,F&=65535,k&=65535,P[L]=k<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function G(D,A){return D.add(S(A))}n.j=function(D){if(N(this)||N(D))return w;if(x(this))return x(D)?S(this).j(S(D)):S(S(this).j(D));if(x(D))return S(this.j(S(D)));if(0>this.l(R)&&0>D.l(R))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,P=[],O=0;O<2*A;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<D.g.length;L++){var F=this.i(O)>>>16,k=this.i(O)&65535,st=D.i(L)>>>16,Dt=D.i(L)&65535;P[2*O+2*L]+=k*Dt,q(P,2*O+2*L),P[2*O+2*L+1]+=F*Dt,q(P,2*O+2*L+1),P[2*O+2*L+1]+=k*st,q(P,2*O+2*L+1),P[2*O+2*L+2]+=F*st,q(P,2*O+2*L+2)}for(O=0;O<A;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=A;O<2*A;O++)P[O]=0;return new c(P,0)};function q(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function H(D,A){this.g=D,this.h=A}function re(D,A){if(N(A))throw Error("division by zero");if(N(D))return new H(w,w);if(x(D))return A=re(S(D),A),new H(S(A.g),S(A.h));if(x(A))return A=re(D,S(A)),new H(S(A.g),A.h);if(30<D.g.length){if(x(D)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var P=T,O=A;0>=O.l(D);)P=K(P),O=K(O);var L=ae(P,1),F=ae(O,1);for(O=ae(O,2),P=ae(P,2);!N(O);){var k=F.add(O);0>=k.l(D)&&(L=L.add(P),F=k),O=ae(O,1),P=ae(P,1)}return A=G(D,L.j(A)),new H(L,A)}for(L=w;0<=D.l(A);){for(P=Math.max(1,Math.floor(D.m()/A.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=g(P),k=F.j(A);x(k)||0<k.l(D);)P-=O,F=g(P),k=F.j(A);N(F)&&(F=T),L=L.add(F),D=G(D,k)}return new H(L,D)}n.A=function(D){return re(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)&D.i(O);return new c(P,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)|D.i(O);return new c(P,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],O=0;O<A;O++)P[O]=this.i(O)^D.i(O);return new c(P,this.h^D.h)};function K(D){for(var A=D.g.length+1,P=[],O=0;O<A;O++)P[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(P,D.h)}function ae(D,A){var P=A>>5;A%=32;for(var O=D.g.length-P,L=[],F=0;F<O;F++)L[F]=0<A?D.i(F+P)>>>A|D.i(F+P+1)<<32-A:D.i(F+P);return new c(L,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Ci=c}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OE,el,bE,uc,$f,DE,VE,LE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var U=u[I];if(!(U in v))break e;v=v[U]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,I=!1,U={next:function(){if(!I&&v<u.length){var W=v++;return{value:m(W,u[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function R(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function N(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,U,W){for(var ie=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ie[ze-2]=arguments[ze];return m.prototype[U].apply(I,ie)}}function x(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function S(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const U=u.length||0,W=I.length||0;u.length=U+W;for(let ie=0;ie<W;ie++)u[U+ie]=I[ie]}else u.push(I)}}class G{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function q(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var K=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ae(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function D(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let v,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(v in I)u[v]=I[v];for(let W=0;W<P.length;W++)v=P[W],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function L(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){d.setTimeout(()=>{throw u},0)}function k(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const I=Dt.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var Dt=new G(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,se=!1,ye=new st,le=()=>{const u=d.Promise.resolve(void 0);$e=()=>{u.then(M)}};var M=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){F(v)}var m=Dt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Ce(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(K){e:{try{re(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,me);var Oe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function qe(u,m,v,I,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=U,this.key=++Fe,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hr(u){this.src=u,this.g={},this.h=0}hr.prototype.add=function(u,m,v,I,U){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ie=zr(u,m,I,U);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new qe(m,this.src,W,!!I,U),m.fa=v,u.push(m)),m};function Ns(u,m){var v=m.type;if(v in u.g){var I=u.g[v],U=Array.prototype.indexOf.call(I,m,void 0),W;(W=0<=U)&&Array.prototype.splice.call(I,U,1),W&&(Et(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function zr(u,m,v,I){for(var U=0;U<u.length;++U){var W=u[U];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==I)return U}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),xs={};function na(u,m,v,I,U){if(Array.isArray(m)){for(var W=0;W<m.length;W++)na(u,m[W],v,I,U);return null}return v=sa(v),u&&u[Me]?u.K(m,v,g(I)?!!I.capture:!1,U):ra(u,m,v,!1,I,U)}function ra(u,m,v,I,U,W){if(!m)throw Error("Invalid event type");var ie=g(U)?!!U.capture:!!U,ze=bs(u);if(ze||(u[$i]=ze=new hr(u)),v=ze.add(m,v,I,ie,W),v.proxy)return v;if(I=jl(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)Ae||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),I,U);else if(u.attachEvent)u.attachEvent(fr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function jl(){function u(v){return m.call(u.src,u.listener,v)}const m=ia;return u}function Os(u,m,v,I,U){if(Array.isArray(m))for(var W=0;W<m.length;W++)Os(u,m[W],v,I,U);else I=g(I)?!!I.capture:!!I,v=sa(v),u&&u[Me]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],v=zr(W,v,I,U),-1<v&&(Et(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,v,I,U)),(v=-1<u?m[u]:null)&&dr(v))}function dr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Me])Ns(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(fr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=bs(m))?(Ns(v,u),v.h==0&&(v.src=null,m[$i]=null)):Et(u)}}}function fr(u){return u in xs?xs[u]:xs[u]="on"+u}function ia(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&dr(u),u=v.call(I,m)}return u}function bs(u){return u=u[$i],u instanceof hr?u:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function sa(u){return typeof u=="function"?u:(u[Ds]||(u[Ds]=function(m){return u.handleEvent(m)}),u[Ds])}function ft(){Y.call(this),this.i=new hr(this),this.M=this,this.F=null}N(ft,Y),ft.prototype[Me]=!0,ft.prototype.removeEventListener=function(u,m,v,I){Os(this,u,m,v,I)};function pt(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var U=m;m=new me(I,u),O(m,U)}if(U=!0,v)for(var W=v.length-1;0<=W;W--){var ie=m.g=v[W];U=pr(ie,I,!0,m)&&U}if(ie=m.g=u,U=pr(ie,I,!0,m)&&U,U=pr(ie,I,!1,m)&&U,v)for(W=0;W<v.length;W++)ie=m.g=v[W],U=pr(ie,I,!1,m)&&U}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)Et(v[I]);delete u.g[m],u.h--}}this.F=null},ft.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},ft.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function pr(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,W=0;W<m.length;++W){var ie=m[W];if(ie&&!ie.da&&ie.capture==v){var ze=ie.listener,mt=ie.ha||ie.src;ie.fa&&Ns(u.i,ie),U=ze.call(mt,I)!==!1&&U}}return U&&!I.defaultPrevented}function oa(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function $r(u){u.g=oa(()=>{u.g=null,u.i&&(u.i=!1,$r(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wi extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){Y.call(this),this.h=u,this.g={}}N(qi,Y);var aa=[];function la(u){ae(u.g,function(m,v){this.g.hasOwnProperty(v)&&dr(m)},u),u.g={}}qi.prototype.N=function(){qi.aa.N.call(this),la(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=d.JSON.stringify,ca=d.JSON.parse,ha=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hi(){}Hi.prototype.h=null;function Vs(u){return u.h||(u.h=u.i())}function Ls(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){me.call(this,"d")}N(Kn,me);function Ms(){me.call(this,"c")}N(Ms,me);var Gn={},da=null;function Ki(){return da=da||new ft}Gn.La="serverreachability";function fa(u){me.call(this,Gn.La,u)}N(fa,me);function mr(u){const m=Ki();pt(m,new fa(m))}Gn.STAT_EVENT="statevent";function pa(u,m){me.call(this,Gn.STAT_EVENT,u),this.stat=m}N(pa,me);function ot(u){const m=Ki();pt(m,new pa(m,u))}Gn.Ma="timingevent";function Fs(u,m){me.call(this,Gn.Ma,u),this.size=m}N(Fs,me);function Cn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function Qi(u,m,v,I,U,W){u.info(function(){if(u.g)if(W)for(var ie="",ze=W.split("&"),mt=0;mt<ze.length;mt++){var be=ze[mt].split("=");if(1<be.length){var wt=be[0];be=be[1];var ut=wt.split("_");ie=2<=ut.length&&ut[1]=="type"?ie+(wt+"="+be+"&"):ie+(wt+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+v+`
`+ie})}function Us(u,m,v,I,U,W,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+v+`
`+W+" "+ie})}function Pn(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,v)+(I?" "+I:"")})}function ma(u,m){u.info(function(){return"TIMEOUT: "+m})}Gi.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return ua(v)}catch{return m}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Yi(){}N(Yi,Hi),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},kn=new Yi;function Nn(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}var ga={},Bs={};function zs(u,m,v){u.L=1,u.v=Gr(ln(m)),u.m=v,u.P=!0,ya(u,null)}function ya(u,m){u.F=Date.now(),He(u),u.A=ln(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Yr(v.i,"t",I),u.C=0,v=u.j.J,u.h=new zl,u.g=ou(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Wi(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(aa[0]=U.toString()),U=aa);for(var W=0;W<U.length;W++){var ie=na(v,U[W],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),mr(),Qi(u.i,u.u,u.A,u.l,u.R,u.m)}Nn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Yt(u)==3?m.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)e:{const ut=Yt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Ia(this.g)))){this.J||ut!=4||m==7||(m==8||0>=_n?mr(3):mr(2)),Xi(this);var v=this.g.Z();this.X=v;t:if($l(this)){var I=Ia(this.g);u="";var U=I.length,W=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Wr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(W&&m==U-1)});I.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Us(this.i,this.u,this.A,this.l,this.R,ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,mt=this.g;if((ze=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ze)){var be=ze;break t}}be=null}if(v=be)Pn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,v);else{this.o=!1,this.s=3,ot(12),yn(this),Wr(this);break e}}if(this.P){v=!0;let cn;for(;!this.J&&this.C<ie.length;)if(cn=Sh(this,ie),cn==Bs){ut==4&&(this.s=4,ot(14),v=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==ga){this.s=4,ot(15),Pn(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Pn(this.i,this.l,cn,null),va(this,cn);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||ie.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)Pn(this.i,this.l,ie,"[Invalid Chunked Response]"),yn(this),Wr(this);else if(0<ie.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Aa(wt),wt.M=!0,ot(11))}}else Pn(this.i,this.l,ie,null),va(this,ie);ut==4&&yn(this),this.o&&!this.J&&(ut==4?Zs(this.j,this):(this.o=!1,He(this)))}else Gs(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),yn(this),Wr(this)}}}catch{}finally{}};function $l(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Sh(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?Bs:(v=Number(m.substring(v,I)),isNaN(v)?ga:(I+=1,I+v>m.length?Bs:(m=m.slice(I,I+v),u.C=I+v,m)))}Nn.prototype.cancel=function(){this.J=!0,yn(this)};function He(u){u.S=Date.now()+u.I,Wl(u,u.I)}function Wl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Cn(T(u.ba,u),m)}function Xi(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Nn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ma(this.i,this.A),this.L!=2&&(mr(),ot(17)),yn(this),this.s=2,Wr(this)):Wl(this,this.S-u)};function Wr(u){u.j.G==0||u.J||Zs(u.j,u)}function yn(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,la(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function va(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||qt(v.h,u))){if(!u.K&&qt(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Js(v),Vn(v);else break e;Xs(v),ot(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Cn(T(v.Za,v),6e3));if(1>=Hl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Er(v,11)}else if((u.K||v.g==u)&&Js(v),!q(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let be=U[m];if(v.T=be[0],be=be[1],v.G==2)if(be[0]=="c"){v.K=be[1],v.ia=be[2];const wt=be[3];wt!=null&&(v.la=wt,v.j.info("VER="+v.la));const ut=be[4];ut!=null&&(v.Aa=ut,v.j.info("SVER="+v.Aa));const _n=be[5];_n!=null&&typeof _n=="number"&&0<_n&&(I=1.5*_n,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const cn=u.g;if(cn){const is=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var W=I.h;W.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(_a(W,W.h),W.h=null))}if(I.D){const to=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(I.ya=to,We(I.I,I.D,to))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ie=u;if(I.qa=su(I,I.J?I.ia:null,I.W),ie.K){Kl(I.h,ie);var ze=ie,mt=I.L;mt&&(ze.I=mt),ze.B&&(Xi(ze),He(ze)),I.g=ie}else rs(I);0<v.i.length&&Jn(v)}else be[0]!="stop"&&be[0]!="close"||Er(v,7);else v.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Er(v,7):Pt(v):be[0]!="noop"&&v.l&&v.l.ta(be),v.v=0)}}mr(4)}catch{}}var ql=class{constructor(u,m){this.g=u,this.map=m}};function Ji(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function an(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hl(u){return u.h?1:u.g?u.g.size:0}function qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _a(u,m){u.g?u.g.add(m):u.h=m}function Kl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ji.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return x(u.i)}function $s(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function Ws(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function qr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ws(u),I=$s(u),U=I.length,W=0;W<U;W++)m.call(void 0,I[W],v&&v[W],u)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ah(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),U=null;if(0<=I){var W=u[v].substring(0,I);U=u[v].substring(I+1)}else W=u[v];m(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gr){this.h=u.h,es(this,u.j),this.o=u.o,this.g=u.g,Hr(this,u.s),this.l=u.l;var m=u.i,v=new Qn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Kr(this,v),this.m=u.m}else u&&(m=String(u).match(Zi))?(this.h=!1,es(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Hr(this,m[4]),this.l=xe(m[5]||"",!0),Kr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}gr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,qs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Qr(v,v.charAt(0)=="/"?Xl:Yl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Qr(v,Ea)),u.join("")};function ln(u){return new gr(u)}function es(u,m,v){u.j=v?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Kr(u,m,v){m instanceof Qn?(u.i=m,Yn(u.i,u.h)):(v||(m=Qr(m,Jl)),u.i=new Qn(m,u.h))}function We(u,m,v){u.i.set(m,v)}function Gr(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ql),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,Yl=/[#\?:]/g,Xl=/[#\?]/g,Jl=/[#\?@]/g,Ea=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ct(u){u.g||(u.g=new Map,u.h=0,u.i&&Ah(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Qn.prototype,n.add=function(u,m){Ct(this),this.i=null,u=vn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function xn(u,m){Ct(u),m=vn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function On(u,m){return Ct(u),m=vn(u,m),u.g.has(m)}n.forEach=function(u,m){Ct(this),this.g.forEach(function(v,I){v.forEach(function(U){u.call(m,U,I,this)},this)},this)},n.na=function(){Ct(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const U=u[I];for(let W=0;W<U.length;W++)v.push(m[I])}return v},n.V=function(u){Ct(this);let m=[];if(typeof u=="string")On(this,u)&&(m=m.concat(this.g.get(vn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Ct(this),this.i=null,u=vn(this,u),On(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Yr(u,m,v){xn(u,m),0<v.length&&(u.i=null,u.g.set(vn(u,m),x(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const W=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var U=W;ie[I]!==""&&(U+="="+encodeURIComponent(String(ie[I]))),u.push(U)}}return this.i=u.join("&")};function vn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yn(u,m){m&&!u.j&&(Ct(u),u.i=null,u.g.forEach(function(v,I){var U=I.toLowerCase();I!=U&&(xn(this,I),Yr(this,U,v))},u)),u.j=m}function Rh(u,m){const v=new Gi;if(d.Image){const I=new Image;I.onload=R(Qt,v,"TestLoadImage: loaded",!0,m,I),I.onerror=R(Qt,v,"TestLoadImage: error",!1,m,I),I.onabort=R(Qt,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=R(Qt,v,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Zl(u,m){const v=new Gi,I=new AbortController,U=setTimeout(()=>{I.abort(),Qt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(W=>{clearTimeout(U),W.ok?Qt(v,"TestPingServer: ok",!0,m):Qt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qt(v,"TestPingServer: error",!1,m)})}function Qt(u,m,v,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(v)}catch{}}function Ch(){this.g=new ha}function eu(u,m,v){const I=v||"";try{qr(u,function(U,W){let ie=U;g(U)&&(ie=ua(U)),m.push(I+W+"="+encodeURIComponent(ie))})}catch(U){throw m.push(I+"type="+encodeURIComponent("_badmap")),U}}function yr(u){this.l=u.Ub||null,this.j=u.eb||!1}N(yr,Hi),yr.prototype.g=function(){return new ts(this.l,this.j)},yr.prototype.i=function(u){return function(){return u}}({});function ts(u,m){ft.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ts,ft),n=ts.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Dn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bn(this):Dn(this),this.readyState==3&&tu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,bn(this))},n.Qa=function(u){this.g&&(this.response=u,bn(this))},n.ga=function(){this.g&&bn(this)};function bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Dn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vr(u){let m="";return ae(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function Xr(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=vr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):We(u,m,v))}function Xe(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Xe,ft);var Ph=/^https?$/i,wa=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Vs(this.o):Vs(kn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){ns(this,W);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)v.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())v.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(wa,m,void 0))||I||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of v)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){ns(this,W)}};function ns(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Hs(u),un(u)}function Hs(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),un(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),un(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},n.bb=function(){Ta(this)};function Ta(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)oa(u.Ea,0,u);else if(pt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=ie===0){var U=String(u.D).match(Zi)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),I=!Ph.test(U?U.toLowerCase():"")}v=I}if(v)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var W=2<Yt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Hs(u)}}finally{un(u)}}}}function un(u,m){if(u.g){Ks(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||pt(u,"ready");try{v.onreadystatechange=I}catch{}}}function Ks(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ca(m)}};function Ia(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const m={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(q(u[I]))continue;var v=L(u[I]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[U]||[];m[U]=W,W.push(v)}D(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Sa(u){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,u),this.cb=Xn("retryDelaySeedMs",1e4,u),this.Wa=Xn("forwardChannelMaxRetries",2,u),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(u&&u.concurrentRequestLimit),this.Da=new Ch,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,I){ot(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=su(this,null,this.W),Jn(this)};function Pt(u){if(Qs(u),u.G==3){var m=u.U++,v=ln(u.I);if(We(v,"SID",u.K),We(v,"RID",m),We(v,"TYPE","terminate"),_r(u,v),m=new Nn(u,u.j,m),m.L=2,m.v=Gr(ln(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=ou(m.j,null),m.g.ea(m.v)),m.F=Date.now(),He(m)}iu(u)}function Vn(u){u.g&&(Aa(u),u.g.cancel(),u.g=null)}function Qs(u){Vn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Jn(u){if(!an(u.h)&&!u.s){u.s=!0;var m=u.Ga;$e||le(),se||($e(),se=!0),ye.add(m,u),u.B=0}}function kh(u,m){return Hl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Cn(T(u.Ga,u,m),ru(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Nn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=A(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Jr(this,U,m),v=ln(this.I),We(v,"RID",u),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),_r(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(vr(W)))+"&"+m:this.m&&Xr(v,this.m,W)),_a(this.h,U),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",m),We(v,"SID","null"),U.T=!0,zs(U,v,null)):zs(U,v,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||an(this.h)||Ys(this))};function Ys(u,m){var v;m?v=m.l:v=u.U++;const I=ln(u.I);We(I,"SID",u.K),We(I,"RID",v),We(I,"AID",u.T),_r(u,I),u.m&&u.o&&Xr(I,u.m,u.o),v=new Nn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Jr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_a(u.h,v),zs(v,I,m)}function _r(u,m){u.H&&ae(u.H,function(v,I){We(m,I,v)}),u.l&&qr({},function(v,I){We(m,I,v)})}function Jr(u,m,v){v=Math.min(u.i.length,v);var I=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let W=-1;for(;;){const ie=["count="+v];W==-1?0<v?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let ze=!0;for(let mt=0;mt<v;mt++){let be=U[mt].g;const wt=U[mt].map;if(be-=W,0>be)W=Math.max(0,U[mt].g-100),ze=!1;else try{eu(wt,ie,"req"+be+"_")}catch{I&&I(wt)}}if(ze){I=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function rs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$e||le(),se||($e(),se=!0),ye.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Cn(T(u.Fa,u),ru(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Cn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Vn(this),nu(this))};function Aa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);We(m,"RID","rpc"),We(m,"SID",u.K),We(m,"AID",u.T),We(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(m,"TO",u.ja),We(m,"TYPE","xmlhttp"),_r(u,m),u.m&&u.o&&Xr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Gr(ln(m)),v.m=null,v.P=!0,ya(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Vn(this),Xs(this),ot(19))};function Js(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Zs(u,m){var v=null;if(u.g==m){Js(u),Aa(u),u.g=null;var I=2}else if(qt(u.h,m))v=m.D,Kl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;I=Ki(),pt(I,new Fs(I,v)),Jn(u)}else rs(u);else if(U=m.s,U==3||U==0&&0<m.X||!(I==1&&kh(u,m)||I==2&&Xs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function ru(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Er(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),I=u.Xa;const U=!I;I=new gr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||es(I,"https"),Gr(I),U?Rh(I.toString(),v):Zl(I.toString(),v)}else ot(2);u.G=0,u.l&&u.l.sa(m),iu(u),Qs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const m=Gl(u.h);(m.length!=0||u.i.length!=0)&&(S(u.ka,m),S(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function su(u,m,v){var I=v instanceof gr?ln(v):new gr(v);if(I.g!="")m&&(I.g=m+"."+I.g),Hr(I,I.s);else{var U=d.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var W=new gr(null);I&&es(W,I),m&&(W.g=m),U&&Hr(W,U),v&&(W.l=v),I=W}return v=u.D,m=u.ya,v&&m&&We(I,v,m),We(I,"VER",u.la),_r(u,I),I}function ou(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new yr({eb:v})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ra(){}n=Ra.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(u,m){return new Ht(u,m)};function Ht(u,m){ft.call(this),this.g=new Sa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}N(Ht,ft),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Pt(this.g)},Ht.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ua(u),u=v);m.i.push(new ql(m.Ya++,u)),m.G==3&&Jn(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Ht.aa.N.call(this)};function au(u){Kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(au,Kn);function lu(){Ms.call(this),this.status=1}N(lu,Ms);function Zn(u){this.g=u}N(Zn,Ra),Zn.prototype.ua=function(){pt(this.g,"a")},Zn.prototype.ta=function(u){pt(this.g,new au(u))},Zn.prototype.sa=function(u){pt(this.g,new lu)},Zn.prototype.ra=function(){pt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,LE=function(){return new eo},VE=function(){return Ki()},DE=Gn,$f={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,uc=js,Bl.COMPLETE="complete",bE=Bl,Ls.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,el=Ls,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,OE=Xe}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",Iv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Ep("@firebase/firestore");function Io(){return Ss.logLevel}function ue(n,...e){if(Ss.logLevel<=ke.DEBUG){const t=e.map(Ip);Ss.debug(`Firestore (${Qo}): ${n}`,...t)}}function Vr(n,...e){if(Ss.logLevel<=ke.ERROR){const t=e.map(Ip);Ss.error(`Firestore (${Qo}): ${n}`,...t)}}function Mo(n,...e){if(Ss.logLevel<=ke.WARN){const t=e.map(Ip);Ss.warn(`Firestore (${Qo}): ${n}`,...t)}}function Ip(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,ME(n,i,t)}function ME(n,e,t){let i=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Vr(i),new Error(i)}function Be(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||ME(e,o,i)}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zt.UNAUTHENTICATED))}shutdown(){}}class dR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fR{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string",31837,{l:i}),new FE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class pR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const i=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=yR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function Re(n,e){return n<e?-1:n>e?1:0}function Wf(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Re(i,o);{const a=UE(),c=vR(a.encode(Av(n,t)),a.encode(Av(e,t)));return c!==0?c:Re(i,o)}}t+=i>65535?2:1}return Re(n.length,e.length)}function Av(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function vR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Re(n[t],e[t]);return Re(n.length,e.length)}function Fo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Cv=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Cv);return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rv)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new vt(0,0))}static max(){return new Ie(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__name__";class ir{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=ir.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Re(e.length,t.length)}static compareSegments(e,t){const i=ir.isNumericId(e),o=ir.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):Wf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class Ye extends ir{construct(e,t,i){return new Ye(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ir{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return _R.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new Ot([Pv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function ER(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new Oi(o,ge.empty(),e)}function wR(n){return new Oi(n.readTime,n.key,gl)}class Oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oi(Ie.min(),ge.empty(),gl)}static max(){return new Oi(Ie.max(),ge.empty(),gl)}}function TR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==IR)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new Q((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function AR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ih.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function sh(n){return n==null}function xc(n){return n===0&&1/n==-1/0}function RR(n){return typeof n=="number"&&Number.isInteger(n)&&!xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="";function CR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kv(e)),e=PR(n.get(t),e);return kv(e)}function PR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case BE:t+="";break;default:t+=a}}return t}function kv(n){return n+BE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||xt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??xt.RED,this.left=o??xt.EMPTY,this.right=a??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new xt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(e){return new xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new pn([])}unionWith(e){let t=new _t(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $E("Invalid base64 string: "+a):a}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=kR.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",qE="__type__",HE="__previous_value__",KE="__local_write_time__";function Ap(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qE])===null||t===void 0?void 0:t.stringValue)===WE}function oh(n){const e=n.mapValue.fields[HE];return Ap(e)?oh(e):e}function yl(n){const e=bi(n.mapValue.fields[KE].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,i,o,a,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Oc="(default)";class vl{constructor(e,t){this.projectId=e,this.database=t||Oc}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__type__",xR="__max__",ic={mapValue:{}},QE="__vector__",bc="value";function Vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ap(n)?4:bR(n)?9007199254740991:OR(n)?10:11:we(28295,{value:n})}function cr(n,e){if(n===e)return!0;const t=Vi(n);if(t!==Vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yl(n).isEqual(yl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=bi(o.timestampValue),d=bi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Di(o.bytesValue).isEqual(Di(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return lt(o.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return lt(o.integerValue)===lt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=lt(o.doubleValue),d=lt(a.doubleValue);return c===d?xc(c)===xc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Nv(c)!==Nv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!cr(c[p],d[p])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function _l(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function Uo(n,e){if(n===e)return 0;const t=Vi(n),i=Vi(e);if(t!==i)return Re(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=lt(a.integerValue||a.doubleValue),p=lt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Ov(n.timestampValue,e.timestampValue);case 4:return Ov(yl(n),yl(e));case 5:return Wf(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Di(a),p=Di(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Re(d[g],p[g]);if(_!==0)return _}return Re(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Re(lt(a.latitude),lt(c.latitude));return d!==0?d:Re(lt(a.longitude),lt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return bv(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,g,_;const w=a.fields||{},T=c.fields||{},R=(d=w[bc])===null||d===void 0?void 0:d.arrayValue,N=(p=T[bc])===null||p===void 0?void 0:p.arrayValue,x=Re(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return x!==0?x:bv(R,N)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===ic.mapValue&&c===ic.mapValue)return 0;if(a===ic.mapValue)return 1;if(c===ic.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const T=Wf(p[w],_[w]);if(T!==0)return T;const R=Uo(d[p[w]],g[_[w]]);if(R!==0)return R}return Re(p.length,_.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function Ov(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=bi(n),i=bi(e),o=Re(t.seconds,i.seconds);return o!==0?o:Re(t.nanos,i.nanos)}function bv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Uo(t[o],i[o]);if(a)return a}return Re(t.length,i.length)}function jo(n){return qf(n)}function qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=bi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Di(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=qf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${qf(t.fields[c])}`;return o+"}"}(n.mapValue):we(61005,{value:n})}function cc(n){switch(Vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(n);return e?16+cc(e):16;case 5:return 2*n.stringValue.length;case 6:return Di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+cc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ji(i.fields,(a,c)=>{o+=a.length+cc(c)}),o}(n.mapValue);default:throw we(13486,{value:n})}}function Dv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hf(n){return!!n&&"integerValue"in n}function Rp(n){return!!n&&"arrayValue"in n}function Vv(n){return!!n&&"nullValue"in n}function Lv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hc(n){return!!n&&"mapValue"in n}function OR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[GE])===null||t===void 0?void 0:t.stringValue)===QE}function sl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ji(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=sl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=sl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ji(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new sn(sl(this.value))}}function YE(n){const e=[];return ji(n.fields,(t,i)=>{const o=new Ot([t]);if(hc(i)){const a=YE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new $t(e,0,Ie.min(),Ie.min(),Ie.min(),sn.empty(),0)}static newFoundDocument(e,t,i,o){return new $t(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ie.min(),Ie.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ie.min(),Ie.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.position=e,this.inclusive=t}}function Mv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=ge.comparator(ge.fromName(c.referenceValue),t.key):i=Uo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function DR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{}class dt extends XE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LR(e,t,i):t==="array-contains"?new UR(e,i):t==="in"?new jR(e,i):t==="not-in"?new BR(e,i):t==="array-contains-any"?new zR(e,i):new dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new MR(e,i):new FR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Uo(t,this.value)):t!==null&&Vi(this.value)===Vi(t)&&this.matchesComparison(Uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends XE{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new qn(e,t)}matches(e){return JE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JE(n){return n.op==="and"}function ZE(n){return VR(n)&&JE(n)}function VR(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function Kf(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+jo(n.value);if(ZE(n))return n.filters.map(e=>Kf(e)).join(",");{const e=n.filters.map(t=>Kf(t)).join(",");return`${n.op}(${e})`}}function ew(n,e){return n instanceof dt?function(i,o){return o instanceof dt&&i.op===o.op&&i.field.isEqual(o.field)&&cr(i.value,o.value)}(n,e):n instanceof qn?function(i,o){return o instanceof qn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&ew(c,o.filters[d]),!0):!1}(n,e):void we(19439)}function tw(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`}(n):n instanceof qn?function(t){return t.op.toString()+" {"+t.getFilters().map(tw).join(" ,")+"}"}(n):"Filter"}class LR extends dt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class MR extends dt{constructor(e,t){super(e,"in",t),this.keys=nw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FR extends dt{constructor(e,t){super(e,"not-in",t),this.keys=nw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class UR extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rp(t)&&_l(t.arrayValue,this.value)}}class jR extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_l(this.value.arrayValue,t)}}class BR extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_l(this.value.arrayValue,t)}}class zR extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_l(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function Uv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new $R(n,e,t,i,o,a,c)}function Cp(n){const e=Se(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Kf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>jo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>jo(i)).join(",")),e.Ie=t}return e.Ie}function Pp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ew(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fv(n.startAt,e.startAt)&&Fv(n.endAt,e.endAt)}function Gf(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WR(n,e,t,i,o,a,c,d){return new kl(n,e,t,i,o,a,c,d)}function kp(n){return new kl(n)}function jv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rw(n){return n.collectionGroup!==null}function ol(n){const e=Se(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new _t(Ot.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Vc(a,i))}),t.has(Ot.keyField().canonicalString())||e.Ee.push(new Vc(Ot.keyField(),i))}return e.Ee}function or(n){const e=Se(n);return e.de||(e.de=qR(e,ol(n))),e.de}function qR(n,e){if(n.limitType==="F")return Uv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Vc(o.field,a)});const t=n.endAt?new Dc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dc(n.startAt.position,n.startAt.inclusive):null;return Uv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Qf(n,e){const t=n.filters.concat([e]);return new kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yf(n,e,t){return new kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ah(n,e){return Pp(or(n),or(e))&&n.limitType===e.limitType}function iw(n){return`${Cp(or(n))}|lt:${n.limitType}`}function So(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>tw(o)).join(", ")}]`),sh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>jo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>jo(o)).join(",")),`Target(${i})`}(or(n))}; limitType=${n.limitType})`}function lh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ge.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of ol(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const g=Mv(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,ol(i),o)||i.endAt&&!function(c,d,p){const g=Mv(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,ol(i),o))}(n,e)}function HR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sw(n){return(e,t)=>{let i=!1;for(const o of ol(n)){const a=KR(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function KR(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),g=d.data.field(a);return p!==null&&g!==null?Uo(p,g):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return zE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new nt(ge.comparator);function Lr(){return GR}const ow=new nt(ge.comparator);function tl(...n){let e=ow;for(const t of n)e=e.insert(t.key,t);return e}function aw(n){let e=ow;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _s(){return al()}function lw(){return al()}function al(){return new Ps(n=>n.toString(),(n,e)=>n.isEqual(e))}const QR=new nt(ge.comparator),YR=new _t(ge.comparator);function Ne(...n){let e=YR;for(const t of n)e=e.add(t);return e}const XR=new _t(Re);function JR(){return XR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function uw(n){return{integerValue:""+n}}function ZR(n,e){return RR(e)?uw(e):Np(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function eC(n,e,t){return n instanceof Lc?function(o,a){const c={fields:{[qE]:{stringValue:WE},[KE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Ap(a)&&(a=oh(a)),a&&(c.fields[HE]=a),{mapValue:c}}(t,e):n instanceof El?hw(n,e):n instanceof wl?dw(n,e):function(o,a){const c=cw(o,a),d=Bv(c)+Bv(o.Re);return Hf(c)&&Hf(o.Re)?uw(d):Np(o.serializer,d)}(n,e)}function tC(n,e,t){return n instanceof El?hw(n,e):n instanceof wl?dw(n,e):t}function cw(n,e){return n instanceof Mc?function(i){return Hf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Lc extends uh{}class El extends uh{constructor(e){super(),this.elements=e}}function hw(n,e){const t=fw(e);for(const i of n.elements)t.some(o=>cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class wl extends uh{constructor(e){super(),this.elements=e}}function dw(n,e){let t=fw(e);for(const i of n.elements)t=t.filter(o=>!cr(o,i));return{arrayValue:{values:t}}}class Mc extends uh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Bv(n){return lt(n.integerValue||n.doubleValue)}function fw(n){return Rp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nC(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof El&&o instanceof El||i instanceof wl&&o instanceof wl?Fo(i.elements,o.elements,cr):i instanceof Mc&&o instanceof Mc?cr(i.Re,o.Re):i instanceof Lc&&o instanceof Lc}(n.transform,e.transform)}class rC{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ch{}function pw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xp(n.key,Wn.none()):new Nl(n.key,n.data,Wn.none());{const t=n.data,i=sn.empty();let o=new _t(Ot.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Bi(n.key,i,new pn(o.toArray()),Wn.none())}}function iC(n,e,t){n instanceof Nl?function(o,a,c){const d=o.value.clone(),p=$v(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Bi?function(o,a,c){if(!dc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=$v(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(mw(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ll(n,e,t,i){return n instanceof Nl?function(a,c,d,p){if(!dc(a.precondition,c))return d;const g=a.value.clone(),_=Wv(a.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Bi?function(a,c,d,p){if(!dc(a.precondition,c))return d;const g=Wv(a.fieldTransforms,p,c),_=c.data;return _.setAll(mw(a)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,c,d){return dc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function sC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=cw(i.transform,o||null);a!=null&&(t===null&&(t=sn.empty()),t.set(i.field,a))}return t||null}function zv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Fo(i,o,(a,c)=>nC(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Nl extends ch{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bi extends ch{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $v(n,e,t){const i=new Map;Be(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,tC(c,d,t[o]))}return i}function Wv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,eC(a,c,e))}return i}class xp extends ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oC extends ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&iC(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ll(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=lw();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=pw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,i)=>zv(t,i))&&Fo(this.baseMutations,e.baseMutations,(t,i)=>zv(t,i))}}class Op{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return QR}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Op(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,De;function cC(n){switch(n){case X.OK:return we(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function gw(n){if(n===void 0)return Vr("GRPC error has no .code"),X.UNKNOWN;switch(n){case ht.OK:return X.OK;case ht.CANCELLED:return X.CANCELLED;case ht.UNKNOWN:return X.UNKNOWN;case ht.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ht.INTERNAL:return X.INTERNAL;case ht.UNAVAILABLE:return X.UNAVAILABLE;case ht.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ht.NOT_FOUND:return X.NOT_FOUND;case ht.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ht.ABORTED:return X.ABORTED;case ht.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ht.DATA_LOSS:return X.DATA_LOSS;default:return we(39323,{code:n})}}(De=ht||(ht={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Ci([4294967295,4294967295],0);function qv(n){const e=UE().encode(n),t=new xE;return t.update(e),new Uint8Array(t.digest())}function Hv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ci([t,i],0),new Ci([o,a],0)]}class bp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nl(`Invalid padding: ${t}`);if(i<0)throw new nl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new nl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ci.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(Ci.fromNumber(i)));return o.compare(hC)===1&&(o=new Ci([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=qv(e),[i,o]=Hv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new bp(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=qv(e),[i,o]=Hv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new hh(Ie.min(),o,new nt(Re),Lr(),Ne())}}class xl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xl(i,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class yw{constructor(e,t){this.targetId=e,this.Ce=t}}class vw{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Kv{constructor(){this.Fe=0,this.Me=Gv(),this.xe=bt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ne(),t=Ne(),i=Ne();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:a})}}),new xl(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Gv()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Be(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class dC{constructor(e){this.ze=e,this.je=new Map,this.He=Lr(),this.Je=sc(),this.Ye=sc(),this.Ze=new nt(Re)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(Gf(a))if(i===0){const c=new ge(a.path);this.tt(t,c,$t.newNoDocument(c,Ie.min()))}else Be(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Di(i).toUint8Array()}catch(p){if(p instanceof $E)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new bp(c,o,a)}catch(p){return Mo(p instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&Gf(d.target)){const p=new ge(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,$t.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=Ne();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new hh(e,t,this.Ze,this.He,i);return this.He=Lr(),this.Je=sc(),this.Ye=sc(),this.Ze=new nt(Re),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Kv,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _t(Re),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _t(Re),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Kv),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function sc(){return new nt(ge.comparator)}function Gv(){return new nt(ge.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},pC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mC={and:"AND",or:"OR"};class gC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xf(n,e){return n.useProto3Json||sh(e)?e:{value:e}}function Fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _w(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yC(n,e){return Fc(n,e.toTimestamp())}function ar(n){return Be(!!n,49232),Ie.fromTimestamp(function(t){const i=bi(t);return new vt(i.seconds,i.nanos)}(n))}function Dp(n,e){return Jf(n,e).canonicalString()}function Jf(n,e){const t=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Ew(n){const e=Ye.fromString(n);return Be(Aw(e),10190,{key:e.toString()}),e}function Zf(n,e){return Dp(n.databaseId,e.path)}function wf(n,e){const t=Ew(e);if(t.get(1)!==n.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(Tw(t))}function ww(n,e){return Dp(n.databaseId,e)}function vC(n){const e=Ew(n);return e.length===4?Ye.emptyPath():Tw(e)}function ep(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Tw(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Qv(n,e,t){return{name:Zf(n,e),fields:t.value.mapValue.fields}}function _C(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string",58123),bt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),bt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?X.UNKNOWN:gw(g.code);return new he(_,g.message||"")}(c);t=new vw(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=wf(n,i.document.name),a=ar(i.document.updateTime),c=i.document.createTime?ar(i.document.createTime):Ie.min(),d=new sn({mapValue:{fields:i.document.fields}}),p=$t.newFoundDocument(o,a,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new fc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=wf(n,i.document),a=i.readTime?ar(i.readTime):Ie.min(),c=$t.newNoDocument(o,a),d=i.removedTargetIds||[];t=new fc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=wf(n,i.document),a=i.removedTargetIds||[];t=new fc([],a,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new uC(o,a),d=i.targetId;t=new yw(d,c)}}return t}function EC(n,e){let t;if(e instanceof Nl)t={update:Qv(n,e.key,e.value)};else if(e instanceof xp)t={delete:Zf(n,e.key)};else if(e instanceof Bi)t={update:Qv(n,e.key,e.data),updateMask:kC(e.fieldMask)};else{if(!(e instanceof oC))return we(16599,{ft:e.type});t={verify:Zf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Lc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof El)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Mc)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw we(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:yC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we(27497)}(n,e.precondition)),t}function wC(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?ar(o.updateTime):ar(a);return c.isEqual(Ie.min())&&(c=ar(a)),new rC(c,o.transformResults||[])}(t,e))):[]}function TC(n,e){return{documents:[ww(n,e.path)]}}function IC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ww(n,o);const a=function(g){if(g.length!==0)return Sw(qn.create(g,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:Ao(T.field),direction:RC(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Xf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function SC(n){let e=vC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const T=Iw(w);return T instanceof qn&&ZE(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(N){return new Vc(Ro(N.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,sh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,R=w.values||[];return new Dc(R,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,R=w.values||[];return new Dc(R,T)}(t.endAt)),WR(e,o,c,a,d,"F",p,g)}function AC(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Iw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ro(t.unaryFilter.field);return dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(t.unaryFilter.field);return dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ro(t.unaryFilter.field);return dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(t.unaryFilter.field);return dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return dt.create(Ro(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return qn.create(t.compositeFilter.filters.map(i=>Iw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function RC(n){return fC[n]}function CC(n){return pC[n]}function PC(n){return mC[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function Ro(n){return Ot.fromServerFormat(n.fieldPath)}function Sw(n){return n instanceof dt?function(t){if(t.op==="=="){if(Lv(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(Vv(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Lv(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(Vv(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:CC(t.op),value:t.value}}}(n):n instanceof qn?function(t){const i=t.getFilters().map(o=>Sw(o));return i.length===1?i[0]:{compositeFilter:{op:PC(t.op),filters:i}}}(n):we(54877,{filter:n})}function kC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Aw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t,i,o,a=Ie.min(),c=Ie.min(),d=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.wt=e}}function xC(n){const e=SC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Cn=new bC}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Oi.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class bC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new _t(Ye.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new _t(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Rw,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Bo(0)}static lr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",DC=1048576;function Jv([n,e],[t,i]){const o=Re(n,t);return o===0?Re(e,i):o}class VC{constructor(e){this.Er=e,this.buffer=new _t(Jv),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Jv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(Xv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?ue(Xv,"Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.mr(3e5)})}}class MC{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(ih.le);const i=new VC(t);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Yv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yv):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,o,a,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),Io()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function FC(n,e){return new MC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.changes=new Ps(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ll(i.mutation,o,pn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ne()){const o=_s();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=tl();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=_s();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ne()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=Lr();const c=al(),d=function(){return al()}();return t.forEach((p,g)=>{const _=i.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Bi)?a=a.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),ll(_.mutation,g,_.mutation.getFieldMask(),vt.now())):c.set(g.key,pn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var w;return d.set(g,new jC(_,(w=c.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=al();let o=new nt((c,d)=>c-d),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||pn.empty();_=d.applyToLocalView(g,_),i.set(p,_);const w=(o.get(d.batchId)||Ne()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,w=lw();_.forEach(T=>{if(!a.has(T)){const R=pw(t.get(T),i.get(T));R!==null&&w.set(T,R),a=a.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Q.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Q.resolve(_s());let d=gl,p=a;return c.next(g=>Q.forEach(g,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?Q.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,p,g,Ne())).next(_=>({batchId:d,changes:aw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let o=tl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=tl();return this.indexManager.getCollectionParents(e,a).next(d=>Q.forEach(d,p=>{const g=function(w,T){return new kl(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(_=>{_.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,$t.newInvalidDocument(_)))});let d=tl();return c.forEach((p,g)=>{const _=a.get(p);_!==void 0&&ll(_.mutation,g,pn.empty(),vt.now()),lh(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Q.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:xC(o.bundledQuery),readTime:ar(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.overlays=new nt(ge.comparator),this.Qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_s();return Q.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=_s(),a=t.length+1,c=new ge(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new nt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=a.get(g.largestBatchId);_===null&&(_=_s(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=_s(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return Q.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new lC(t,i));let a=this.Qr.get(t);a===void 0&&(a=Ne(),this.Qr.set(t,a)),this.Qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.$r=new _t(At.Ur),this.Kr=new _t(At.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new At(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new At(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ge(new Ye([])),i=new At(t,e),o=new At(t,e+1),a=[];return this.Kr.forEachInRange([i,o],c=>{this.zr(c),a.push(c.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ge(new Ye([])),i=new At(t,e),o=new At(t,e+1);let a=Ne();return this.Kr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new At(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class At{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ge.comparator(e.key,t.key)||Re(e.Zr,t.Zr)}static Wr(e,t){return Re(e.Zr,t.Zr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new _t(At.Ur)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new aC(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Xr=this.Xr.add(new At(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(c)}lookupMutationBatch(e,t){return Q.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ti(i),a=o<0?0:o;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Sp:this.nr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([i,o],c=>{const d=this.ei(c.Zr);a.push(d)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _t(Re);return t.forEach(o=>{const a=new At(o,0),c=new At(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,c],d=>{i=i.add(d.Zr)})}),Q.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;ge.isDocumentKey(a)||(a=a.child(""));const c=new At(new ge(a),0);let d=new _t(Re);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Zr)),!0)},c),Q.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Q.forEach(t.mutations,o=>{const a=new At(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new At(t,0),o=this.Xr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.ii=e,this.docs=function(){return new nt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let i=Lr();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():$t.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Lr();const c=t.path,d=new ge(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||TR(wR(_),i)<=0||(o.has(_.key)||lh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,t,i,o){we(9500)}si(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new KC(this)}getSize(e){return Q.resolve(this.size)}}class KC extends UC{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.persistence=e,this.oi=new Ps(t=>Cp(t),Pp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Vp,this.targetCount=0,this.ui=Bo.cr()}forEachTarget(e,t){return this.oi.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Q.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Tr(t),Q.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Q.waitFor(a).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t){this.ci={},this.overlays={},this.li=new ih(0),this.hi=!1,this.hi=!0,this.Pi=new WC,this.referenceDelegate=e(this),this.Ti=new GC(this),this.indexManager=new OC,this.remoteDocumentCache=function(o){return new HC(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new NC(t),this.Ei=new zC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $C,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new qC(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const o=new QC(this.li.next());return this.referenceDelegate.di(),i(o).next(a=>this.referenceDelegate.Ai(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ri(e,t){return Q.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class QC extends SR{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Vi=new Vp,this.mi=null}static fi(e){return new Lp(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.gi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,i=>{const o=ge.fromPath(i);return this.pi(e,o).next(a=>{a||t.removeEntry(o,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Q.or([()=>Q.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Uc{constructor(e,t){this.persistence=e,this.yi=new Ps(i=>CR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=FC(this,t)}static fi(e,t){return new Uc(e,t)}di(){}Ai(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Q.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(a=>a?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Ie.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cc(e.data.value)),t}Dr(e,t,i){return Q.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ds=i,this.As=o}static Rs(e,t){let i=Ne(),o=Ne();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Mp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return K1()?8:AR(Wt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.ws(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.bs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new YC;return this.Ss(e,t,c).next(d=>{if(a.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>a.result)}Ds(e,t,i,o){return i.documentReadCount<this.gs?(Io()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",So(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(Io()<=ke.DEBUG&&ue("QueryEngine","Query:",So(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(Io()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",So(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):Q.resolve())}ws(e,t){if(jv(t))return Q.resolve(null);let i=or(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Yf(t,null,"F"),i=or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ne(...a);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.vs(t,d);return this.Cs(t,g,c,p.readTime)?this.ws(e,Yf(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,i,o){return jv(t)||o.isEqual(Ie.min())?Q.resolve(null):this.ys.getDocuments(e,i).next(a=>{const c=this.vs(t,a);return this.Cs(t,c,i,o)?Q.resolve(null):(Io()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(t)),this.Fs(e,c,t,ER(o,gl)).next(d=>d))})}vs(e,t){let i=new _t(sw(e));return t.forEach((o,a)=>{lh(e,a)&&(i=i.add(a))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,i){return Io()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",So(t)),this.ys.getDocumentsMatchingQuery(e,t,Oi.min(),i)}Fs(e,t,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",JC=3e8;class ZC{constructor(e,t,i,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new nt(Re),this.Os=new Ps(a=>Cp(a),Pp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function eP(n,e,t,i){return new ZC(n,e,t,i)}async function Pw(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=Ne();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of a){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function tP(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const w=g.batch,T=w.keys();let R=Q.resolve();return T.forEach(N=>{R=R.next(()=>_.getEntry(p,N)).next(x=>{const S=g.docVersions.get(N);Be(S!==null,48541),x.version.compareTo(S)<0&&(w.applyToRemoteDocument(x,g),x.isValidDocument()&&(x.setReadTime(g.commitVersion),_.addEntry(x)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ne();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function kw(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function nP(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;d.push(t.Ti.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(a,_.addedDocuments,w)));let R=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(bt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(w,R),function(x,S,G){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=JC?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(T,R,_)&&d.push(t.Ti.updateTargetData(a,R))});let p=Lr(),g=Ne();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(rP(a,c,e.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!i.isEqual(Ie.min())){const _=t.Ti.getLastRemoteSnapshotVersion(a).next(w=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return Q.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,g)).next(()=>p)}).then(a=>(t.xs=o,a))}function rP(n,e,t){let i=Ne(),o=Ne();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Lr();return t.forEach((d,p)=>{const g=a.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ue(Fp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:c,Qs:o}})}function iP(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function sP(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ti.getTargetData(i,e).next(a=>a?(o=a,Q.resolve(o)):t.Ti.allocateTargetId(i).next(c=>(o=new Ei(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function tp(n,e,t){const i=Se(n),o=i.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Xo(c))throw c;ue(Fp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function Zv(n,e,t){const i=Se(n);let o=Ie.min(),a=Ne();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const w=Se(p),T=w.Os.get(_);return T!==void 0?Q.resolve(w.xs.get(T)):w.Ti.getTargetData(g,_)}(i,c,or(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?o:Ie.min(),t?a:Ne())).next(d=>(oP(i,HR(e),d),{documents:d,$s:a})))}function oP(n,e,t){let i=n.Ns.get(e)||Ie.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ns.set(e,i)}class e_{constructor(){this.activeTargetIds=JR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aP{constructor(){this.xo=new e_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new e_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class n_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(t_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function np(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="RestConnection",uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===Oc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,t,i,o,a){const c=np(),d=this.jo(e,t.toUriEncodedString());ue(Tf,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,a);const{host:g}=new URL(d),_=Ko(g);return this.Jo(e,d,p,i,_).then(w=>(ue(Tf,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Mo(Tf,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",i),w})}Yo(e,t,i,o,a,c){return this.zo(e,t,i,o,a)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}jo(e,t){const i=uP[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class dP extends cP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,a){const c=np();return new Promise((d,p)=>{const g=new OE;g.setWithCredentials(!0),g.listenOnce(bE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case uc.NO_ERROR:const w=g.getResponseJson();ue(jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case uc.TIMEOUT:ue(jt,`RPC '${e}' ${c} timed out`),p(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const T=g.getStatus();if(ue(jt,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const x=function(G){const q=G.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(q)>=0?q:X.UNKNOWN}(N.status);p(new he(x,N.message))}else p(new he(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(X.UNAVAILABLE,"Connection failed."));break;default:we(9055,{h_:e,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ue(jt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);ue(jt,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,i,15)})}I_(e,t,i){const o=np(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=LE(),d=VE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");ue(jt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=c.createWebChannel(_,p);this.E_(w);let T=!1,R=!1;const N=new hP({Zo:S=>{R?ue(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(T||(ue(jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ue(jt,`RPC '${e}' stream ${o} sending:`,S),w.send(S))},Xo:()=>w.close()}),x=(S,G,q)=>{S.listen(G,H=>{try{q(H)}catch(re){setTimeout(()=>{throw re},0)}})};return x(w,el.EventType.OPEN,()=>{R||(ue(jt,`RPC '${e}' stream ${o} transport opened.`),N.__())}),x(w,el.EventType.CLOSE,()=>{R||(R=!0,ue(jt,`RPC '${e}' stream ${o} transport closed`),N.u_(),this.d_(w))}),x(w,el.EventType.ERROR,S=>{R||(R=!0,Mo(jt,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),N.u_(new he(X.UNAVAILABLE,"The operation could not be completed")))}),x(w,el.EventType.MESSAGE,S=>{var G;if(!R){const q=S.data[0];Be(!!q,16349);const H=q,re=(H==null?void 0:H.error)||((G=H[0])===null||G===void 0?void 0:G.error);if(re){ue(jt,`RPC '${e}' stream ${o} received error:`,re);const K=re.status;let ae=function(P){const O=ht[P];if(O!==void 0)return gw(O)}(K),D=re.message;ae===void 0&&(ae=X.INTERNAL,D="Unknown error status: "+K+" with message "+re.message),R=!0,N.u_(new he(ae,D)),w.close()}else ue(jt,`RPC '${e}' stream ${o} received:`,q),N.c_(q)}}),x(d,DE.STAT_EVENT,S=>{S.stat===$f.PROXY?ue(jt,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===$f.NOPROXY&&ue(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){return new gC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t,i=1e3,o=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=o,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="PersistentStream";class xw{constructor(e,t,i,o,a,c,d,p){this.xi=e,this.S_=i,this.D_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Nw(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===t&&this.z_(i,o)},i=>{e(()=>{const o=new he(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ue(r_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ue(r_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fP extends xw{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=_C(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ie.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?ar(c.readTime):Ie.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=ep(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=Gf(p)?{documents:TC(a,p)}:{query:IC(a,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=_w(a,c.resumeToken);const g=Xf(a,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Fc(a,c.snapshotVersion.toTimestamp());const g=Xf(a,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=AC(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=ep(this.serializer),t.removeTarget=e,this.Q_(t)}}class pP extends xw{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=wC(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=ep(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>EC(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{}class gP extends mP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.zo(e,Jf(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(X.UNKNOWN,a.toString())})}Yo(e,t,i,o,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Jf(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(X.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class yP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Vr(t),this.ua=!1):ue("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="RemoteStore";class vP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(c=>{i.enqueueAndForget(async()=>{ks(this)&&(ue(As,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.da.add(4),await Ol(g),g.Va.set("Unknown"),g.da.delete(4),await fh(g)}(this))})}),this.Va=new yP(i,o)}}async function fh(n){if(ks(n))for(const e of n.Aa)await e(!0)}async function Ol(n){for(const e of n.Aa)await e(!1)}function Ow(n,e){const t=Se(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),zp(t)?Bp(t):Jo(t).N_()&&jp(t,e))}function Up(n,e){const t=Se(n),i=Jo(t);t.Ea.delete(e),i.N_()&&bw(t,e),t.Ea.size===0&&(i.N_()?i.k_():ks(t)&&t.Va.set("Unknown"))}function jp(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(n).Z_(e)}function bw(n,e){n.ma.Ke(e),Jo(n).X_(e)}function Bp(n){n.ma=new dC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Jo(n).start(),n.Va.ca()}function zp(n){return ks(n)&&!Jo(n).O_()&&n.Ea.size>0}function ks(n){return Se(n).da.size===0}function Dw(n){n.ma=void 0}async function _P(n){n.Va.set("Online")}async function EP(n){n.Ea.forEach((e,t)=>{jp(n,e)})}async function wP(n,e){Dw(n),zp(n)?(n.Va.Pa(e),Bp(n)):n.Va.set("Unknown")}async function TP(n,e,t){if(n.Va.set("Online"),e instanceof vw&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ea.delete(d),o.ma.removeTarget(d))}(n,e)}catch(i){ue(As,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jc(n,i)}else if(e instanceof fc?n.ma.Xe(e):e instanceof yw?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ie.min()))try{const i=await kw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.ma.It(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ea.get(g);_&&a.Ea.set(g,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const _=a.Ea.get(p);if(!_)return;a.Ea.set(p,_.withResumeToken(bt.EMPTY_BYTE_STRING,_.snapshotVersion)),bw(a,p);const w=new Ei(_.target,p,g,_.sequenceNumber);jp(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ue(As,"Failed to raise snapshot:",i),await jc(n,i)}}async function jc(n,e,t){if(!Xo(e))throw e;n.da.add(1),await Ol(n),n.Va.set("Offline"),t||(t=()=>kw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(As,"Retrying IndexedDB access"),await t(),n.da.delete(1),await fh(n)})}function Vw(n,e){return e().catch(t=>jc(n,t,e))}async function ph(n){const e=Se(n),t=Li(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Sp;for(;IP(e);)try{const o=await iP(e.localStore,i);if(o===null){e.Ia.length===0&&t.k_();break}i=o.batchId,SP(e,o)}catch(o){await jc(e,o)}Lw(e)&&Mw(e)}function IP(n){return ks(n)&&n.Ia.length<10}function SP(n,e){n.Ia.push(e);const t=Li(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Lw(n){return ks(n)&&!Li(n).O_()&&n.Ia.length>0}function Mw(n){Li(n).start()}async function AP(n){Li(n).ia()}async function RP(n){const e=Li(n);for(const t of n.Ia)e.ta(t.mutations)}async function CP(n,e,t){const i=n.Ia.shift(),o=Op.from(i,e,t);await Vw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await ph(n)}async function PP(n,e){e&&Li(n).ea&&await async function(i,o){if(function(c){return cC(c)&&c!==X.ABORTED}(o.code)){const a=i.Ia.shift();Li(i).L_(),await Vw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await ph(i)}}(n,e),Lw(n)&&Mw(n)}async function i_(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ue(As,"RemoteStore received new credentials");const i=ks(t);t.da.add(3),await Ol(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await fh(t)}async function kP(n,e){const t=Se(n);e?(t.da.delete(2),await fh(t)):e||(t.da.add(2),await Ol(t),t.Va.set("Unknown"))}function Jo(n){return n.fa||(n.fa=function(t,i,o){const a=Se(t);return a.oa(),new fP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{e_:_P.bind(null,n),n_:EP.bind(null,n),i_:wP.bind(null,n),Y_:TP.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),zp(n)?Bp(n):n.Va.set("Unknown")):(await n.fa.stop(),Dw(n))})),n.fa}function Li(n){return n.ga||(n.ga=function(t,i,o){const a=Se(t);return a.oa(),new pP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:AP.bind(null,n),i_:PP.bind(null,n),na:RP.bind(null,n),ra:CP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await ph(n)):(await n.ga.stop(),n.Ia.length>0&&(ue(As,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new $p(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),Xo(n))return new he(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=tl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new No;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.pa=new nt(ge.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class zo{constructor(e,t,i,o,a,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new zo(e,t,No.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class xP{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Se(t),a=o.queries;o.queries=o_(),a.forEach((c,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new he(X.ABORTED,"Firestore shutting down"))}}function o_(){return new Ps(n=>iw(n),ah)}async function Fw(n,e){const t=Se(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Da()&&e.va()&&(i=2):(a=new NP,i=e.va()?0:1);try{switch(i){case 0:a.ba=await t.onListen(o,!0);break;case 1:a.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Wp(c,`Initialization of query '${So(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&qp(t)}async function Uw(n,e){const t=Se(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.va()?0:1:!a.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function OP(n,e){const t=Se(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Sa)d.Ma(o)&&(i=!0);c.ba=o}}i&&qp(t)}function bP(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);i.queries.delete(e)}function qp(n){n.Ca.forEach(e=>{e.next()})}var rp,a_;(a_=rp||(rp={})).xa="default",a_.Cache="cache";class jw{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class DP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ne(),this.mutatedKeys=Ne(),this.Za=sw(e),this.Xa=new No(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new s_,o=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),R=lh(this.query,w)?w:null,N=!!T&&this.mutatedKeys.has(T.key),x=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let S=!1;T&&R?T.data.isEqual(R.data)?N!==x&&(i.track({type:3,doc:R}),S=!0):this.ru(T,R)||(i.track({type:2,doc:R}),S=!0,(p&&this.Za(R,p)>0||g&&this.Za(R,g)<0)&&(d=!0)):!T&&R?(i.track({type:0,doc:R}),S=!0):T&&!R&&(i.track({type:1,doc:T}),S=!0,(p||g)&&(d=!0)),S&&(R?(c=c.add(R),a=x?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Xa:c,nu:i,Cs:d,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((_,w)=>function(R,N){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:S})}};return x(R)-x(N)}(_.type,w.type)||this.Za(_.doc,w.doc)),this.iu(i),o=o!=null&&o;const d=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,c.length!==0||g?{snapshot:new zo(this.query,e.Xa,a,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new s_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ne(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new zw(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Bw(i))}),t}au(e){this.Ha=e.$s,this.Ya=Ne();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return zo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Hp="SyncEngine";class VP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LP{constructor(e){this.key=e,this.cu=!1}}class MP{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ps(d=>iw(d),ah),this.Pu=new Map,this.Tu=new Set,this.Iu=new nt(ge.comparator),this.Eu=new Map,this.du=new Vp,this.Au={},this.Ru=new Map,this.Vu=Bo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function FP(n,e,t=!0){const i=Gw(n);let o;const a=i.hu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.uu()):o=await $w(i,e,t,!0),o}async function UP(n,e){const t=Gw(n);await $w(t,e,!0,!1)}async function $w(n,e,t,i){const o=await sP(n.localStore,or(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await jP(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Ow(n.remoteStore,o),d}async function jP(n,e,t,i,o){n.fu=(w,T,R)=>async function(x,S,G,q){let H=S.view.tu(G);H.Cs&&(H=await Zv(x.localStore,S.query,!1).then(({documents:D})=>S.view.tu(D,H)));const re=q&&q.targetChanges.get(S.targetId),K=q&&q.targetMismatches.get(S.targetId)!=null,ae=S.view.applyChanges(H,x.isPrimaryClient,re,K);return u_(x,S.targetId,ae.ou),ae.snapshot}(n,w,T,R);const a=await Zv(n.localStore,e,!0),c=new DP(e,a.$s),d=c.tu(a.documents),p=xl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);u_(n,t,g.ou);const _=new VP(e,t,c);return n.hu.set(e,_),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function BP(n,e,t){const i=Se(n),o=i.hu.get(e),a=i.Pu.get(o.targetId);if(a.length>1)return i.Pu.set(o.targetId,a.filter(c=>!ah(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Up(i.remoteStore,o.targetId),ip(i,o.targetId)}).catch(Yo)):(ip(i,o.targetId),await tp(i.localStore,o.targetId,!0))}async function zP(n,e){const t=Se(n),i=t.hu.get(e),o=t.Pu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Up(t.remoteStore,i.targetId))}async function $P(n,e,t){const i=YP(n);try{const o=await function(c,d){const p=Se(c),g=vt.now(),_=d.reduce((R,N)=>R.add(N.key),Ne());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=Lr(),x=Ne();return p.Bs.getEntries(R,_).next(S=>{N=S,N.forEach((G,q)=>{q.isValidDocument()||(x=x.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,N)).next(S=>{w=S;const G=[];for(const q of d){const H=sC(q,w.get(q.key).overlayedDocument);H!=null&&G.push(new Bi(q.key,H,YE(H.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,G,d)}).next(S=>{T=S;const G=S.applyToLocalDocumentSet(w,x);return p.documentOverlayCache.saveOverlays(R,S.batchId,G)})}).then(()=>({batchId:T.batchId,changes:aw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let g=c.Au[c.currentUser.toKey()];g||(g=new nt(Re)),g=g.insert(d,p),c.Au[c.currentUser.toKey()]=g}(i,o.batchId,t),await bl(i,o.changes),await ph(i.remoteStore)}catch(o){const a=Wp(o,"Failed to persist write");t.reject(a)}}async function Ww(n,e){const t=Se(n);try{const i=await nP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Eu.get(a);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?Be(c.cu,14607):o.removedDocuments.size>0&&(Be(c.cu,42227),c.cu=!1))}),await bl(t,i,e)}catch(i){await Yo(i)}}function l_(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.hu.forEach((a,c)=>{const d=c.view.Fa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Se(c);p.onlineState=d;let g=!1;p.queries.forEach((_,w)=>{for(const T of w.Sa)T.Fa(d)&&(g=!0)}),g&&qp(p)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function WP(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),a=o&&o.key;if(a){let c=new nt(ge.comparator);c=c.insert(a,$t.newNoDocument(a,Ie.min()));const d=Ne().add(a),p=new hh(Ie.min(),new Map,new nt(Re),c,d);await Ww(i,p),i.Iu=i.Iu.remove(a),i.Eu.delete(e),Kp(i)}else await tp(i.localStore,e,!1).then(()=>ip(i,e,t)).catch(Yo)}async function qP(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await tP(t.localStore,e);Hw(t,i,null),qw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await bl(t,o)}catch(o){await Yo(o)}}async function HP(n,e,t){const i=Se(n);try{const o=await function(c,d){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(w=>(Be(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);Hw(i,e,t),qw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await bl(i,o)}catch(o){await Yo(o)}}function qw(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Hw(n,e,t){const i=Se(n);let o=i.Au[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function ip(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Kw(n,i)})}function Kw(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Up(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Kp(n))}function u_(n,e,t){for(const i of t)i instanceof Bw?(n.du.addReference(i.key,e),KP(n,i)):i instanceof zw?(ue(Hp,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Kw(n,i.key)):we(19791,{pu:i})}function KP(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ue(Hp,"New document in limbo: "+t),n.Tu.add(i),Kp(n))}function Kp(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ge(Ye.fromString(e)),i=n.Vu.next();n.Eu.set(i,new LP(t)),n.Iu=n.Iu.insert(t,i),Ow(n.remoteStore,new Ei(or(kp(t.path)),i,"TargetPurposeLimboResolution",ih.le))}}async function bl(n,e,t){const i=Se(n),o=[],a=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,p)=>{c.push(i.fu(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const w=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Mp.Rs(p.targetId,g);a.push(w)}}))}),await Promise.all(c),i.lu.Y_(o),await async function(p,g){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(g,T=>Q.forEach(T.ds,R=>_.persistence.referenceDelegate.addReference(w,T.targetId,R)).next(()=>Q.forEach(T.As,R=>_.persistence.referenceDelegate.removeReference(w,T.targetId,R)))))}catch(w){if(!Xo(w))throw w;ue(Fp,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const R=_.xs.get(T),N=R.snapshotVersion,x=R.withLastLimboFreeSnapshotVersion(N);_.xs=_.xs.insert(T,x)}}}(i.localStore,a))}async function GP(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ue(Hp,"User change. New user:",e.toKey());const i=await Pw(t.localStore,e);t.currentUser=e,function(a,c){a.Ru.forEach(d=>{d.forEach(p=>{p.reject(new he(X.CANCELLED,c))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await bl(t,i.ks)}}function QP(n,e){const t=Se(n),i=t.Eu.get(e);if(i&&i.cu)return Ne().add(i.key);{let o=Ne();const a=t.Pu.get(e);if(!a)return o;for(const c of a){const d=t.hu.get(c);o=o.unionWith(d.view.eu)}return o}}function Gw(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WP.bind(null,e),e.lu.Y_=OP.bind(null,e.eventManager),e.lu.gu=bP.bind(null,e.eventManager),e}function YP(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HP.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return eP(this.persistence,new XC,e.initialUser,this.serializer)}Su(e){return new Cw(Lp.fi,this.serializer)}bu(e){return new aP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class XP extends Bc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Be(this.persistence.referenceDelegate instanceof Uc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LC(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Cw(i=>Uc.fi(i,t),this.serializer)}}class sp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>l_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await kP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xP}()}createDatastore(e){const t=dh(e.databaseInfo.databaseId),i=function(a){return new dP(a)}(e.databaseInfo);return function(a,c,d,p){return new gP(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new vP(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>l_(this.syncEngine,t,0),function(){return n_.C()?new n_:new lP}())}createSyncEngine(e,t){return function(o,a,c,d,p,g,_){const w=new MP(o,a,c,d,p,g);return _&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Se(o);ue(As,"RemoteStore shutting down."),a.da.add(5),await Ol(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="FirestoreClient";class JP{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=jE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ue(Mi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ue(Mi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Wp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Sf(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Mi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Pw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function c_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ZP(n);ue(Mi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>i_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>i_(e.remoteStore,o)),n._onlineComponents=e}async function ZP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Mi,"Using user provided OfflineComponentProvider");try{await Sf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await Sf(n,new Bc)}}else ue(Mi,"Using default OfflineComponentProvider"),await Sf(n,new XP(void 0));return n._offlineComponents}async function Yw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Mi,"Using user provided OnlineComponentProvider"),await c_(n,n._uninitializedComponentsProvider._online)):(ue(Mi,"Using default OnlineComponentProvider"),await c_(n,new sp))),n._onlineComponents}function ek(n){return Yw(n).then(e=>e.syncEngine)}async function Xw(n){const e=await Yw(n),t=e.eventManager;return t.onListen=FP.bind(null,e.syncEngine),t.onUnlisten=BP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zP.bind(null,e.syncEngine),t}function tk(n,e,t={}){const i=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,g){const _=new Qw({next:T=>{_.xu(),c.enqueueAndForget(()=>Uw(a,w));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&p&&p.source==="server"?g.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new jw(kp(d.path),_,{includeMetadataChanges:!0,Qa:!0});return Fw(a,w)}(await Xw(n),n.asyncQueue,e,t,i)),i.promise}function nk(n,e,t={}){const i=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,g){const _=new Qw({next:T=>{_.xu(),c.enqueueAndForget(()=>Uw(a,w)),T.fromCache&&p.source==="server"?g.reject(new he(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new jw(d,_,{includeMetadataChanges:!0,Qa:!0});return Fw(a,w)}(await Xw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n,e,t){if(!t)throw new he(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rk(n,e,t,i){if(e===!0&&i===!0)throw new he(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function d_(n){if(!ge.isDocumentKey(n))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function f_(n){if(ge.isDocumentKey(n))throw new he(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Mr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mh(n);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="firestore.googleapis.com",p_=!0;class m_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e0,this.ssl=p_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:p_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DC)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hR;switch(i.type){case"firstParty":return new mR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=h_.get(t);i&&(ue("ComponentProvider","Removing Datastore"),h_.delete(t),i.terminate())}(this),Promise.resolve()}}function ik(n,e,t,i={}){var o;n=Mr(n,gh);const a=Ko(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&(IE(`https://${p}`),SE("Firestore",!0)),c.host!==e0&&c.host!==p&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:a,emulatorOptions:i});if(!Ts(g,d)&&(n._setSettings(g),i.mockUserToken)){let _,w;if(typeof i.mockUserToken=="string")_=i.mockUserToken,w=zt.MOCK_USER;else{_=F1(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new zt(T)}n._authCredentials=new dR(new FE(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class on{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Pi extends Zo{constructor(e,t,i){super(e,t,kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ge(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function zc(n,e,...t){if(n=Rt(n),Zw("collection","path",e),n instanceof gh){const i=Ye.fromString(e,...t);return f_(i),new Pi(n,null,i)}{if(!(n instanceof on||n instanceof Pi))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return f_(i),new Pi(n.firestore,null,i)}}function Dl(n,e,...t){if(n=Rt(n),arguments.length===1&&(e=jE.newId()),Zw("doc","path",e),n instanceof gh){const i=Ye.fromString(e,...t);return d_(i),new on(n,null,new ge(i))}{if(!(n instanceof on||n instanceof Pi))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return d_(i),new on(n.firestore,n instanceof Pi?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="AsyncQueue";class y_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Nw(this,"async_queue_retry"),this.rc=()=>{const i=If();i&&ue(g_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=If();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=If();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new xr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Xo(e))throw e;ue(g_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Vr("INTERNAL UNHANDLED ERROR: ",v_(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=$p.createAndSchedule(this,e,t,i,a=>this.uc(a));return this.Zu.push(o),o}oc(){this.Xu&&we(47125,{cc:v_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function v_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ea extends gh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function sk(n,e){const t=typeof n=="object"?n:PE(),i=typeof n=="string"?n:Oc,o=Tp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=L1("firestore");a&&ik(o,...a)}return o}function Gp(n){if(n._terminated)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ok(n),n._firestoreClient}function ok(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,g,_){return new NR(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Jw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new JP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(bt.fromBase64String(e))}catch(t){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=/^__.*__$/;class lk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nl(e,this.data,t,this.fieldTransforms)}}class t0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function n0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ic:n})}}class Jp{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return $c(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(n0(this.Ic)&&ak.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class uk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||dh(e)}bc(e,t,i,o=!1){return new Jp({Ic:e,methodName:t,wc:i,path:Ot.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(n){const e=n._freezeSettings(),t=dh(n._databaseId);return new uk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ck(n,e,t,i,o,a={}){const c=n.bc(a.merge||a.mergeFields?2:0,e,t,o);em("Data must be an object, but it was:",c,i);const d=r0(i,c);let p,g;if(a.merge)p=new pn(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const T=op(e,w,t);if(!c.contains(T))throw new he(X.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);s0(_,T)||_.push(T)}p=new pn(_),g=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=c.fieldTransforms;return new lk(new sn(d),p,g)}class vh extends Qp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function hk(n,e,t,i){const o=n.bc(1,e,t);em("Data must be an object, but it was:",o,i);const a=[],c=sn.empty();ji(i,(p,g)=>{const _=tm(e,p,t);g=Rt(g);const w=o.mc(_);if(g instanceof vh)a.push(_);else{const T=Vl(g,w);T!=null&&(a.push(_),c.set(_,T))}});const d=new pn(a);return new t0(c,d,o.fieldTransforms)}function dk(n,e,t,i,o,a){const c=n.bc(1,e,t),d=[op(e,i,t)],p=[o];if(a.length%2!=0)throw new he(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(op(e,a[T])),p.push(a[T+1]);const g=[],_=sn.empty();for(let T=d.length-1;T>=0;--T)if(!s0(g,d[T])){const R=d[T];let N=p[T];N=Rt(N);const x=c.mc(R);if(N instanceof vh)g.push(R);else{const S=Vl(N,x);S!=null&&(g.push(R),_.set(R,S))}}const w=new pn(g);return new t0(_,w,c.fieldTransforms)}function fk(n,e,t,i=!1){return Vl(t,n.bc(i?4:3,e))}function Vl(n,e){if(i0(n=Rt(n)))return em("Unsupported field value:",e,n),r0(n,e);if(n instanceof Qp)return function(i,o){if(!n0(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=Vl(d,o.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Rt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=vt.fromDate(i);return{timestampValue:Fc(o.serializer,a)}}if(i instanceof vt){const a=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fc(o.serializer,a)}}if(i instanceof Yp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $o)return{bytesValue:_w(o.serializer,i._byteString)};if(i instanceof on){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Dp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Xp)return function(c,d){return{mapValue:{fields:{[GE]:{stringValue:QE},[bc]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Np(d.serializer,g)})}}}}}}(i,o);throw o.gc(`Unsupported field value: ${mh(i)}`)}(n,e)}function r0(n,e){const t={};return zE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(n,(i,o)=>{const a=Vl(o,e.Ac(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function i0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof Yp||n instanceof $o||n instanceof on||n instanceof Qp||n instanceof Xp)}function em(n,e,t){if(!i0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=mh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function op(n,e,t){if((e=Rt(e))instanceof yh)return e._internalPath;if(typeof e=="string")return tm(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const pk=new RegExp("[~\\*/\\[\\]]");function tm(n,e,t){if(e.search(pk)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yh(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new he(X.INVALID_ARGUMENT,d+n+p)}function s0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mk extends o0{data(){return super.data()}}function nm(n,e){return typeof e=="string"?tm(n,e):e instanceof yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rm{}class yk extends rm{}function a0(n,e,...t){let i=[];e instanceof rm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof im).length,d=a.filter(p=>p instanceof _h).length;if(c>1||c>0&&d>0)throw new he(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class _h extends yk{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new _h(e,t,i)}_apply(e){const t=this._parse(e);return u0(e._query,t),new Zo(e.firestore,e.converter,Qf(e._query,t))}_parse(e){const t=Zp(e.firestore);return function(a,c,d,p,g,_,w){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){E_(w,_);const N=[];for(const x of w)N.push(__(p,a,x));T={arrayValue:{values:N}}}else T=__(p,a,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||E_(w,_),T=fk(d,c,w,_==="in"||_==="not-in");return dt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function l0(n,e,t){const i=e,o=nm("where",n);return _h._create(o,i,t)}class im extends rm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new im(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const p of d)u0(c,p),c=Qf(c,p)}(e._query,t),new Zo(e.firestore,e.converter,Qf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function __(n,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new he(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&t.indexOf("/")!==-1)throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ye.fromString(t));if(!ge.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Dv(n,new ge(i))}if(t instanceof on)return Dv(n,t._key);throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(t)}.`)}function E_(n,e){if(!Array.isArray(n)||n.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u0(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vk{convertValue(e,t="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ji(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[bc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>lt(c.doubleValue));return new Xp(a)}convertGeoPoint(e){return new Yp(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=oh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=bi(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ye.fromString(e);Be(Aw(i),9688,{name:e});const o=new vl(i.get(1),i.get(3)),a=new ge(i.popFirst(5));return o.isEqual(t)||Vr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c0 extends o0{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class pc extends c0{data(e={}){return super.data(e)}}class Ek{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new rl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new pc(this._firestore,this._userDataWriter,i.key,i,new rl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new rl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new pc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new rl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:wk(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){n=Mr(n,on);const e=Mr(n.firestore,ea);return tk(Gp(e),n._key).then(t=>Sk(e,n,t))}class h0 extends vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function d0(n){n=Mr(n,Zo);const e=Mr(n.firestore,ea),t=Gp(e),i=new h0(e);return gk(n._query),nk(t,n._query).then(o=>new Ek(e,i,n,o))}function Ik(n,e,t,...i){n=Mr(n,on);const o=Mr(n.firestore,ea),a=Zp(o);let c;return c=typeof(e=Rt(e))=="string"||e instanceof yh?dk(a,"updateDoc",n._key,e,t,i):hk(a,"updateDoc",n._key,e),sm(o,[c.toMutation(n._key,Wn.exists(!0))])}function f0(n){return sm(Mr(n.firestore,ea),[new xp(n._key,Wn.none())])}function p0(n,e){const t=Mr(n.firestore,ea),i=Dl(n),o=_k(n.converter,e);return sm(t,[ck(Zp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Wn.exists(!1))]).then(()=>i)}function sm(n,e){return function(i,o){const a=new xr;return i.asyncQueue.enqueueAndForget(async()=>$P(await ek(i),o,a)),a.promise}(Gp(n),e)}function Sk(n,e,t){const i=t.docs.get(e._key),o=new h0(n);return new c0(n,o,e._key,i,new rl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Qo=o})(Go),Lo(new Is("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new ea(new fR(i.getProvider("auth-internal")),new gR(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(g.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ri(Tv,Iv,e),Ri(Tv,Iv,"esm2017")})();var Ak="firebase",Rk="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(Ak,Rk,"app");function om(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function m0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ck=m0,g0=new Cl("auth","Firebase",m0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Ep("@firebase/auth");function Pk(n,...e){Wc.logLevel<=ke.WARN&&Wc.warn(`Auth (${Go}): ${n}`,...e)}function mc(n,...e){Wc.logLevel<=ke.ERROR&&Wc.error(`Auth (${Go}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,...e){throw am(n,...e)}function lr(n,...e){return am(n,...e)}function y0(n,e,t){const i=Object.assign(Object.assign({},Ck()),{[e]:t});return new Cl("auth","Firebase",i).create(e,{appName:n.name})}function Or(n){return y0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function am(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return g0.create(n,...e)}function Ee(n,e,...t){if(!n)throw am(e,...t)}function kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mc(e),new Error(e)}function Fr(n,e){n||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kk(){return w_()==="http:"||w_()==="https:"}function w_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kk()||W1()||"connection"in navigator)?navigator.onLine:!0}function xk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fr(t>e,"Short delay should be less than long delay!"),this.isMobile=B1()||q1()}get(){return Nk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n,e){Fr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dk=new Ll(3e4,6e4);function jr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Br(n,e,t,i,o={}){return _0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=Pl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},a);return $1()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ko(n.emulatorConfig.host)&&(g.credentials="include"),v0.fetch()(await E0(n,n.config.apiHost,t,d),g)})}async function _0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ok),e);try{const o=new Lk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ac(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ac(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ac(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw y0(n,_,g);Hn(n,_)}}catch(o){if(o instanceof Ur)throw o;Hn(n,"network-request-failed",{message:String(o)})}}async function Ml(n,e,t,i,o={}){const a=await Br(n,e,t,i,o);return"mfaPendingCredential"in a&&Hn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function E0(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?lm(n.config,o):`${n.config.apiScheme}://${o}`;return bk.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function Vk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(lr(this.auth,"network-request-failed")),Dk.get())})}}function ac(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=lr(n,e,i);return o.customData._tokenResponse=t,o}function T_(n){return n!==void 0&&n.enterprise!==void 0}class Mk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fk(n,e){return Br(n,"GET","/v2/recaptchaConfig",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n,e){return Br(n,"POST","/v1/accounts:delete",e)}async function qc(n,e){return Br(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jk(n,e=!1){const t=Rt(n),i=await t.getIdToken(e),o=um(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:ul(Af(o.auth_time)),issuedAtTime:ul(Af(o.iat)),expirationTime:ul(Af(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Af(n){return Number(n)*1e3}function um(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_E(t);return o?JSON.parse(o):(mc("Failed to decode base64 JWT payload"),null)}catch(o){return mc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function I_(n){const e=um(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ur&&Bk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Bk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Tl(n,qc(t,{idToken:i}));Ee(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?w0(a.providerUserInfo):[],d=Wk(n.providerData,c),p=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new lp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function $k(n){const e=Rt(n);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wk(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function w0(n){return n.map(e=>{var{providerId:t}=e,i=om(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e){const t=await _0(n,{},async()=>{const i=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await E0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Ko(n.emulatorConfig.host)&&(p.credentials="include"),v0.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Hk(n,e){return Br(n,"POST","/v2/accounts:revokeToken",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=I_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await qk(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new xo;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new lp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jk(this,e)}reload(){return $k(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await Tl(this,Uk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,g,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,x=(d=t.tenantId)!==null&&d!==void 0?d:void 0,S=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=t.createdAt)!==null&&g!==void 0?g:void 0,q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:H,emailVerified:re,isAnonymous:K,providerData:ae,stsTokenManager:D}=t;Ee(H&&D,e,"internal-error");const A=xo.fromJSON(this.name,D);Ee(typeof H=="string",e,"internal-error"),fi(w,e.name),fi(T,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof K=="boolean",e,"internal-error"),fi(R,e.name),fi(N,e.name),fi(x,e.name),fi(S,e.name),fi(G,e.name),fi(q,e.name);const P=new $n({uid:H,auth:e,email:T,emailVerified:re,displayName:w,isAnonymous:K,photoURL:N,phoneNumber:R,tenantId:x,stsTokenManager:A,createdAt:G,lastLoginAt:q});return ae&&Array.isArray(ae)&&(P.providerData=ae.map(O=>Object.assign({},O))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,t,i=!1){const o=new xo;o.updateFromServerResponse(t);const a=new $n({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Hc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?w0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new xo;d.updateFromIdToken(i);const p=new $n({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function Nr(n){Fr(n instanceof Function,"Expected a class definition");let e=S_.get(n);return e?(Fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,S_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}T0.type="NONE";const A_=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n,e,t){return`firebase:${n}:${e}:${t}`}class Oo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=gc(this.userKey,o.apiKey,a),this.fullPersistenceKey=gc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qc(this.auth,{idToken:e}).catch(()=>{});return t?$n._fromGetAccountInfoResponse(this.auth,t,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Oo(Nr(A_),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||Nr(A_);const c=gc(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let w;if(typeof _=="string"){const T=await qc(e,{idToken:_}).catch(()=>{});if(!T)break;w=await $n._fromGetAccountInfoResponse(e,T,_)}else w=$n._fromJSON(e,_);g!==a&&(d=w),a=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Oo(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new Oo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P0(e))return"Blackberry";if(k0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(C0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function I0(n=Wt()){return/firefox\//i.test(n)}function S0(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(n=Wt()){return/crios\//i.test(n)}function R0(n=Wt()){return/iemobile/i.test(n)}function C0(n=Wt()){return/android/i.test(n)}function P0(n=Wt()){return/blackberry/i.test(n)}function k0(n=Wt()){return/webos/i.test(n)}function cm(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Kk(n=Wt()){var e;return cm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gk(){return H1()&&document.documentMode===10}function N0(n=Wt()){return cm(n)||C0(n)||k0(n)||P0(n)||/windows phone/i.test(n)||R0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e=[]){let t;switch(n){case"Browser":t=R_(Wt());break;case"Worker":t=`${R_(Wt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Go}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e={}){return Br(n,"GET","/v2/passwordPolicy",jr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=6;class Jk{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Xk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new Qk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qc(this,{idToken:e}),i=await $n._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Or(this));const t=e?Rt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yk(this),t=new Jk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Hk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Pk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zi(n){return Rt(n)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=eA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eN(n){Eh=n}function O0(n){return Eh.loadJS(n)}function tN(){return Eh.recaptchaEnterpriseScript}function nN(){return Eh.gapiScript}function rN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class iN{constructor(){this.enterprise=new sN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oN="recaptcha-enterprise",b0="NO_RECAPTCHA";class aN{constructor(e){this.type=oN,this.auth=zi(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{Fk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Mk(p);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;T_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(g=>{c(g)}).catch(()=>{c(b0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iN().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&T_(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tN();p.length!==0&&(p+=d),O0(p).then(()=>{o(d,a,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function P_(n,e,t,i=!1,o=!1){const a=new aN(n);let c;if(o)c=b0;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Kc(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await P_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await P_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n,e){const t=Tp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ts(a,e??{}))return o;Hn(o,"already-initialized")}return t.initialize({options:e})}function uN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Nr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function cN(n,e,t){const i=zi(n);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=D0(e),{host:c,port:d}=hN(e),p=d===null?"":`:${d}`,g={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(Ts(g,i.config.emulator)&&Ts(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Ko(c)?(IE(`${a}//${c}${p}`),SE("Auth",!0)):dN()}function D0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hN(n){const e=D0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:k_(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:k_(c)}}}function k_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,t){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function fN(n,e){return Br(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e){return Ml(n,"POST","/v1/accounts:signInWithPassword",jr(n,e))}async function mN(n,e){return Br(n,"POST","/v1/accounts:sendOobCode",jr(n,e))}async function gN(n,e){return mN(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n,e){return Ml(n,"POST","/v1/accounts:signInWithEmailLink",jr(n,e))}async function vN(n,e){return Ml(n,"POST","/v1/accounts:signInWithEmailLink",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends hm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Il(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Il(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kc(e,t,"signInWithPassword",pN);case"emailLink":return yN(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kc(e,i,"signUpPassword",fN);case"emailLink":return vN(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(n,e){return Ml(n,"POST","/v1/accounts:signInWithIdp",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="http://localhost";class Rs extends hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=om(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Rs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:_N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wN(n){const e=Ja(Za(n)).link,t=e?Ja(Za(e)).deep_link_id:null,i=Ja(Za(n)).deep_link_id;return(i?Ja(Za(i)).link:null)||i||t||e||n}class dm{constructor(e){var t,i,o,a,c,d;const p=Ja(Za(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,w=EN((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&_&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=wN(e);try{return new dm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,t){return Il._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=dm.parseLink(t);return Ee(i,"argument-error"),Il._fromEmailAndCode(e,i.code,i.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends V0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Fl{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return gi.credential(t,i)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Fl{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Fl{constructor(){super("twitter.com")}static credential(e,t){return Rs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vi.credential(t,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e){return Ml(n,"POST","/v1/accounts:signUp",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await $n._fromIdTokenResponse(e,i,o),c=N_(i);return new Cs({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=N_(i);return new Cs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function N_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Ur{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Gc(e,t,i,o)}}function L0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(n,a,e,i):a})}async function IN(n,e,t=!1){const i=await Tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Cs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e,t=!1){const{auth:i}=n;if(Rn(i.app))return Promise.reject(Or(i));const o="reauthenticate";try{const a=await Tl(n,L0(i,o,e,n),t);Ee(a.idToken,i,"internal-error");const c=um(a.idToken);Ee(c,i,"internal-error");const{sub:d}=c;return Ee(n.uid===d,i,"user-mismatch"),Cs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Hn(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(n,e,t=!1){if(Rn(n.app))return Promise.reject(Or(n));const i="signIn",o=await L0(n,i,e),a=await Cs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function AN(n,e){return M0(zi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(n){const e=zi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function RN(n,e,t){const i=zi(n);await Kc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gN)}async function CN(n,e,t){if(Rn(n.app))return Promise.reject(Or(n));const i=zi(n),c=await Kc(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&F0(n),p}),d=await Cs._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function PN(n,e,t){return Rn(n.app)?Promise.reject(Or(n)):AN(Rt(n),ta.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&F0(n),i})}function kN(n,e,t,i){return Rt(n).onIdTokenChanged(e,t,i)}function NN(n,e,t){return Rt(n).beforeAuthStateChanged(e,t)}function xN(n,e,t,i){return Rt(n).onAuthStateChanged(e,t,i)}function ON(n){return Rt(n).signOut()}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1e3,DN=10;class j0 extends U0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);Gk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}j0.type="LOCAL";const VN=j0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends U0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}B0.type="SESSION";const z0=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new wh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,a)),p=await LN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const g=fm("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function FN(n){ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function UN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BN(){return $0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firebaseLocalStorageDb",zN=1,Yc="firebaseLocalStorage",q0="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Th(n,e){return n.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function $N(){const n=indexedDB.deleteDatabase(W0);return new Ul(n).toPromise()}function up(){const n=indexedDB.open(W0,zN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Yc,{keyPath:q0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Yc)?e(i):(i.close(),await $N(),e(await up()))})})}async function x_(n,e,t){const i=Th(n,!0).put({[q0]:e,value:t});return new Ul(i).toPromise()}async function WN(n,e){const t=Th(n,!1).get(e),i=await new Ul(t).toPromise();return i===void 0?null:i.value}function O_(n,e){const t=Th(n,!0).delete(e);return new Ul(t).toPromise()}const qN=800,HN=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>HN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(BN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new MN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await x_(e,Qc,"1"),await O_(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>x_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>WN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Th(o,!1).getAll();return new Ul(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const KN=H0;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n,e){return e?Nr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QN(n){return M0(n.auth,new pm(n),n.bypassAuthState)}function YN(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),SN(t,new pm(n),n.bypassAuthState)}async function XN(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),IN(t,new pm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return YN;default:Hn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Ll(2e3,1e4);class Co extends K0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JN.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="pendingRedirect",yc=new Map;class ex extends K0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const i=await tx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tx(n,e){const t=ix(e),i=rx(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function nx(n,e){yc.set(n._key(),e)}function rx(n){return Nr(n._redirectPersistence)}function ix(n){return gc(ZN,n.config.apiKey,n.name)}async function sx(n,e,t=!1){if(Rn(n.app))return Promise.reject(Or(n));const i=zi(n),o=GN(i,e),c=await new ex(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=10*60*1e3;class ax{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!G0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ox&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function G0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(n,e={}){return Br(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hx=/^https?/;async function dx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ux(n);for(const t of e)try{if(fx(t))return}catch{}Hn(n,"unauthorized-domain")}function fx(n){const e=ap(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!hx.test(t))return!1;if(cx.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Ll(3e4,6e4);function D_(){const n=ur().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mx(n){return new Promise((e,t)=>{var i,o,a;function c(){D_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D_(),t(lr(n,"network-request-failed"))},timeout:px.get()})}if(!((o=(i=ur().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ur().gapi)===null||a===void 0)&&a.load)c();else{const d=rN("iframefcb");return ur()[d]=()=>{gapi.load?c():t(lr(n,"network-request-failed"))},O0(`${nN()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw vc=null,e})}let vc=null;function gx(n){return vc=vc||mx(n),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new Ll(5e3,15e3),vx="__/auth/iframe",_x="emulator/auth/iframe",Ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lm(e,_x):`https://${n.config.authDomain}/${vx}`,i={apiKey:e.apiKey,appName:n.name,v:Go},o=wx.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Pl(i).slice(1)}`}async function Ix(n){const e=await gx(n),t=ur().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Tx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ex,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=lr(n,"network-request-failed"),d=ur().setTimeout(()=>{a(c)},yx.get());function p(){ur().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,Rx=600,Cx="_blank",Px="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kx(n,e,t,i=Ax,o=Rx){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},Sx),{width:i.toString(),height:o.toString(),top:a,left:c}),g=Wt().toLowerCase();t&&(d=A0(g)?Cx:t),I0(g)&&(e=e||Px,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[R,N])=>`${T}${R}=${N},`,"");if(Kk(g)&&d!=="_self")return Nx(e||"",d),new V_(null);const w=window.open(e||"",d,_);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new V_(w)}function Nx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__/auth/handler",Ox="emulator/auth/handler",bx=encodeURIComponent("fac");async function L_(n,e,t,i,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Go,eventId:o};if(e instanceof V0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Z1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof Fl){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${bx}=${encodeURIComponent(p)}`:"";return`${Dx(n)}?${Pl(d).slice(1)}${g}`}function Dx({config:n}){return n.emulator?lm(n,Ox):`https://${n.authDomain}/${xx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=sx,this._overrideRedirectResult=nx}async _openPopup(e,t,i,o){var a;Fr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await L_(e,t,i,ap(),o);return kx(e,c,fm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await L_(e,t,i,ap(),o);return FN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Fr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Ix(e),i=new ax(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rf,{type:Rf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Rf];c!==void 0&&t(!!c),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return N0()||S0()||cm()}}const Lx=Vx;var M_="@firebase/auth",F_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(n){Lo(new Is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(n)},g=new Zk(i,o,a,p);return uN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Lo(new Is("auth-internal",e=>{const t=zi(e.getProvider("auth").getImmediate());return(i=>new Mx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(M_,F_,Fx(n)),Ri(M_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=5*60,Bx=TE("authIdTokenMaxAge")||jx;let U_=null;const zx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Bx)return;const o=t==null?void 0:t.token;U_!==o&&(U_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $x(n=PE()){const e=Tp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lN(n,{popupRedirectResolver:Lx,persistence:[KN,VN,z0]}),i=TE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=zx(a.toString());NN(t,c,()=>c(t.currentUser)),kN(t,d=>c(d))}}const o=EE("auth");return o&&cN(t,`http://${o}`),t}function Wx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}eN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=lr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Wx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");const qx={apiKey:"AIzaSyAgY69eZWAUNPMjY_nJQBU87It0p1yQLPA",authDomain:"book-list-with-firebase-6d182.firebaseapp.com",projectId:"book-list-with-firebase-6d182",storageBucket:"book-list-with-firebase-6d182.firebasestorage.app",messagingSenderId:"29314887189",appId:"1:29314887189:web:21a9deb02501ebcef0681c"},Q0=CE(qx),Es=$x(Q0),ki=sk(Q0),Hx=gE({name:"books",initialState:{books:[],status:"idle"},reducers:{},extraReducers:n=>{n.addCase(_c.pending,(e,t)=>{e.status="pending"}).addCase(_c.fulfilled,(e,t)=>{e.status="succeeded",e.books=t.payload}).addCase(_c.rejected,(e,t)=>{e.status="failed",e.error=t.error.message??"Unknown Error"}).addCase(Xc.fulfilled,(e,t)=>{e.books.map(i=>{i.id==t.payload&&(i.isRead=!i.isRead)}),e.status="succeeded"}).addCase(Xc.rejected,(e,t)=>{e.status="failed",e.error=t.error.message??"Unknown Error"}).addCase(Ec.pending,(e,t)=>{e.status="pending"}).addCase(Ec.fulfilled,(e,t)=>{e.books=e.books.filter(i=>i.id!=t.payload),e.status="succeeded"}).addCase(Ec.rejected,(e,t)=>{e.status="failed",e.error=t.error.message??"Unknown Error"}).addCase(wc.pending,(e,t)=>{e.status="pending"}).addCase(wc.fulfilled,(e,t)=>{e.books.push(t.payload),e.status="succeeded"}).addCase(wc.rejected,(e,t)=>{e.status="failed",e.error=t.error.message??"Unknown Error"})}}),j_=n=>n.books,Kx=Hx.reducer,_c=nh("books/fetchbooks",async()=>{const n=a0(zc(ki,"books"),l0("user_id","==",Es.currentUser.uid)),e=await d0(n);let t=[];return e.forEach(i=>{t.push({id:i.id,...i.data()})}),t}),Xc=nh("books/toggleRead",async n=>{const e=Dl(ki,"books",n.id);return await Ik(e,{isRead:!n.isRead}),n.id}),Ec=nh("books/eraseBook",async n=>(await f0(Dl(ki,"books",n)),n)),wc=nh("books/addBook",async n=>{let e=n;e.user_id=Es.currentUser.uid;const t=await p0(zc(ki,"books"),e);return e.id=t.id,e});function Gx({book:n}){const e=qo();function t(i,o,a){i.preventDefault(),e(Xc({id:o,isRead:a}))}return $.jsx($.Fragment,{children:$.jsx(th,{to:"/book/"+n.id,children:$.jsxs("div",{className:"book",children:[n.isRead&&$.jsx("div",{className:"readIt",children:$.jsx("i",{className:"fa-solid fa-eye"})}),$.jsxs("div",{className:"book-cover",children:[$.jsx("img",{src:n.cover}),$.jsxs("button",{onClick:i=>{t(i,n.id,n.isRead)},className:n.isRead?"isRead":"",children:[$.jsx("i",{className:"fa-solid fa-eye"}),$.jsx("span",{children:n.isRead?"Already Read It":"Haven't Read it yet"})]})]}),$.jsxs("div",{className:"book-details",children:[$.jsx("p",{className:"book-author",children:n.author}),$.jsx("h3",{className:"book-title",children:n.title})]})]})})})}const Y0=gE({name:"users",initialState:{currentUser:null},reducers:{setuser:(n,e)=>{n.currentUser=e.payload}}}),{setuser:cp}=Y0.actions,Qx=n=>n.users,Yx=Y0.reducer;function X0({pageTitle:n}){const e=qo();function t(){confirm("Are you sure you want to sign out?")&&ON(Es).then(()=>{e(cp(null))}).catch(i=>{console.log(i)})}return $.jsxs($.Fragment,{children:[$.jsx("h1",{children:n}),$.jsxs("div",{className:"header-btns",children:[$.jsx(Ly,{to:"/",children:$.jsx("button",{className:"btn",children:"Books"})}),$.jsx(Ly,{to:"/add-book",children:$.jsx("button",{className:"btn",children:"Add Book +"})}),$.jsx("button",{onClick:t,className:"btn transparent",children:"Logout"})]})]})}function Xx(){const n=qo(),e=xf(j_).books,t=" Book List with Router, Redux & Firebase",i=xf(j_).status;return te.useEffect(()=>{i=="idle"&&n(_c())},[]),$.jsx($.Fragment,{children:$.jsxs("div",{className:"container",children:[$.jsx(X0,{pageTitle:t}),"by Nandhika Aparna B R",$.jsx("div",{className:"books-container",children:e.length?$.jsx("div",{className:"books-list",children:e.map(o=>$.jsx(Gx,{book:o},o.id))}):i=="pending"?$.jsx("div",{children:"Loading..."}):$.jsxs("div",{children:["Your book list is empty.",$.jsx(th,{to:"/add-book",children:"Click here"})," to add a new book"]})})]})})}function Jx({bookId:n}){const e=async p=>{if(confirm("Are you sure you want to erase this note?"))try{await f0(Dl(ki,"notes",p)),a(o.filter(g=>g.id!=p))}catch{alert("Error deleting the note")}},t=async p=>{p.preventDefault();const g={book_id:n,title:document.querySelector("input[name=title]").value,text:document.querySelector("textarea[name=note]").value};if(g.title&&g.text)try{const _=await p0(zc(ki,"notes"),g);g.id=_.id,a([...o,g]),document.querySelector("input[name=title]").value="",document.querySelector("textarea[name=note]").value=""}catch{alert("Error adding the note")}else alert("Please fill the mandatory fields.")},i=async p=>{try{const g=a0(zc(ki,"notes"),l0("book_id","==",p)),_=await d0(g);let w=[];_.forEach(T=>{w.push({id:T.id,...T.data()})}),a(w),d("succeeded")}catch{d("failed")}},[o,a]=te.useState(""),[c,d]=te.useState("idle");return te.useEffect(()=>{c=="idle"&&i(n)},[]),$.jsx($.Fragment,{children:$.jsxs("div",{className:"notes-wrapper",children:[$.jsx("h2",{children:"Reader's Notes"}),o.length?$.jsx("div",{className:"notes",children:o.map(p=>$.jsxs("div",{className:"note",children:[$.jsx("div",{onClick:()=>e(p.id),className:"erase-note",children:"Erase note"}),$.jsx("h3",{children:p.title}),$.jsx("p",{children:p.text})]},p.id))}):c=="succeeded"?$.jsx("div",{children:$.jsx("p",{children:"This book doesnt have any notes yet. Use the form below to add a note"})}):c=="failed"?$.jsx("div",{children:$.jsx("p",{children:"Error fetching the notes."})}):$.jsx("div",{children:$.jsx("p",{children:"Loading..."})}),$.jsxs("details",{children:[$.jsx("summary",{children:"Add a note"}),$.jsxs("form",{className:"add-note",children:[$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Title *"}),$.jsx("input",{type:"text",name:"title",placeholder:"Add a note title"})]}),$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Note *"}),$.jsx("textarea",{type:"text",name:"note",placeholder:"Add note"})]}),$.jsx("button",{onClick:p=>{t(p)},className:"btn btn-block",children:"Add Note"})]})]})]})})}function Zx(){const n=qo(),e=hp();function t(_){confirm("Are you sure you want to erase this book and all notes associated with it?")&&(n(Ec(_)),n(eraseBookNotes(_)),e("/"))}function i(_){n(Xc({id:_.id,isRead:_.isRead})),d({...c,isRead:!_.isRead})}const o=async _=>{try{const w=Dl(ki,"books",_),T=await Tk(w);T.exists()&&d({...T.data(),id:T.id}),g("succeeded")}catch{g("failed")}},{id:a}=BI(),[c,d]=te.useState(""),[p,g]=te.useState("idle");return te.useEffect(()=>{p=="idle"&&o(a)},[]),$.jsx($.Fragment,{children:$.jsxs("div",{className:"container",children:[$.jsx(th,{to:"/",children:$.jsx("button",{className:"btn",children:" Back to Books"})}),c?$.jsxs("div",{children:[$.jsxs("div",{className:"single-book",children:[$.jsx("div",{className:"book-cover",children:$.jsx("img",{src:c.cover})}),$.jsxs("div",{className:"book-details",children:[$.jsx("h3",{className:"book-title",children:c.title}),$.jsx("h4",{className:"book-author",children:c.author}),$.jsx("p",{children:c.synopsis}),$.jsxs("div",{className:"read-checkbox",children:[$.jsx("input",{onClick:()=>{i({id:c.id,isRead:c.isRead})},type:"checkbox",defaultChecked:c.isRead}),$.jsx("label",{children:c.isRead?"Already Read It":"Haven't Read it yet"})]}),$.jsx("div",{onClick:()=>t(c.id),className:"erase-book",children:"Erase book"})]})]}),$.jsx(Jx,{bookId:a})]}):p=="succeeded"?$.jsx("div",{children:$.jsx("p",{children:"Book not found. Click the button above to go back to the list of books."})}):p=="failed"?$.jsx("div",{children:$.jsx("p",{children:"Error fetching the book."})}):$.jsx("div",{children:$.jsx("p",{children:"Loading..."})})]})})}function eO({bg:n}){return $.jsx($.Fragment,{children:$.jsx("div",{style:{backgroundColor:n||""},className:"full-page-loader",children:$.jsx("div",{className:"lds-dual-ring"})})})}function tO(){const n=qo(),[e,t]=te.useState(!0),[i,o]=te.useState("login"),[a,c]=te.useState(""),[d,p]=te.useState({});xN(Es,R=>{n(cp(R?{id:R.uid,email:R.email}:null)),e&&t(!1)});function g(R){p({...d,[R.target.name]:R.target.value})}function _(R){R.preventDefault(),c(""),CN(Es,d.email,d.password).catch(N=>{N.code,N.message,c(N.message)})}function w(R){R.preventDefault(),c(""),PN(Es,d.email,d.password).catch(N=>{c(N.message)})}function T(){const R=prompt("Please enter your email");RN(Es,R),alert("Email sent!! Check your inbox for password reset")}return $.jsxs($.Fragment,{children:[e&&$.jsx(eO,{}),$.jsx("div",{className:"container login-page",children:$.jsxs("section",{children:[$.jsx("h1",{children:"Welcome to the Book App"}),$.jsx("p",{children:"Login or create an account to continue"}),$.jsxs("div",{className:"login-type",children:[$.jsx("button",{className:`btn ${i=="login"?"selected":""}`,onClick:()=>o("login"),children:"Login"}),$.jsx("button",{className:`btn ${i=="signup"?"selected":""}`,onClick:()=>o("signup"),children:"Signup"})]}),$.jsxs("form",{className:"add-form login",children:[$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Email *"}),$.jsx("input",{onChange:R=>g(R),type:"text",name:"email",placeholder:"Enter your email"})]}),$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Password *"}),$.jsx("input",{onChange:R=>g(R),type:"password",name:"password",placeholder:"Enter your password"})]}),i=="login"?$.jsx("button",{onClick:R=>{w(R)},className:"active btn btn-block",children:"Login"}):$.jsx("button",{onClick:R=>{_(R)},className:"active btn btn-block",children:"Sign Up"}),a&&$.jsx("div",{className:"error",children:a}),$.jsx("p",{onClick:T,className:"forgot-password",children:"Forgot Password?"})]})]})})]})}function nO(){const n=qo(),e=hp();function t(o){o.preventDefault();const a={title:document.querySelector("input[name=title]").value,cover:document.querySelector("input[name=cover]").value,isRead:!1,author:document.querySelector("input[name=author]").value,synopsis:document.querySelector("textarea[name=synopsis]").value};a.title&&a.cover&&a.author?n(wc(a)).then(c=>{c.error?alert("An error occured"):(alert("Book created successfully!"),e("/"))}):alert("Please fill the mandatory fields.")}return $.jsx($.Fragment,{children:$.jsxs("div",{className:"container",children:[$.jsx(X0,{pageTitle:"Add Book"}),$.jsxs("form",{className:"add-form",children:[$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Title *"}),$.jsx("input",{type:"text",name:"title",placeholder:"Add Book Title"})]}),$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Book Cover *"}),$.jsx("input",{type:"text",name:"cover",placeholder:"Add Cover"})]}),$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Author *"}),$.jsx("input",{type:"text",name:"author",placeholder:"Add Author"})]}),$.jsxs("div",{className:"form-control",children:[$.jsx("label",{children:"Synopsis"}),$.jsx("textarea",{type:"text",name:"synopsis",placeholder:"Add a synopsis..."})]}),$.jsx("button",{onClick:o=>t(o),className:"btn btn-block",children:"Save Book"})]})]})})}function rO(){const n=xf(Qx);return $.jsx($.Fragment,{children:n.currentUser?$.jsx(hS,{children:$.jsxs(rS,{children:[$.jsx(lc,{index:!0,element:$.jsx(Xx,{})}),$.jsx(lc,{path:"add-book",element:$.jsx(nO,{})}),$.jsx(lc,{path:"book/:id",element:$.jsx(Zx,{})})]})}):$.jsx(tO,{})})}const iO=v1({reducer:{books:Kx,users:Yx}});dI.createRoot(document.getElementById("root")).render($.jsx(FS,{store:iO,children:$.jsx(rO,{})}));
